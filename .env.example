# Ultimate CA Manager - Configuration Template
# Copy this file to .env and customize

# === Application Settings ===
APP_NAME=Ultimate CA Manager
APP_VERSION=1.0.0
FLASK_ENV=production
DEBUG=false

# === Server Settings ===
# HTTPS is mandatory - these settings managed via web UI after first boot
HOST=0.0.0.0
HTTPS_PORT=8443
HTTP_REDIRECT=true

# === Database ===
DATABASE_PATH=data/ucm.db

# === Security ===
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here-change-this
JWT_SECRET_KEY=your-jwt-secret-here-change-this
JWT_ACCESS_TOKEN_EXPIRES=3600
JWT_REFRESH_TOKEN_EXPIRES=2592000

# === HTTPS Certificate (auto-generated on first run) ===
# These can be reconfigured via web UI
HTTPS_CERT_PATH=data/https_cert.pem
HTTPS_KEY_PATH=data/https_key.pem
HTTPS_AUTO_GENERATE=true

# === Initial Admin User ===
# Only used on first run, then managed via web UI
INITIAL_ADMIN_USERNAME=admin
INITIAL_ADMIN_PASSWORD=changeme123
INITIAL_ADMIN_EMAIL=admin@localhost

# === SCEP Configuration ===
SCEP_ENABLED=true
SCEP_CA_ID=1
SCEP_CHALLENGE_PASSWORD=change-this-password
SCEP_AUTO_APPROVE=false
SCEP_CERT_LIFETIME=365
SCEP_KEY_SIZE=2048
SCEP_RENEWAL_DAYS=30

# === OPNsense Import ===
# Configured via web UI, stored encrypted in database
# OPNSENSE_URL=https://network/
# OPNSENSE_USER=root
# OPNSENSE_PASSWORD=atomic:)

# === Rate Limiting ===
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# === Logging ===
LOG_LEVEL=INFO
LOG_FILE=data/ucm.log
AUDIT_LOG_FILE=data/audit.log

# === Backup ===
BACKUP_ENABLED=true
BACKUP_PATH=data/backups
BACKUP_RETENTION_DAYS=30
