import{j as s}from"./radix-B6Y-MRu0.js";import{a as d}from"./vendor-DEQSVNfj.js";import{l as k,d as h,g as B,q as C,B as z}from"./index-vswyqp58.js";function A({accept:x,multiple:m=!1,onUpload:p,maxSize:a=10*1024*1024,className:g}){const[b,i]=d.useState(!1),[r,n]=d.useState([]),[f,c]=d.useState(null),j=e=>{e.preventDefault(),i(!0)},y=()=>{i(!1)},v=e=>a&&e.size>a?`File size exceeds ${(a/1024/1024).toFixed(0)}MB`:null,u=e=>{c(null);const t=Array.from(e);for(const l of t){const o=v(l);if(o){c(o);return}}n(m?l=>[...l,...t]:t)},N=e=>{e.preventDefault(),i(!1),u(e.dataTransfer.files)},F=e=>{e.target.files&&u(e.target.files)},D=e=>{n(t=>t.filter((l,o)=>o!==e))},w=async()=>{if(r.length!==0)try{await p(r),n([])}catch(e){c(e.message)}};return s.jsxs("div",{className:h("space-y-4",g),children:[s.jsxs("div",{onDragOver:j,onDragLeave:y,onDrop:N,className:h("border-2 border-dashed rounded-xl p-8 text-center transition-all cursor-pointer",b?"border-accent-primary bg-accent-primary/10":"border-border hover:border-accent-primary/50"),children:[s.jsx("input",{type:"file",accept:x,multiple:m,onChange:F,className:"hidden",id:"file-upload"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[s.jsx(k,{size:48,className:"mx-auto mb-4 text-text-secondary",weight:"duotone"}),s.jsx("p",{className:"text-sm font-medium text-text-primary mb-1",children:"Drop files here or click to browse"}),s.jsxs("p",{className:"text-xs text-text-secondary",children:[x||"Any file"," â€¢ Max ",(a/1024/1024).toFixed(0),"MB"]})]})]}),f&&s.jsx("div",{className:"p-3 status-danger-bg status-danger-border border rounded-lg text-sm status-danger-text",children:f}),r.length>0&&s.jsxs("div",{className:"space-y-2",children:[r.map((e,t)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-bg-tertiary border border-border rounded-lg",children:[s.jsx(B,{size:20,className:"text-text-secondary flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-text-primary truncate",children:e.name}),s.jsxs("p",{className:"text-xs text-text-secondary",children:[(e.size/1024).toFixed(1)," KB"]})]}),s.jsx("button",{onClick:()=>D(t),className:"text-text-secondary hover:status-danger-text transition-colors flex-shrink-0",children:s.jsx(C,{size:16})})]},t)),s.jsxs(z,{onClick:w,className:"w-full",children:["Upload ",r.length," file",r.length>1?"s":""]})]})]})}export{A as F};
