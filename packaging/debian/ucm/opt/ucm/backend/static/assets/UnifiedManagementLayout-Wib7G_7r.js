import{j as e}from"./radix-B6Y-MRu0.js";import{a}from"./vendor-DEQSVNfj.js";import{u as I,d as l,q as G}from"./index-vswyqp58.js";import{g as J}from"./ui-bTlm5Mct.js";import{R as V}from"./ResponsiveDataTable-kYvH3TtM.js";import{U as W}from"./UnifiedPageHeader-Cbwye_R6.js";import{H as X}from"./HelpModal-BnkmCwhU.js";import{B as ee}from"./Badge-CZ5NzBfK.js";import{s as se}from"./ArrowLeft.es-CZcTzWfI.js";function pe({title:o,subtitle:b,icon:m,tabs:Y,activeTab:p,onTabChange:h,stats:u=[],data:d=[],columns:j=[],loading:v=!1,selectedItem:s,onSelectItem:i,idKey:g="id",renderDetails:c,detailsTitle:f,actions:y,rowActions:N,searchable:w=!0,searchPlaceholder:k,searchKeys:C,sortable:z=!0,defaultSort:H,paginated:re=!0,pageSize:le=25,pageSizeOptions:ie=[10,25,50,100],columnToggle:ae=!0,filters:M=[],emptyIcon:R,emptyTitle:O,emptyDescription:B,emptyAction:D,helpContent:t,helpTitle:F,splitView:Z=!1,splitEmptyContent:_,className:U}){const{isMobile:n,isLargeScreen:$}=I(),[E,x]=a.useState(!1),[L,q]=a.useState(!1);a.useEffect(()=>{n&&s&&q(!0)},[n,s]);const T=a.useCallback(()=>{q(!1),setTimeout(()=>i?.(null),300)},[i]),P=a.useCallback(r=>{i?.(r)},[i]),Q=a.useCallback(()=>{i?.(null)},[i]),S=Y?.map(r=>({id:r.id,label:r.label,icon:r.icon,badge:r.pro?{label:"Pro",variant:"info"}:void 0})),A=()=>u.length>0?e.jsx("div",{className:l("flex flex-wrap gap-3 sm:gap-4 border-b border-border bg-bg-secondary/50",n?"px-4 py-2":"px-6 py-2"),children:u.map((r,K)=>e.jsxs("div",{className:"flex items-center gap-2",children:[r.icon&&e.jsx(r.icon,{size:14,className:"text-text-tertiary"}),e.jsxs("span",{className:"text-xs text-text-tertiary",children:[r.label,":"]}),e.jsx(ee,{variant:r.variant||"secondary",size:"sm",children:r.value})]},K))}):null;return n?e.jsxs("div",{className:l("flex flex-col h-full w-full",U),children:[e.jsxs("div",{className:l("fixed inset-0 z-50 bg-bg-primary flex flex-col transition-transform duration-300 ease-out",L?"translate-x-0":"translate-x-full"),children:[e.jsxs("div",{className:"px-4 py-3 border-b border-border bg-bg-secondary flex items-center gap-3 shrink-0",children:[e.jsx("button",{onClick:T,className:"p-1.5 -ml-1.5 rounded-md hover:bg-bg-tertiary text-text-secondary hover:text-text-primary transition-colors",children:e.jsx(se,{size:20})}),e.jsx("h2",{className:"text-base font-semibold text-text-primary flex-1 truncate",children:f||"Details"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:s&&c?.(s)})]}),e.jsxs("div",{className:l("flex flex-col h-full transition-opacity duration-300",L?"opacity-50":"opacity-100"),children:[e.jsx(W,{icon:m,title:o,subtitle:b,tabs:S,activeTab:p,onTabChange:h,showHelp:!!t,onHelpClick:()=>x(!0),isMobile:!0}),e.jsx(A,{}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(V,{data:d,columns:j,loading:v,onRowClick:P,selectedId:s?.[g],rowActions:N,searchable:w,searchPlaceholder:k,searchKeys:C,toolbarFilters:M,toolbarActions:y,sortable:z,defaultSort:H,emptyIcon:R,emptyTitle:O,emptyDescription:B,emptyAction:D})})]}),e.jsx(X,{open:E,onClose:()=>x(!1),title:F||J(o),children:t})]}):e.jsxs("div",{className:l("flex h-full w-full",U),children:[e.jsxs("div",{className:l("flex-1 flex flex-col min-w-0 min-h-0 transition-all duration-300",s?"pr-0":""),children:[e.jsx(W,{icon:m,title:o,subtitle:b,tabs:S,activeTab:p,onTabChange:h,showHelp:!!t,onHelpClick:()=>x(!0),isMobile:!1}),e.jsx(A,{}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(V,{data:d,columns:j,loading:v,onRowClick:P,selectedId:s?.[g],rowActions:N,searchable:w,searchPlaceholder:k,searchKeys:C,toolbarFilters:M,toolbarActions:y,sortable:z,defaultSort:H,emptyIcon:R,emptyTitle:O,emptyDescription:B,emptyAction:D})})]}),Z&&$?d.length>0?e.jsx("div",{className:l("border-l border-border bg-bg-secondary/30 flex flex-col shrink-0 overflow-hidden","w-96 xl:w-[420px] 2xl:w-[480px]"),children:s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between shrink-0",children:[e.jsx("h2",{className:"text-sm font-semibold text-text-primary",children:f||"Details"}),e.jsx("button",{onClick:Q,className:"p-1 rounded hover:bg-bg-tertiary text-text-tertiary hover:text-text-primary transition-colors",children:e.jsx(G,{size:16})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:c?.(s)})]}):_||e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 text-center",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-bg-tertiary flex items-center justify-center mb-3",children:e.jsx(Question,{size:24,className:"text-text-tertiary"})}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Select an item to view details"})]})}):null:e.jsx("div",{className:l("border-l border-border bg-bg-secondary flex flex-col shrink-0 transition-all duration-300 overflow-hidden",s?"w-96 xl:w-[420px] 2xl:w-[480px]":"w-0 border-l-0"),children:s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-4 py-3 border-b border-border flex items-center justify-between shrink-0",children:[e.jsx("h2",{className:"text-sm font-semibold text-text-primary",children:f||"Details"}),e.jsx("button",{onClick:Q,className:"p-1 rounded hover:bg-bg-tertiary text-text-tertiary hover:text-text-primary transition-colors",children:e.jsx(G,{size:16})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:c?.(s)})]})}),e.jsx(X,{open:E,onClose:()=>x(!1),title:F||J(o),children:t})]})}export{pe as U};
