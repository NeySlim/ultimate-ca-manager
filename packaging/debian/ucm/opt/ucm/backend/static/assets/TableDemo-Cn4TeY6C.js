import{j as e}from"./radix-B6Y-MRu0.js";import{a as t}from"./vendor-DEQSVNfj.js";import{G as D,u as Oe,d as g,A as he,q as Re,B as Be,M as qe,m as me}from"./index-vswyqp58.js";import{s as Ge}from"./Download.es-Bp_lE9WD.js";import{a as Qe}from"./PencilSimple.es-CJefJBPq.js";import{n as We}from"./Trash.es-DhgoD9TD.js";import{B as ue}from"./Badge-CZ5NzBfK.js";import{s as Je}from"./CaretDown.es-DuThAI6u.js";import{a as be,s as Ue}from"./CaretUp.es-CYK8cpGg.js";import{s as K}from"./CaretRight.es-B3hFfvz_.js";const Xe=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L137,128ZM57,128l71.52-71.51a12,12,0,0,0-17-17l-80,80a12,12,0,0,0,0,17l80,80a12,12,0,0,0,17-17Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M200,48V208l-80-80Z",opacity:"0.2"}),t.createElement("path",{d:"M203.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,208,208V48A8,8,0,0,0,203.06,40.61ZM192,188.69,131.31,128,192,67.31Zm-66.34,13.65a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L51.31,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M208,48V208a8,8,0,0,1-13.66,5.66L128,147.31V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,128,48v60.69l66.34-66.35A8,8,0,0,1,208,48Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M204.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L128.49,128ZM48.49,128l75.75-75.76a6,6,0,0,0-8.48-8.48l-80,80a6,6,0,0,0,0,8.48l80,80a6,6,0,1,0,8.48-8.48Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M205.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L131.31,128ZM51.31,128l74.35-74.34a8,8,0,0,0-11.32-11.32l-80,80a8,8,0,0,0,0,11.32l80,80a8,8,0,0,0,11.32-11.32Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M202.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L125.66,128ZM45.66,128l77.17-77.17a4,4,0,0,0-5.66-5.66l-80,80a4,4,0,0,0,0,5.66l80,80a4,4,0,1,0,5.66-5.66Z"}))]]),Ye=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M144.49,136.49l-80,80a12,12,0,0,1-17-17L119,128,47.51,56.49a12,12,0,0,1,17-17l80,80A12,12,0,0,1,144.49,136.49Zm80-17-80-80a12,12,0,1,0-17,17L199,128l-71.52,71.51a12,12,0,0,0,17,17l80-80A12,12,0,0,0,224.49,119.51Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M136,128,56,208V48Z",opacity:"0.2"}),t.createElement("path",{d:"M141.66,122.34l-80-80A8,8,0,0,0,48,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,141.66,122.34ZM64,188.69V67.31L124.69,128Zm157.66-55-80,80a8,8,0,0,1-11.32-11.32L204.69,128,130.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,221.66,133.66Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M221.66,133.66l-80,80A8,8,0,0,1,128,208V147.31L61.66,213.66A8,8,0,0,1,48,208V48a8,8,0,0,1,13.66-5.66L128,108.69V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,221.66,133.66Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M140.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L127.51,128,51.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,140.24,132.24Zm80-8.48-80-80a6,6,0,0,0-8.48,8.48L207.51,128l-75.75,75.76a6,6,0,1,0,8.48,8.48l80-80A6,6,0,0,0,220.24,123.76Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M141.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L124.69,128,50.34,53.66A8,8,0,0,1,61.66,42.34l80,80A8,8,0,0,1,141.66,133.66Zm80-11.32-80-80a8,8,0,0,0-11.32,11.32L204.69,128l-74.35,74.34a8,8,0,0,0,11.32,11.32l80-80A8,8,0,0,0,221.66,122.34Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M138.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L130.34,128,53.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,138.83,130.83Zm80-5.66-80-80a4,4,0,0,0-5.66,5.66L210.34,128l-77.17,77.17a4,4,0,0,0,5.66,5.66l80-80A4,4,0,0,0,218.83,125.17Z"}))]]),Ke=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M100,28H64A20,20,0,0,0,44,48V208a20,20,0,0,0,20,20h36a20,20,0,0,0,20-20V48A20,20,0,0,0,100,28ZM96,204H68V52H96ZM192,28H156a20,20,0,0,0-20,20V208a20,20,0,0,0,20,20h36a20,20,0,0,0,20-20V48A20,20,0,0,0,192,28Zm-4,176H160V52h28Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M112,48V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8h40A8,8,0,0,1,112,48Zm80-8H152a8,8,0,0,0-8,8V208a8,8,0,0,0,8,8h40a8,8,0,0,0,8-8V48A8,8,0,0,0,192,40Z",opacity:"0.2"}),t.createElement("path",{d:"M104,32H64A16,16,0,0,0,48,48V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,104,32Zm0,176H64V48h40ZM192,32H152a16,16,0,0,0-16,16V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,192,32Zm0,176H152V48h40Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M120,48V208a16,16,0,0,1-16,16H64a16,16,0,0,1-16-16V48A16,16,0,0,1,64,32h40A16,16,0,0,1,120,48Zm72-16H152a16,16,0,0,0-16,16V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,192,32Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M104,34H64A14,14,0,0,0,50,48V208a14,14,0,0,0,14,14h40a14,14,0,0,0,14-14V48A14,14,0,0,0,104,34Zm2,174a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2h40a2,2,0,0,1,2,2ZM192,34H152a14,14,0,0,0-14,14V208a14,14,0,0,0,14,14h40a14,14,0,0,0,14-14V48A14,14,0,0,0,192,34Zm2,174a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V48a2,2,0,0,1,2-2h40a2,2,0,0,1,2,2Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M104,32H64A16,16,0,0,0,48,48V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,104,32Zm0,176H64V48h40ZM192,32H152a16,16,0,0,0-16,16V208a16,16,0,0,0,16,16h40a16,16,0,0,0,16-16V48A16,16,0,0,0,192,32Zm0,176H152V48h40Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M104,36H64A12,12,0,0,0,52,48V208a12,12,0,0,0,12,12h40a12,12,0,0,0,12-12V48A12,12,0,0,0,104,36Zm4,172a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4h40a4,4,0,0,1,4,4ZM192,36H152a12,12,0,0,0-12,12V208a12,12,0,0,0,12,12h40a12,12,0,0,0,12-12V48A12,12,0,0,0,192,36Zm4,172a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V48a4,4,0,0,1,4-4h40a4,4,0,0,1,4,4Z"}))]]),Pe=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z",opacity:"0.2"}),t.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"}))]]),et=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M251,123.13c-.37-.81-9.13-20.26-28.48-39.61C196.63,57.67,164,44,128,44S59.37,57.67,33.51,83.52C14.16,102.87,5.4,122.32,5,123.13a12.08,12.08,0,0,0,0,9.75c.37.82,9.13,20.26,28.49,39.61C59.37,198.34,92,212,128,212s68.63-13.66,94.48-39.51c19.36-19.35,28.12-38.79,28.49-39.61A12.08,12.08,0,0,0,251,123.13Zm-46.06,33C183.47,177.27,157.59,188,128,188s-55.47-10.73-76.91-31.88A130.36,130.36,0,0,1,29.52,128,130.45,130.45,0,0,1,51.09,99.89C72.54,78.73,98.41,68,128,68s55.46,10.73,76.91,31.89A130.36,130.36,0,0,1,226.48,128,130.45,130.45,0,0,1,204.91,156.12ZM128,84a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,84Zm0,64a20,20,0,1,1,20-20A20,20,0,0,1,128,148Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,56C48,56,16,128,16,128s32,72,112,72,112-72,112-72S208,56,128,56Zm0,112a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z",opacity:"0.2"}),t.createElement("path",{d:"M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.46,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,168a40,40,0,1,1,40-40A40,40,0,0,1,128,168Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M245.48,125.57c-.34-.78-8.66-19.23-27.24-37.81C201,70.54,171.38,50,128,50S55,70.54,37.76,87.76c-18.58,18.58-26.9,37-27.24,37.81a6,6,0,0,0,0,4.88c.34.77,8.66,19.22,27.24,37.8C55,185.47,84.62,206,128,206s73-20.53,90.24-37.75c18.58-18.58,26.9-37,27.24-37.8A6,6,0,0,0,245.48,125.57ZM128,194c-31.38,0-58.78-11.42-81.45-33.93A134.77,134.77,0,0,1,22.69,128,134.56,134.56,0,0,1,46.55,95.94C69.22,73.42,96.62,62,128,62s58.78,11.42,81.45,33.94A134.56,134.56,0,0,1,233.31,128C226.94,140.21,195,194,128,194Zm0-112a46,46,0,1,0,46,46A46.06,46.06,0,0,0,128,82Zm0,80a34,34,0,1,1,34-34A34,34,0,0,1,128,162Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.46,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M243.66,126.38c-.34-.76-8.52-18.89-26.83-37.2C199.87,72.22,170.7,52,128,52S56.13,72.22,39.17,89.18c-18.31,18.31-26.49,36.44-26.83,37.2a4.08,4.08,0,0,0,0,3.25c.34.77,8.52,18.89,26.83,37.2,17,17,46.14,37.17,88.83,37.17s71.87-20.21,88.83-37.17c18.31-18.31,26.49-36.43,26.83-37.2A4.08,4.08,0,0,0,243.66,126.38Zm-32.7,35c-23.07,23-51,34.62-83,34.62s-59.89-11.65-83-34.62A135.71,135.71,0,0,1,20.44,128,135.69,135.69,0,0,1,45,94.62C68.11,71.65,96,60,128,60s59.89,11.65,83,34.62A135.79,135.79,0,0,1,235.56,128,135.71,135.71,0,0,1,211,161.38ZM128,84a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,84Zm0,80a36,36,0,1,1,36-36A36,36,0,0,1,128,164Z"}))]]),ge=t.forwardRef((s,r)=>t.createElement(D,{ref:r,...s,weights:Xe}));ge.displayName="CaretDoubleLeftIcon";const tt=ge,ye=t.forwardRef((s,r)=>t.createElement(D,{ref:r,...s,weights:Ye}));ye.displayName="CaretDoubleRightIcon";const at=ye,fe=t.forwardRef((s,r)=>t.createElement(D,{ref:r,...s,weights:Ke}));fe.displayName="ColumnsIcon";const rt=fe,je=t.forwardRef((s,r)=>t.createElement(D,{ref:r,...s,weights:Pe}));je.displayName="DotsThreeIcon";const st=je,Ne=t.forwardRef((s,r)=>t.createElement(D,{ref:r,...s,weights:et}));Ne.displayName="EyeIcon";const nt=Ne;function lt({data:s=[],columns:r=[],selectable:c=!1,multiSelect:m=!1,selectedRows:d=[],onSelectionChange:y,paginated:f=!0,pageSize:u=10,pageSizeOptions:Z=[10,25,50,100],searchable:h=!0,searchPlaceholder:C="Search...",searchKeys:M=[],filters:T=[],sortable:S=!0,defaultSort:P=null,columnToggle:B=!0,hierarchical:j=!1,parentKey:p="parent_id",childrenKey:E="children",expandedRows:ee=null,defaultExpanded:Ae=!0,indentWidth:Ze=24,variant:Ee="default",stickyHeader:Ce=!0,onRowClick:_,rowActions:w,emptyIcon:te,emptyTitle:ae="No data",emptyDescription:re="No items to display",emptyAction:se,loading:ne=!1,rowClassName:q,className:le}){const{isMobile:Me}=Oe(),[I,G]=t.useState(1),[V,ke]=t.useState(u),[F,ie]=t.useState(""),[A,Se]=t.useState(P),[Q,we]=t.useState(r.filter(a=>a.visible!==!1).map(a=>a.key)),[Ve,Fe]=t.useState(!1),[_e,He]=t.useState(!1),[N,W]=t.useState(d),[H,ze]=t.useState({}),[z,$e]=t.useState(ee!==null?ee:Ae?"all":new Set);t.useEffect(()=>{W(d)},[d]);const J=t.useMemo(()=>{if(!j)return null;if(s.some(n=>n[E]?.length>0))return s.filter(n=>!n[p]);const a=new Map,i=[];return s.forEach(n=>{a.set(n.id,{...n,_children:[],_level:0})}),s.forEach(n=>{const l=a.get(n.id),x=n[p];if(x&&a.has(x)){const b=a.get(x);b._children.push(l),l._level=b._level+1,l._parent=b}else i.push(l)}),i},[s,j,p,E]),U=t.useMemo(()=>{if(!j||!J)return null;const a=[],i=l=>[...l].sort((x,b)=>{if(x.type!==b.type)return x.type==="root"?-1:1;const o=x.name||x.descr||"",k=b.name||b.descr||"";return o.localeCompare(k)}),n=(l,x=0)=>{i(l).forEach(o=>{const k={...o,_level:x,_hasChildren:o._children?.length>0};a.push(k),(z==="all"||z.has?.(o.id))&&o._children?.length>0&&n(o._children,x+1)})};return n(J),a},[J,j,z]),ce=j&&U?U:s,O=t.useMemo(()=>{let a=ce;if(F.trim()){const i=F.toLowerCase(),n=M.length>0?M:r.map(l=>l.key);a=a.filter(l=>n.some(x=>{const b=l[x];return b==null?!1:String(b).toLowerCase().includes(i)}))}return Object.keys(H).length>0&&(a=a.filter(i=>Object.entries(H).every(([n,l])=>{if(l===""||l==="all")return!0;const x=i[n];return typeof x=="boolean"?String(x)===String(l):x===l}))),a},[ce,F,M,r,H]),$=t.useMemo(()=>j||!A?O:[...O].sort((a,i)=>{const n=a[A.key],l=i[A.key];if(n==null)return 1;if(l==null)return-1;const b=r.find(k=>k.key===A.key)?.sortType||"string";let o=0;return b==="number"?o=Number(n)-Number(l):b==="date"?o=new Date(n)-new Date(l):o=String(n).localeCompare(String(l)),A.direction==="desc"?-o:o}),[O,A,r,j]),v=t.useMemo(()=>{if(!f)return $;const a=(I-1)*V;return $.slice(a,a+V)},[$,I,V,f]),X=Math.ceil($.length/V);t.useEffect(()=>{G(1)},[F,V,H]);const Le=(a,i)=>{ze(n=>({...n,[a]:i}))},De=a=>{$e(i=>{if(i==="all"){const l=new Set(U.filter(x=>x._hasChildren).map(x=>x.id));return l.delete(a),l}const n=new Set(i);return n.has(a)?n.delete(a):n.add(a),n})},Te=a=>{!S||r.find(n=>n.key===a)?.sortable===!1||Se(n=>{if(n?.key===a){if(n.direction==="asc")return{key:a,direction:"desc"};if(n.direction==="desc")return null}return{key:a,direction:"asc"}})},Y=a=>{if(!c)return;let i;m?i=N.some(l=>l.id===a.id)?N.filter(l=>l.id!==a.id):[...N,a]:i=[a],W(i),y?.(i)},Ie=()=>{if(!m)return;const a=v.every(n=>N.some(l=>l.id===n.id));let i;a?i=N.filter(n=>!v.some(l=>l.id===n.id)):i=[...N.filter(n=>!v.some(l=>l.id===n.id)),...v],W(i),y?.(i)},oe=a=>{we(i=>i.includes(a)?i.filter(n=>n!==a):[...i,a])},L=r.filter(a=>Q.includes(a.key)),R={default:{header:"bg-bg-tertiary/40",headerCell:"py-2.5 px-3 text-xs font-semibold text-text-secondary uppercase tracking-wider",row:"table-row-hover",cell:"py-2.5 px-3 text-sm"},compact:{header:"bg-bg-tertiary/40",headerCell:"py-2 px-3 text-xs font-semibold text-text-secondary uppercase tracking-wider",row:"table-row-hover",cell:"py-1.5 px-3 text-sm"},striped:{header:"bg-bg-tertiary/40",headerCell:"py-2.5 px-3 text-xs font-semibold text-text-secondary uppercase tracking-wider",row:"even:bg-bg-tertiary/20 table-row-hover",cell:"py-2.5 px-3 text-sm"}}[Ee];return Me?e.jsxs("div",{className:g("flex flex-col h-full",le),children:[e.jsx(dt,{searchable:h,searchQuery:F,onSearchChange:ie,searchPlaceholder:C,columnToggle:B,columns:r,visibleColumns:Q,onToggleColumn:oe}),e.jsx("div",{className:"flex-1 overflow-auto p-3 space-y-2",children:ne?e.jsx(xe,{}):v.length===0?e.jsx(pe,{icon:te,title:ae,description:re,action:se}):v.map((a,i)=>e.jsx(mt,{row:a,columns:L,selected:N.some(n=>n.id===a.id),selectable:c,onSelect:()=>Y(a),onClick:_?()=>_(a):void 0,actions:w?.(a)},a.id||i))}),f&&X>1&&e.jsx(xt,{currentPage:I,totalPages:X,onPageChange:G})]}):e.jsxs("div",{className:g("flex flex-col h-full",le),children:[e.jsx(it,{searchable:h,searchQuery:F,onSearchChange:ie,searchPlaceholder:C,columnToggle:B,columns:r,visibleColumns:Q,onToggleColumn:oe,showColumnMenu:Ve,setShowColumnMenu:Fe,selectedCount:N.length,filters:T,activeFilters:H,onFilterChange:Le,showFiltersMenu:_e,setShowFiltersMenu:He}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:g(R.header,Ce&&"sticky top-0 z-10 backdrop-blur-sm"),children:e.jsxs("tr",{className:"border-b border-border",children:[c&&e.jsx("th",{className:"w-10 px-3 py-2.5",children:m&&e.jsx("input",{type:"checkbox",checked:v.length>0&&v.every(a=>N.some(i=>i.id===a.id)),onChange:Ie,className:"w-4 h-4 rounded border-border bg-bg-primary accent-accent-primary"})}),L.map(a=>e.jsx("th",{className:g(R.headerCell,S&&a.sortable!==!1&&"cursor-pointer select-none hover:text-text-primary transition-colors",a.width&&`w-[${a.width}]`,a.align==="center"&&"text-center",a.align==="right"&&"text-right"),onClick:()=>Te(a.key),children:e.jsxs("div",{className:g("flex items-center gap-1.5",a.align==="center"&&"justify-center",a.align==="right"&&"justify-end"),children:[a.header||a.key,S&&a.sortable!==!1&&e.jsx(ot,{active:A?.key===a.key,direction:A?.key===a.key?A.direction:null})]})},a.key)),w&&e.jsx("th",{className:"w-12"})]})}),e.jsx("tbody",{children:ne?e.jsx("tr",{children:e.jsx("td",{colSpan:L.length+(c?1:0)+(w?1:0),children:e.jsx(xe,{})})}):v.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:L.length+(c?1:0)+(w?1:0),children:e.jsx(pe,{icon:te,title:ae,description:re,action:se})})}):v.map((a,i)=>{const n=N.some(o=>o.id===a.id),l=j&&a._level||0,x=j&&a._hasChildren,b=z==="all"||z.has?.(a.id);return e.jsxs("tr",{className:g("border-b border-border/50 transition-colors",R.row,n&&"selected",_&&"cursor-pointer",typeof q=="function"?q(a):q),onClick:()=>{c&&!_&&Y(a),_?.(a)},children:[c&&e.jsx("td",{className:"w-10 px-3",onClick:o=>o.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:n,onChange:()=>Y(a),className:"w-4 h-4 rounded border-border bg-bg-primary accent-accent-primary"})}),L.map((o,k)=>e.jsx("td",{className:g("text-text-primary",R.cell,o.align==="center"&&"text-center",o.align==="right"&&"text-right"),children:j&&k===0?e.jsxs("div",{className:"flex items-center",style:{paddingLeft:l*Ze},children:[x?e.jsx("button",{onClick:de=>{de.stopPropagation(),De(a.id)},className:"p-0.5 mr-1 rounded hover:bg-bg-tertiary text-text-secondary",children:e.jsx(K,{size:14,className:g("transition-transform duration-150",b&&"rotate-90")})}):e.jsx("span",{className:"w-5 mr-1"}),o.render?o.render(a[o.key],a):a[o.key]]}):o.render?o.render(a[o.key],a):a[o.key]},o.key)),w&&e.jsx("td",{className:"w-12 px-2",onClick:o=>o.stopPropagation(),children:e.jsx(ve,{actions:w(a)})})]},a.id||i)})})]})}),f&&e.jsx(ct,{currentPage:I,totalPages:X,pageSize:V,pageSizeOptions:Z,totalItems:$.length,onPageChange:G,onPageSizeChange:ke})]})}function it({searchable:s,searchQuery:r,onSearchChange:c,searchPlaceholder:m,columnToggle:d,columns:y,visibleColumns:f,onToggleColumn:u,showColumnMenu:Z,setShowColumnMenu:h,selectedCount:C,filters:M=[],activeFilters:T={},onFilterChange:S,showFiltersMenu:P,setShowFiltersMenu:B}){const j=Object.values(T).filter(p=>p&&p!=="all").length;return e.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 border-b border-border bg-bg-secondary/50",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s&&e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(he,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-tertiary"}),e.jsx("input",{type:"text",placeholder:m,value:r,onChange:p=>c(p.target.value),className:`w-full pl-9 pr-3 py-2 text-sm bg-bg-tertiary border border-border rounded-lg 
                focus:outline-none focus:border-accent-primary text-text-primary placeholder:text-text-tertiary`}),r&&e.jsx("button",{onClick:()=>c(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 hover:bg-bg-primary rounded",children:e.jsx(Re,{size:14,className:"text-text-tertiary"})})]}),M.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[M.map(p=>e.jsxs("select",{value:T[p.key]||"all",onChange:E=>S(p.key,E.target.value),className:`bg-bg-tertiary border border-border rounded-lg px-2.5 py-1.5 text-sm text-text-primary 
                  focus:outline-none focus:border-accent-primary cursor-pointer`,children:[e.jsxs("option",{value:"all",children:[p.label,": All"]}),p.options.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))]},p.key)),j>0&&e.jsx("button",{onClick:()=>M.forEach(p=>S(p.key,"all")),className:"text-xs text-accent-primary hover:text-accent-primary/80 px-2",children:"Clear filters"})]}),C>0&&e.jsxs(ue,{variant:"primary",children:[C," selected"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:d&&e.jsxs("div",{className:"relative",children:[e.jsxs(Be,{variant:"ghost",size:"sm",onClick:()=>h(!Z),className:"gap-1.5",children:[e.jsx(rt,{size:16}),"Columns"]}),Z&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),e.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-bg-secondary border border-border rounded-lg shadow-xl z-50 py-1",children:y.map(p=>e.jsxs("button",{onClick:()=>u(p.key),className:"w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-bg-tertiary",children:[e.jsx("div",{className:g("w-4 h-4 rounded border flex items-center justify-center",f.includes(p.key)?"bg-accent-primary border-accent-primary":"border-border"),children:f.includes(p.key)&&e.jsx(qe,{size:12,className:"text-white",weight:"bold"})}),p.header||p.key]},p.key))})]})]})})]})}function ct({currentPage:s,totalPages:r,pageSize:c,pageSizeOptions:m,totalItems:d,onPageChange:y,onPageSizeChange:f}){const u=(s-1)*c+1,Z=Math.min(s*c,d);return e.jsxs("div",{className:"flex items-center justify-between gap-4 px-4 py-3 border-t border-border bg-bg-secondary/50",children:[e.jsxs("div",{className:"text-sm text-text-secondary",children:["Showing ",e.jsx("span",{className:"font-medium text-text-primary",children:u})," to"," ",e.jsx("span",{className:"font-medium text-text-primary",children:Z})," of"," ",e.jsx("span",{className:"font-medium text-text-primary",children:d})," results"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-text-secondary",children:"Rows:"}),e.jsx("select",{value:c,onChange:h=>f(Number(h.target.value)),className:"bg-bg-tertiary border border-border rounded px-2 py-1 text-sm text-text-primary focus:outline-none focus:border-accent-primary",children:m.map(h=>e.jsx("option",{value:h,children:h},h))})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>y(1),disabled:s===1,className:"p-1.5 rounded hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed text-text-secondary hover:text-text-primary",children:e.jsx(tt,{size:16})}),e.jsx("button",{onClick:()=>y(s-1),disabled:s===1,className:"p-1.5 rounded hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed text-text-secondary hover:text-text-primary",children:e.jsx(be,{size:16})}),e.jsx("div",{className:"flex items-center gap-1 mx-2",children:pt(s,r).map((h,C)=>h==="..."?e.jsx("span",{className:"px-2 text-text-tertiary",children:"..."},`ellipsis-${C}`):e.jsx("button",{onClick:()=>y(h),className:g("w-8 h-8 rounded text-sm font-medium transition-colors",h===s?"bg-accent-primary text-white":"hover:bg-bg-tertiary text-text-secondary hover:text-text-primary"),children:h},h))}),e.jsx("button",{onClick:()=>y(s+1),disabled:s===r,className:"p-1.5 rounded hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed text-text-secondary hover:text-text-primary",children:e.jsx(K,{size:16})}),e.jsx("button",{onClick:()=>y(r),disabled:s===r,className:"p-1.5 rounded hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed text-text-secondary hover:text-text-primary",children:e.jsx(at,{size:16})})]})]})}function ot({active:s,direction:r}){return e.jsxs("span",{className:g("flex flex-col",!s&&"opacity-30"),children:[e.jsx(Ue,{size:10,weight:"bold",className:g("-mb-0.5",s&&r==="asc"?"text-accent-primary":"text-text-tertiary")}),e.jsx(Je,{size:10,weight:"bold",className:g(s&&r==="desc"?"text-accent-primary":"text-text-tertiary")})]})}function ve({actions:s}){const[r,c]=t.useState(!1);return!s||s.length===0?null:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>c(!r),className:"p-1.5 rounded hover:bg-bg-tertiary text-text-secondary hover:text-text-primary",children:e.jsx(st,{size:18,weight:"bold"})}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),e.jsx("div",{className:"absolute right-0 top-full mt-1 w-40 bg-bg-secondary border border-border rounded-lg shadow-xl z-50 py-1",children:s.map((m,d)=>e.jsxs("button",{onClick:()=>{c(!1),m.onClick?.()},disabled:m.disabled,className:g("w-full px-3 py-2 text-left text-sm flex items-center gap-2 hover:bg-bg-tertiary transition-colors",m.variant==="danger"&&"status-danger-text hover:status-danger-bg",m.disabled&&"opacity-50 cursor-not-allowed"),children:[m.icon&&e.jsx(m.icon,{size:14}),m.label]},d))})]})]})}function dt({searchable:s,searchQuery:r,onSearchChange:c,searchPlaceholder:m,columnToggle:d,columns:y,visibleColumns:f,onToggleColumn:u}){return e.jsx("div",{className:"p-3 border-b border-border bg-bg-secondary/50",children:s&&e.jsxs("div",{className:"relative",children:[e.jsx(he,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-tertiary"}),e.jsx("input",{type:"text",placeholder:m,value:r,onChange:Z=>c(Z.target.value),className:`w-full pl-9 pr-3 py-2 text-sm bg-bg-tertiary border border-border rounded-lg 
              focus:outline-none focus:border-accent-primary text-text-primary placeholder:text-text-tertiary`})]})})}function mt({row:s,columns:r,selected:c,selectable:m,onSelect:d,onClick:y,actions:f}){return e.jsxs("div",{className:g("p-3 rounded-lg border transition-colors",c?"bg-accent-primary/10 border-accent-primary/30":"bg-bg-secondary border-border",y&&"cursor-pointer active:scale-[0.99]"),onClick:y,children:[e.jsx("div",{className:"space-y-2",children:r.slice(0,4).map(u=>e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsx("span",{className:"text-xs text-text-tertiary uppercase",children:u.header||u.key}),e.jsx("span",{className:"text-sm text-text-primary text-right",children:u.render?u.render(s[u.key],s):s[u.key]})]},u.key))}),(m||f)&&e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border/50",children:[m&&e.jsx("button",{onClick:u=>{u.stopPropagation(),d()},className:g("px-3 py-1 rounded text-xs font-medium",c?"bg-accent-primary text-white":"bg-bg-tertiary text-text-secondary"),children:c?"Selected":"Select"}),f&&e.jsx(ve,{actions:f})]})]})}function xt({currentPage:s,totalPages:r,onPageChange:c}){return e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-border bg-bg-secondary/50",children:[e.jsxs("button",{onClick:()=>c(s-1),disabled:s===1,className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-bg-tertiary text-sm text-text-secondary disabled:opacity-30",children:[e.jsx(be,{size:14})," Prev"]}),e.jsxs("span",{className:"text-sm text-text-secondary",children:[s," / ",r]}),e.jsxs("button",{onClick:()=>c(s+1),disabled:s===r,className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-bg-tertiary text-sm text-text-secondary disabled:opacity-30",children:["Next ",e.jsx(K,{size:14})]})]})}function xe(){return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-accent-primary border-t-transparent"})})}function pe({icon:s,title:r,description:c,action:m}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[s&&e.jsx("div",{className:"w-16 h-16 rounded-full bg-bg-tertiary flex items-center justify-center mb-4",children:e.jsx(s,{size:32,className:"text-text-tertiary"})}),e.jsx("h3",{className:"text-lg font-medium text-text-primary mb-1",children:r}),e.jsx("p",{className:"text-sm text-text-secondary mb-4",children:c}),m]})}function pt(s,r){return r<=7?Array.from({length:r},(c,m)=>m+1):s<=3?[1,2,3,4,5,"...",r]:s>=r-2?[1,"...",r-4,r-3,r-2,r-1,r]:[1,"...",s-1,s,s+1,"...",r]}const ht=Array.from({length:47},(s,r)=>({id:r+1,common_name:`cert-${r+1}.example.com`,issuer:r%3===0?"Root CA":"Intermediate CA",status:["valid","valid","valid","expiring","expired"][r%5],valid_from:new Date(2024,0,1+r).toISOString(),valid_to:new Date(2025,0,1+r*30).toISOString(),key_type:r%2===0?"RSA 2048":"EC P-256",serial:`${Math.random().toString(16).slice(2,10)}...`}));function Ct(){const[s,r]=t.useState([]),c=[{key:"common_name",header:"Common Name",render:d=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{size:16,className:"text-accent-primary"}),e.jsx("span",{className:"font-medium",children:d})]})},{key:"issuer",header:"Issuer"},{key:"status",header:"Status",render:d=>e.jsx(ue,{variant:d==="valid"?"success":d==="expiring"?"warning":"danger",children:d})},{key:"valid_to",header:"Expires",sortType:"date",render:d=>new Date(d).toLocaleDateString()},{key:"key_type",header:"Key Type"},{key:"serial",header:"Serial",visible:!1}],m=d=>[{label:"View",icon:nt,onClick:()=>alert(`View ${d.common_name}`)},{label:"Download",icon:Ge,onClick:()=>alert(`Download ${d.common_name}`)},{label:"Edit",icon:Qe,onClick:()=>alert(`Edit ${d.common_name}`)},{label:"Delete",icon:We,variant:"danger",onClick:()=>alert(`Delete ${d.common_name}`)}];return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-border bg-bg-secondary",children:[e.jsx("h1",{className:"text-xl font-bold text-text-primary",children:"DataTable Demo"}),e.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"Powerful table with pagination, search, sorting, column management, row selection"})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(lt,{data:ht,columns:c,selectable:!0,multiSelect:!0,selectedRows:s,onSelectionChange:r,searchable:!0,searchPlaceholder:"Search certificates...",searchKeys:["common_name","issuer"],sortable:!0,defaultSort:{key:"common_name",direction:"asc"},columnToggle:!0,paginated:!0,pageSize:10,pageSizeOptions:[10,25,50],variant:"default",rowActions:m,onRowClick:d=>console.log("Clicked:",d),emptyIcon:me,emptyTitle:"No certificates",emptyDescription:"No certificates match your search"})})]})}export{Ct as default};
