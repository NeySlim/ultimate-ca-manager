import{G as j,r as d,t as bo,j as h,s as xo,b as Fe,d as yo,B as me,z as J}from"./index-De-6infx.js";import{P as gt}from"./PageTopBar-FTVnudsy.js";import{S as wo,a as Ve}from"./StatsGrid-CFcWuBgU.js";import{S as Eo,T as Ht}from"./SectionTabs-CEwiKhOn.js";import{D as Bt}from"./DataTable-CQe61O1l.js";import{S as $o}from"./SearchToolbar-Pa3zzvNE.js";import{B as Me}from"./Badge-CxcmVP2U.js";import{n as So}from"./Check.es-C94pdyOD.js";import{p as rt,o as B,l as Co,r as ie,f as yn,m as To,s as wn,a as Oo,E as En,Y as Se,b as $n,y as Ce,c as se,d as ge,K as Te,L as Ro,e as Vt,g as Ao,h as Lt,i as Wt,j as Lo,k as Fo,q as Ft,T as Mo,t as ht,u as Ee,x as Sn,v as Po,G as ko,w as Do,S as Q,z as Io,A as jo,B as Je,C as No,D as zt,F as _o,N as Ho,H as Bo,I as Vo,J as Wo,O as zo,V as Cn,P as qo,Q as Uo,R as Ko,U as qt,W as q,X as Go,Z as Ut,_ as Yo,$ as Qo,a0 as Xo,M as Tn}from"./Modal-CFpUbksU.js";import{g as Kt}from"./getBadgeVariant-SNrdtPAh.js";import{u as it}from"./useQuery-BneFP1TE.js";import{u as Jo}from"./useMutation-DnObBvVb.js";import{c as Zo}from"./useCAs-Dk5zE_T8.js";import{I as On}from"./Input-O9AnYSQc.js";import{s as U}from"./CreateCAModal.module-BDqPs05w.js";const er=typeof document<"u"?j.useLayoutEffect:()=>{},fe=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},pe=e=>e&&"window"in e&&e.window===e?e:fe(e).defaultView||window;function tr(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function nr(e){return tr(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let or=!1;function Mt(){return or}function Rn(e,t){if(!Mt())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:nr(n)?n=n.host:n=n.parentNode}return!1}const Et=(e=document)=>{var t;if(!Mt())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function An(e){return Mt()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function rr(e){if(ir())e.focus({preventScroll:!0});else{let t=sr(e);e.focus(),lr(t)}}let We=null;function ir(){if(We==null){We=!1;try{document.createElement("div").focus({get preventScroll(){return We=!0,!0}})}catch{}}return We}function sr(e){let t=e.parentNode,n=[],o=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==o;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return o instanceof HTMLElement&&n.push({element:o,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),n}function lr(e){for(let{element:t,scrollTop:n,scrollLeft:o}of e)t.scrollTop=n,t.scrollLeft=o}function st(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(o=>e.test(o.brand))||e.test(window.navigator.userAgent)}function Ln(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Oe(e){let t=null;return()=>(t==null&&(t=e()),t)}const Ze=Oe(function(){return Ln(/^Mac/i)}),ar=Oe(function(){return Ln(/^iPad/i)||Ze()&&navigator.maxTouchPoints>1}),cr=Oe(function(){return st(/AppleWebKit/i)&&!ur()}),ur=Oe(function(){return st(/Chrome/i)}),dr=Oe(function(){return st(/Android/i)}),fr=Oe(function(){return st(/Firefox/i)});function ke(e,t,n=!0){var o,r;let{metaKey:i,ctrlKey:s,altKey:l,shiftKey:a}=t;fr()&&(!((r=window.event)===null||r===void 0||(o=r.type)===null||o===void 0)&&o.startsWith("key"))&&e.target==="_blank"&&(Ze()?i=!0:s=!0);let c=cr()&&Ze()&&!ar()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:i,ctrlKey:s,altKey:l,shiftKey:a}):new MouseEvent("click",{metaKey:i,ctrlKey:s,altKey:l,shiftKey:a,detail:1,bubbles:!0,cancelable:!0});ke.isOpening=n,rr(e),e.dispatchEvent(c),ke.isOpening=!1}ke.isOpening=!1;function Fn(){let e=d.useRef(new Map),t=d.useCallback((r,i,s,l)=>{let a=l?.once?(...c)=>{e.current.delete(s),s(...c)}:s;e.current.set(s,{type:i,eventTarget:r,fn:a,options:l}),r.addEventListener(i,a,l)},[]),n=d.useCallback((r,i,s,l)=>{var a;let c=((a=e.current.get(s))===null||a===void 0?void 0:a.fn)||s;r.removeEventListener(i,c,l),e.current.delete(s)},[]),o=d.useCallback(()=>{e.current.forEach((r,i)=>{n(r.eventTarget,r.type,i,r.options)})},[n]);return d.useEffect(()=>o,[o]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:o}}function pr(e){return e.pointerType===""&&e.isTrusted?!0:dr()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Mn(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function mr(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Pn(e){let t=d.useRef({isFocused:!1,observer:null});return er(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),d.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=n.target,r=i=>{if(t.current.isFocused=!1,o.disabled){let s=Mn(i);e?.(s)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",r,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let s=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:s})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:s}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[e])}let gr=!1,je=null,$t=new Set,Pe=new Map,he=!1,St=!1;const hr={Tab:!0,Escape:!0};function Pt(e,t){for(let n of $t)n(e,t)}function vr(e){return!(e.metaKey||!Ze()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function et(e){he=!0,!ke.isOpening&&vr(e)&&(je="keyboard",Pt("keyboard",e))}function ye(e){je="pointer","pointerType"in e&&e.pointerType,(e.type==="mousedown"||e.type==="pointerdown")&&(he=!0,Pt("pointer",e))}function kn(e){!ke.isOpening&&pr(e)&&(he=!0,je="virtual")}function Dn(e){e.target===window||e.target===document||gr||!e.isTrusted||(!he&&!St&&(je="virtual",Pt("virtual",e)),he=!1,St=!1)}function In(){he=!1,St=!0}function Ct(e){if(typeof window>"u"||typeof document>"u"||Pe.get(pe(e)))return;const t=pe(e),n=fe(e);let o=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){he=!0,o.apply(this,arguments)},n.addEventListener("keydown",et,!0),n.addEventListener("keyup",et,!0),n.addEventListener("click",kn,!0),t.addEventListener("focus",Dn,!0),t.addEventListener("blur",In,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",ye,!0),n.addEventListener("pointermove",ye,!0),n.addEventListener("pointerup",ye,!0)),t.addEventListener("beforeunload",()=>{jn(e)},{once:!0}),Pe.set(t,{focus:o})}const jn=(e,t)=>{const n=pe(e),o=fe(e);t&&o.removeEventListener("DOMContentLoaded",t),Pe.has(n)&&(n.HTMLElement.prototype.focus=Pe.get(n).focus,o.removeEventListener("keydown",et,!0),o.removeEventListener("keyup",et,!0),o.removeEventListener("click",kn,!0),n.removeEventListener("focus",Dn,!0),n.removeEventListener("blur",In,!1),typeof PointerEvent<"u"&&(o.removeEventListener("pointerdown",ye,!0),o.removeEventListener("pointermove",ye,!0),o.removeEventListener("pointerup",ye,!0)),Pe.delete(n))};function br(e){const t=fe(e);let n;return t.readyState!=="loading"?Ct(e):(n=()=>{Ct(e)},t.addEventListener("DOMContentLoaded",n)),()=>jn(e,n)}typeof document<"u"&&br();function Nn(){return je!=="pointer"}const xr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function yr(e,t,n){let o=fe(n?.target);const r=typeof window<"u"?pe(n?.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?pe(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?pe(n?.target).HTMLElement:HTMLElement,l=typeof window<"u"?pe(n?.target).KeyboardEvent:KeyboardEvent;return e=e||o.activeElement instanceof r&&!xr.has(o.activeElement.type)||o.activeElement instanceof i||o.activeElement instanceof s&&o.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!hr[n.key])}function wr(e,t,n){Ct(),d.useEffect(()=>{let o=(r,i)=>{yr(!!n?.isTextInput,r,i)&&e(Nn())};return $t.add(o),()=>{$t.delete(o)}},t)}function Er(e){let{isDisabled:t,onFocus:n,onBlur:o,onFocusChange:r}=e;const i=d.useCallback(a=>{if(a.target===a.currentTarget)return o&&o(a),r&&r(!1),!0},[o,r]),s=Pn(i),l=d.useCallback(a=>{const c=fe(a.target),f=c?Et(c):Et();a.target===a.currentTarget&&f===An(a.nativeEvent)&&(n&&n(a),r&&r(!0),s(a))},[r,n,s]);return{focusProps:{onFocus:!t&&(n||r||o)?l:void 0,onBlur:!t&&(o||r)?i:void 0}}}function $r(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:r}=e,i=d.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:l}=Fn(),a=d.useCallback(p=>{p.currentTarget.contains(p.target)&&i.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(i.current.isFocusWithin=!1,l(),n&&n(p),r&&r(!1))},[n,r,i,l]),c=Pn(a),f=d.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const m=fe(p.target),u=Et(m);if(!i.current.isFocusWithin&&u===An(p.nativeEvent)){o&&o(p),r&&r(!0),i.current.isFocusWithin=!0,c(p);let g=p.currentTarget;s(m,"focus",v=>{if(i.current.isFocusWithin&&!Rn(g,v.target)){let b=new m.defaultView.FocusEvent("blur",{relatedTarget:v.target});mr(b,g);let x=Mn(b);a(x)}},{capture:!0})}},[o,r,c,s,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:a}}}let Tt=!1,ze=0;function Sr(){Tt=!0,setTimeout(()=>{Tt=!1},50)}function Gt(e){e.pointerType==="touch"&&Sr()}function Cr(){if(!(typeof document>"u"))return ze===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Gt),ze++,()=>{ze--,!(ze>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Gt)}}function Tr(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:o,isDisabled:r}=e,[i,s]=d.useState(!1),l=d.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;d.useEffect(Cr,[]);let{addGlobalListener:a,removeAllGlobalListeners:c}=Fn(),{hoverProps:f,triggerHoverEnd:p}=d.useMemo(()=>{let m=(v,b)=>{if(l.pointerType=b,r||b==="touch"||l.isHovered||!v.currentTarget.contains(v.target))return;l.isHovered=!0;let x=v.currentTarget;l.target=x,a(fe(v.target),"pointerover",w=>{l.isHovered&&l.target&&!Rn(l.target,w.target)&&u(w,w.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:x,pointerType:b}),n&&n(!0),s(!0)},u=(v,b)=>{let x=l.target;l.pointerType="",l.target=null,!(b==="touch"||!l.isHovered||!x)&&(l.isHovered=!1,c(),o&&o({type:"hoverend",target:x,pointerType:b}),n&&n(!1),s(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=v=>{Tt&&v.pointerType==="mouse"||m(v,v.pointerType)},g.onPointerLeave=v=>{!r&&v.currentTarget.contains(v.target)&&u(v,v.pointerType)}),{hoverProps:g,triggerHoverEnd:u}},[t,n,o,r,l,a,c]);return d.useEffect(()=>{r&&p({currentTarget:l.target},l.pointerType)},[r]),{hoverProps:f,isHovered:i}}function Or(e={}){let{autoFocus:t=!1,isTextInput:n,within:o}=e,r=d.useRef({isFocused:!1,isFocusVisible:t||Nn()}),[i,s]=d.useState(!1),[l,a]=d.useState(()=>r.current.isFocused&&r.current.isFocusVisible),c=d.useCallback(()=>a(r.current.isFocused&&r.current.isFocusVisible),[]),f=d.useCallback(u=>{r.current.isFocused=u,s(u),c()},[c]);wr(u=>{r.current.isFocusVisible=u,c()},[],{isTextInput:n});let{focusProps:p}=Er({isDisabled:o,onFocusChange:f}),{focusWithinProps:m}=$r({isDisabled:!o,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:l,focusProps:o?m:p}}function Rr(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Ar(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Lr({disabled:e=!1}={}){let t=d.useRef(null),[n,o]=d.useState(!1),r=rt(),i=B(()=>{t.current=null,o(!1),r.dispose()}),s=B(l=>{if(r.dispose(),t.current===null){t.current=l.currentTarget,o(!0);{let a=Co(l.currentTarget);r.addEventListener(a,"pointerup",i,!1),r.addEventListener(a,"pointermove",c=>{if(t.current){let f=Rr(c);o(Ar(f,t.current.getBoundingClientRect()))}},!1),r.addEventListener(a,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:i,onClick:i}}}function Fr(e,t,n){let[o,r]=d.useState(n),i=e!==void 0,s=d.useRef(i),l=d.useRef(!1),a=d.useRef(!1);return i&&!s.current&&!l.current?(l.current=!0,s.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&s.current&&!a.current&&(a.current=!0,s.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:o,B(c=>(i||ie.flushSync(()=>r(c)),t?.(c)))]}function Mr(e){let[t]=d.useState(e);return t}function _n(e={},t=null,n=[]){for(let[o,r]of Object.entries(e))Bn(n,Hn(t,o),r);return n}function Hn(e,t){return e?e+"["+t+"]":t}function Bn(e,t,n){if(Array.isArray(n))for(let[o,r]of n.entries())Bn(e,Hn(t,o.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):kr(n)&&!d.isValidElement(n)&&_n(n,t,e)}function Pr(e){var t,n;let o=(t=e?.form)!=null?t:e.closest("form");if(o){for(let r of o.elements)if(r!==e&&(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image")){r.click();return}(n=o.requestSubmit)==null||n.call(o)}}function kr(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let Dr=d.createContext(null);function Ir({children:e}){let t=d.useContext(Dr);if(!t)return j.createElement(j.Fragment,null,e);let{target:n}=t;return n?ie.createPortal(j.createElement(j.Fragment,null,e),n):null}function jr({data:e,form:t,disabled:n,onReset:o,overrides:r}){let[i,s]=d.useState(null),l=rt();return d.useEffect(()=>{if(o&&i)return l.addEventListener(i,"reset",o)},[i,t,o]),j.createElement(Ir,null,j.createElement(Nr,{setForm:s,formId:t}),_n(e).map(([a,c])=>j.createElement(yn,{features:wn.Hidden,...To({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:a,value:c,...r})})))}function Nr({setForm:e,formId:t}){return d.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:j.createElement(yn,{features:wn.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let o=n.closest("form");o&&e(o)}})}let _r=d.createContext(void 0);function Vn(){return d.useContext(_r)}function Yt(e){let t=e.parentElement,n=null;for(;t&&!Oo(t);)En(t)&&(n=t),t=t.parentElement;let o=t?.getAttribute("disabled")==="";return o&&Hr(n)?!1:o}function Hr(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(En(t))return!1;t=t.previousElementSibling}return!0}let lt=d.createContext(null);lt.displayName="LabelContext";function Wn(){let e=d.useContext(lt);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Wn),t}return e}function zn(e){var t,n,o;let r=(n=(t=d.useContext(lt))==null?void 0:t.value)!=null?n:void 0;return((o=e?.length)!=null?o:0)>0?[r,...e].filter(Boolean).join(" "):r}function Br({inherit:e=!1}={}){let t=zn(),[n,o]=d.useState([]),r=e?[t,...n].filter(Boolean):n;return[r.length>0?r.join(" "):void 0,d.useMemo(()=>function(i){let s=B(a=>(o(c=>[...c,a]),()=>o(c=>{let f=c.slice(),p=f.indexOf(a);return p!==-1&&f.splice(p,1),f}))),l=d.useMemo(()=>({register:s,slot:i.slot,name:i.name,props:i.props,value:i.value}),[s,i.slot,i.name,i.props,i.value]);return j.createElement(lt.Provider,{value:l},i.children)},[o])]}let Vr="label";function Wr(e,t){var n;let o=d.useId(),r=Wn(),i=Vn(),s=$n(),{id:l=`headlessui-label-${o}`,htmlFor:a=i??((n=r.props)==null?void 0:n.htmlFor),passive:c=!1,...f}=e,p=Ce(t);se(()=>r.register(l),[l,r.register]);let m=B(v=>{let b=v.currentTarget;if(!(v.target!==v.currentTarget&&Ro(v.target))&&(Vt(b)&&v.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(v),Vt(b))){let x=document.getElementById(b.htmlFor);if(x){let w=x.getAttribute("disabled");if(w==="true"||w==="")return;let y=x.getAttribute("aria-disabled");if(y==="true"||y==="")return;(Ao(x)&&(x.type==="file"||x.type==="radio"||x.type==="checkbox")||x.role==="radio"||x.role==="checkbox"||x.role==="switch")&&x.click(),x.focus({preventScroll:!0})}}}),u=ge({...r.slot,disabled:s||!1}),g={ref:p,...r.props,id:l,htmlFor:a,onClick:m};return c&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in f&&delete f.onClick),Te()({ourProps:g,theirProps:f,slot:u,defaultTag:a?Vr:"div",name:r.name||"Label"})}let zr=Se(Wr),qr=Object.assign(zr,{});function Ur(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Kr(e=Ur){return d.useCallback((t,n)=>{if(typeof e=="string"){let o=e;return t?.[o]===n?.[o]}return e(t,n)},[e])}function Qt(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Gr(e,t,n=!1){let[o,r]=d.useState(()=>Qt(t));return se(()=>{if(!t||!e)return;let i=Lt();return i.requestAnimationFrame(function s(){i.requestAnimationFrame(s),r(l=>{let a=Qt(t);return a.width===l.width&&a.height===l.height?l:a})}),()=>{i.dispose()}},[t,e]),n?{width:`${o.width}px`,height:`${o.height}px`}:o}var qn=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(qn||{});function Yr(e){let t=d.useRef(null),n=B(r=>{t.current=r.pointerType,!Yt(r.currentTarget)&&r.pointerType==="mouse"&&r.button===qn.Left&&(r.preventDefault(),e(r))}),o=B(r=>{t.current!=="mouse"&&(Yt(r.currentTarget)||e(r))});return{onPointerDown:n,onClick:o}}var Qr=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(Qr||{});const qe={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},Xr=200,Xt=5;function Jr(e,{trigger:t,action:n,close:o,select:r}){let i=d.useRef(null),s=d.useRef(null),l=d.useRef(null);Wt(e&&t!==null,"pointerdown",a=>{Lo(a?.target)&&t!=null&&t.contains(a.target)&&(s.current=a.x,l.current=a.y,i.current=a.timeStamp)}),Wt(e&&t!==null,"pointerup",a=>{var c,f;let p=i.current;if(p===null||(i.current=null,!Fo(a.target))||Math.abs(a.x-((c=s.current)!=null?c:a.x))<Xt&&Math.abs(a.y-((f=l.current)!=null?f:a.y))<Xt)return;let m=n(a);switch(m.kind){case 0:return;case 1:{a.timeStamp-p>Xr&&(r(m.target),o());break}case 2:{o();break}}},{capture:!0})}function Zr(e,t){return d.useMemo(()=>{var n;if(e.type)return e.type;let o=(n=e.as)!=null?n:"button";if(typeof o=="string"&&o.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Jt(e){return[e.screenX,e.screenY]}function ei(){let e=d.useRef([-1,-1]);return{wasMoved(t){let n=Jt(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Jt(t)}}}function at(){return typeof window<"u"}function Re(e){return Un(e)?(e.nodeName||"").toLowerCase():"#document"}function X(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ne(e){var t;return(t=(Un(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Un(e){return at()?e instanceof Node||e instanceof X(e).Node:!1}function Y(e){return at()?e instanceof Element||e instanceof X(e).Element:!1}function te(e){return at()?e instanceof HTMLElement||e instanceof X(e).HTMLElement:!1}function Zt(e){return!at()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof X(e).ShadowRoot}const ti=new Set(["inline","contents"]);function Ne(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=Z(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!ti.has(r)}const ni=new Set(["table","td","th"]);function oi(e){return ni.has(Re(e))}const ri=[":popover-open",":modal"];function ct(e){return ri.some(t=>{try{return e.matches(t)}catch{return!1}})}const ii=["transform","translate","scale","rotate","perspective"],si=["transform","translate","scale","rotate","perspective","filter"],li=["paint","layout","strict","content"];function kt(e){const t=Dt(),n=Y(e)?Z(e):e;return ii.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||si.some(o=>(n.willChange||"").includes(o))||li.some(o=>(n.contain||"").includes(o))}function ai(e){let t=ue(e);for(;te(t)&&!$e(t);){if(kt(t))return t;if(ct(t))return null;t=ue(t)}return null}function Dt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ci=new Set(["html","body","#document"]);function $e(e){return ci.has(Re(e))}function Z(e){return X(e).getComputedStyle(e)}function ut(e){return Y(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ue(e){if(Re(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zt(e)&&e.host||ne(e);return Zt(t)?t.host:t}function Kn(e){const t=ue(e);return $e(t)?e.ownerDocument?e.ownerDocument.body:e.body:te(t)&&Ne(t)?t:Kn(t)}function De(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Kn(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),s=X(r);if(i){const l=Ot(s);return t.concat(s,s.visualViewport||[],Ne(r)?r:[],l&&n?De(l):[])}return t.concat(r,De(r,[],n))}function Ot(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ui(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}const ve=Math.min,K=Math.max,Ie=Math.round,Ue=Math.floor,ee=e=>({x:e,y:e}),di={left:"right",right:"left",bottom:"top",top:"bottom"},fi={start:"end",end:"start"};function en(e,t,n){return K(e,ve(t,n))}function Ae(e,t){return typeof e=="function"?e(t):e}function de(e){return e.split("-")[0]}function _e(e){return e.split("-")[1]}function Gn(e){return e==="x"?"y":"x"}function Yn(e){return e==="y"?"height":"width"}const pi=new Set(["top","bottom"]);function oe(e){return pi.has(de(e))?"y":"x"}function Qn(e){return Gn(oe(e))}function mi(e,t,n){n===void 0&&(n=!1);const o=_e(e),r=Qn(e),i=Yn(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=tt(s)),[s,tt(s)]}function gi(e){const t=tt(e);return[Rt(e),t,Rt(t)]}function Rt(e){return e.replace(/start|end/g,t=>fi[t])}const tn=["left","right"],nn=["right","left"],hi=["top","bottom"],vi=["bottom","top"];function bi(e,t,n){switch(e){case"top":case"bottom":return n?t?nn:tn:t?tn:nn;case"left":case"right":return t?hi:vi;default:return[]}}function xi(e,t,n,o){const r=_e(e);let i=bi(de(e),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(Rt)))),i}function tt(e){return e.replace(/left|right|bottom|top/g,t=>di[t])}function yi(e){return{top:0,right:0,bottom:0,left:0,...e}}function wi(e){return typeof e!="number"?yi(e):{top:e,right:e,bottom:e,left:e}}function nt(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function on(e,t,n){let{reference:o,floating:r}=e;const i=oe(t),s=Qn(t),l=Yn(s),a=de(t),c=i==="y",f=o.x+o.width/2-r.width/2,p=o.y+o.height/2-r.height/2,m=o[l]/2-r[l]/2;let u;switch(a){case"top":u={x:f,y:o.y-r.height};break;case"bottom":u={x:f,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:p};break;case"left":u={x:o.x-r.width,y:p};break;default:u={x:o.x,y:o.y}}switch(_e(t)){case"start":u[s]-=m*(n&&c?-1:1);break;case"end":u[s]+=m*(n&&c?-1:1);break}return u}const Ei=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:p}=on(c,o,a),m=o,u={},g=0;for(let v=0;v<l.length;v++){const{name:b,fn:x}=l[v],{x:w,y,data:E,reset:$}=await x({x:f,y:p,initialPlacement:o,placement:m,strategy:r,middlewareData:u,rects:c,platform:s,elements:{reference:e,floating:t}});f=w??f,p=y??p,u={...u,[b]:{...u[b],...E}},$&&g<=50&&(g++,typeof $=="object"&&($.placement&&(m=$.placement),$.rects&&(c=$.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):$.rects),{x:f,y:p}=on(c,m,a)),v=-1)}return{x:f,y:p,placement:m,strategy:r,middlewareData:u}};async function dt(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:s,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:u=0}=Ae(t,e),g=wi(u),b=l[m?p==="floating"?"reference":"floating":p],x=nt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:f,strategy:a})),w=p==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),E=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},$=nt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:y,strategy:a}):w);return{top:(x.top-$.top+g.top)/E.y,bottom:($.bottom-x.bottom+g.bottom)/E.y,left:(x.left-$.left+g.left)/E.x,right:($.right-x.right+g.right)/E.x}}const $i=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=Ae(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=de(r),w=oe(l),y=de(l)===l,E=await(a.isRTL==null?void 0:a.isRTL(c.floating)),$=m||(y||!v?[tt(l)]:gi(l)),R=g!=="none";!m&&R&&$.push(...xi(l,v,g,E));const F=[l,...$],M=await dt(t,b),N=[];let S=((o=i.flip)==null?void 0:o.overflows)||[];if(f&&N.push(M[x]),p){const C=mi(r,s,E);N.push(M[C[0]],M[C[1]])}if(S=[...S,{placement:r,overflows:N}],!N.every(C=>C<=0)){var A,D;const C=(((A=i.flip)==null?void 0:A.index)||0)+1,O=F[C];if(O&&(!(p==="alignment"?w!==oe(O):!1)||S.every(L=>oe(L.placement)===w?L.overflows[0]>0:!0)))return{data:{index:C,overflows:S},reset:{placement:O}};let P=(D=S.filter(W=>W.overflows[0]<=0).sort((W,L)=>W.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!P)switch(u){case"bestFit":{var I;const W=(I=S.filter(L=>{if(R){const k=oe(L.placement);return k===w||k==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(k=>k>0).reduce((k,H)=>k+H,0)]).sort((L,k)=>L[1]-k[1])[0])==null?void 0:I[0];W&&(P=W);break}case"initialPlacement":P=l;break}if(r!==P)return{reset:{placement:P}}}return{}}}},Si=new Set(["left","top"]);async function Ci(e,t){const{placement:n,platform:o,elements:r}=e,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=de(n),l=_e(n),a=oe(n)==="y",c=Si.has(s)?-1:1,f=i&&a?-1:1,p=Ae(t,e);let{mainAxis:m,crossAxis:u,alignmentAxis:g}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof g=="number"&&(u=l==="end"?g*-1:g),a?{x:u*f,y:m*c}:{x:m*c,y:u*f}}const Ti=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:s,middlewareData:l}=t,a=await Ci(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:s}}}}},Oi=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:b=>{let{x,y:w}=b;return{x,y:w}}},...a}=Ae(e,t),c={x:n,y:o},f=await dt(t,a),p=oe(de(r)),m=Gn(p);let u=c[m],g=c[p];if(i){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=u+f[b],y=u-f[x];u=en(w,u,y)}if(s){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=g+f[b],y=g-f[x];g=en(w,g,y)}const v=l.fn({...t,[m]:u,[p]:g});return{...v,data:{x:v.x-n,y:v.y-o,enabled:{[m]:i,[p]:s}}}}}},Ri=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:i,platform:s,elements:l}=t,{apply:a=()=>{},...c}=Ae(e,t),f=await dt(t,c),p=de(r),m=_e(r),u=oe(r)==="y",{width:g,height:v}=i.floating;let b,x;p==="top"||p==="bottom"?(b=p,x=m===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(x=p,b=m==="end"?"top":"bottom");const w=v-f.top-f.bottom,y=g-f.left-f.right,E=ve(v-f[b],w),$=ve(g-f[x],y),R=!t.middlewareData.shift;let F=E,M=$;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=y),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(F=w),R&&!m){const S=K(f.left,0),A=K(f.right,0),D=K(f.top,0),I=K(f.bottom,0);u?M=g-2*(S!==0||A!==0?S+A:K(f.left,f.right)):F=v-2*(D!==0||I!==0?D+I:K(f.top,f.bottom))}await a({...t,availableWidth:M,availableHeight:F});const N=await s.getDimensions(l.floating);return g!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function Xn(e){const t=Z(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=te(e),i=r?e.offsetWidth:n,s=r?e.offsetHeight:o,l=Ie(n)!==i||Ie(o)!==s;return l&&(n=i,o=s),{width:n,height:o,$:l}}function It(e){return Y(e)?e:e.contextElement}function we(e){const t=It(e);if(!te(t))return ee(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=Xn(t);let s=(i?Ie(n.width):n.width)/o,l=(i?Ie(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Ai=ee(0);function Jn(e){const t=X(e);return!Dt()||!t.visualViewport?Ai:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Li(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==X(e)?!1:t}function be(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=It(e);let s=ee(1);t&&(o?Y(o)&&(s=we(o)):s=we(e));const l=Li(i,n,o)?Jn(i):ee(0);let a=(r.left+l.x)/s.x,c=(r.top+l.y)/s.y,f=r.width/s.x,p=r.height/s.y;if(i){const m=X(i),u=o&&Y(o)?X(o):o;let g=m,v=Ot(g);for(;v&&o&&u!==g;){const b=we(v),x=v.getBoundingClientRect(),w=Z(v),y=x.left+(v.clientLeft+parseFloat(w.paddingLeft))*b.x,E=x.top+(v.clientTop+parseFloat(w.paddingTop))*b.y;a*=b.x,c*=b.y,f*=b.x,p*=b.y,a+=y,c+=E,g=X(v),v=Ot(g)}}return nt({width:f,height:p,x:a,y:c})}function ft(e,t){const n=ut(e).scrollLeft;return t?t.left+n:be(ne(e)).left+n}function Zn(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-ft(e,n),r=n.top+t.scrollTop;return{x:o,y:r}}function Fi(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",s=ne(o),l=t?ct(t.floating):!1;if(o===s||l&&i)return n;let a={scrollLeft:0,scrollTop:0},c=ee(1);const f=ee(0),p=te(o);if((p||!p&&!i)&&((Re(o)!=="body"||Ne(s))&&(a=ut(o)),te(o))){const u=be(o);c=we(o),f.x=u.x+o.clientLeft,f.y=u.y+o.clientTop}const m=s&&!p&&!i?Zn(s,a):ee(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+f.x+m.x,y:n.y*c.y-a.scrollTop*c.y+f.y+m.y}}function Mi(e){return Array.from(e.getClientRects())}function Pi(e){const t=ne(e),n=ut(e),o=e.ownerDocument.body,r=K(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=K(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+ft(e);const l=-n.scrollTop;return Z(o).direction==="rtl"&&(s+=K(t.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:l}}const rn=25;function ki(e,t){const n=X(e),o=ne(e),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,l=0,a=0;if(r){i=r.width,s=r.height;const f=Dt();(!f||f&&t==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}const c=ft(o);if(c<=0){const f=o.ownerDocument,p=f.body,m=getComputedStyle(p),u=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(o.clientWidth-p.clientWidth-u);g<=rn&&(i-=g)}else c<=rn&&(i+=c);return{width:i,height:s,x:l,y:a}}const Di=new Set(["absolute","fixed"]);function Ii(e,t){const n=be(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,i=te(e)?we(e):ee(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,a=r*i.x,c=o*i.y;return{width:s,height:l,x:a,y:c}}function sn(e,t,n){let o;if(t==="viewport")o=ki(e,n);else if(t==="document")o=Pi(ne(e));else if(Y(t))o=Ii(t,n);else{const r=Jn(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return nt(o)}function eo(e,t){const n=ue(e);return n===t||!Y(n)||$e(n)?!1:Z(n).position==="fixed"||eo(n,t)}function ji(e,t){const n=t.get(e);if(n)return n;let o=De(e,[],!1).filter(l=>Y(l)&&Re(l)!=="body"),r=null;const i=Z(e).position==="fixed";let s=i?ue(e):e;for(;Y(s)&&!$e(s);){const l=Z(s),a=kt(s);!a&&l.position==="fixed"&&(r=null),(i?!a&&!r:!a&&l.position==="static"&&!!r&&Di.has(r.position)||Ne(s)&&!a&&eo(e,s))?o=o.filter(f=>f!==s):r=l,s=ue(s)}return t.set(e,o),o}function Ni(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const s=[...n==="clippingAncestors"?ct(t)?[]:ji(t,this._c):[].concat(n),o],l=s[0],a=s.reduce((c,f)=>{const p=sn(t,f,r);return c.top=K(p.top,c.top),c.right=ve(p.right,c.right),c.bottom=ve(p.bottom,c.bottom),c.left=K(p.left,c.left),c},sn(t,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function _i(e){const{width:t,height:n}=Xn(e);return{width:t,height:n}}function Hi(e,t,n){const o=te(t),r=ne(t),i=n==="fixed",s=be(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const a=ee(0);function c(){a.x=ft(r)}if(o||!o&&!i)if((Re(t)!=="body"||Ne(r))&&(l=ut(t)),o){const u=be(t,!0,i,t);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else r&&c();i&&!o&&r&&c();const f=r&&!o&&!i?Zn(r,l):ee(0),p=s.left+l.scrollLeft-a.x-f.x,m=s.top+l.scrollTop-a.y-f.y;return{x:p,y:m,width:s.width,height:s.height}}function vt(e){return Z(e).position==="static"}function ln(e,t){if(!te(e)||Z(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ne(e)===n&&(n=n.ownerDocument.body),n}function to(e,t){const n=X(e);if(ct(e))return n;if(!te(e)){let r=ue(e);for(;r&&!$e(r);){if(Y(r)&&!vt(r))return r;r=ue(r)}return n}let o=ln(e,t);for(;o&&oi(o)&&vt(o);)o=ln(o,t);return o&&$e(o)&&vt(o)&&!kt(o)?n:o||ai(e)||n}const Bi=async function(e){const t=this.getOffsetParent||to,n=this.getDimensions,o=await n(e.floating);return{reference:Hi(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Vi(e){return Z(e).direction==="rtl"}const Wi={convertOffsetParentRelativeRectToViewportRelativeRect:Fi,getDocumentElement:ne,getClippingRect:Ni,getOffsetParent:to,getElementRects:Bi,getClientRects:Mi,getDimensions:_i,getScale:we,isElement:Y,isRTL:Vi};function no(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zi(e,t){let n=null,o;const r=ne(e);function i(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const c=e.getBoundingClientRect(),{left:f,top:p,width:m,height:u}=c;if(l||t(),!m||!u)return;const g=Ue(p),v=Ue(r.clientWidth-(f+m)),b=Ue(r.clientHeight-(p+u)),x=Ue(f),y={rootMargin:-g+"px "+-v+"px "+-b+"px "+-x+"px",threshold:K(0,ve(1,a))||1};let E=!0;function $(R){const F=R[0].intersectionRatio;if(F!==a){if(!E)return s();F?s(!1,F):o=setTimeout(()=>{s(!1,1e-7)},1e3)}F===1&&!no(c,e.getBoundingClientRect())&&s(),E=!1}try{n=new IntersectionObserver($,{...y,root:r.ownerDocument})}catch{n=new IntersectionObserver($,y)}n.observe(e)}return s(!0),i}function qi(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=It(e),f=r||i?[...c?De(c):[],...De(t)]:[];f.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const p=c&&l?zi(c,n):null;let m=-1,u=null;s&&(u=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=u)==null||y.observe(t)})),n()}),c&&!a&&u.observe(c),u.observe(t));let g,v=a?be(e):null;a&&b();function b(){const x=be(e);v&&!no(v,x)&&n(),v=x,g=requestAnimationFrame(b)}return n(),()=>{var x;f.forEach(w=>{r&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),p?.(),(x=u)==null||x.disconnect(),u=null,a&&cancelAnimationFrame(g)}}const bt=dt,Ui=Ti,Ki=Oi,Gi=$i,Yi=Ri,Qi=(e,t,n)=>{const o=new Map,r={platform:Wi,...n},i={...r.platform,_c:o};return Ei(e,t,{...r,platform:i})};var Xi=typeof document<"u",Ji=function(){},Ye=Xi?d.useLayoutEffect:Ji;function ot(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!ot(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&e.$$typeof)&&!ot(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function oo(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function an(e,t){const n=oo(e);return Math.round(t*n)/n}function xt(e){const t=d.useRef(e);return Ye(()=>{t.current=e}),t}function Zi(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:a,open:c}=e,[f,p]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,u]=d.useState(o);ot(m,o)||u(o);const[g,v]=d.useState(null),[b,x]=d.useState(null),w=d.useCallback(L=>{L!==R.current&&(R.current=L,v(L))},[]),y=d.useCallback(L=>{L!==F.current&&(F.current=L,x(L))},[]),E=i||g,$=s||b,R=d.useRef(null),F=d.useRef(null),M=d.useRef(f),N=a!=null,S=xt(a),A=xt(r),D=xt(c),I=d.useCallback(()=>{if(!R.current||!F.current)return;const L={placement:t,strategy:n,middleware:m};A.current&&(L.platform=A.current),Qi(R.current,F.current,L).then(k=>{const H={...k,isPositioned:D.current!==!1};C.current&&!ot(M.current,H)&&(M.current=H,ie.flushSync(()=>{p(H)}))})},[m,t,n,A,D]);Ye(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[c]);const C=d.useRef(!1);Ye(()=>(C.current=!0,()=>{C.current=!1}),[]),Ye(()=>{if(E&&(R.current=E),$&&(F.current=$),E&&$){if(S.current)return S.current(E,$,I);I()}},[E,$,I,S,N]);const O=d.useMemo(()=>({reference:R,floating:F,setReference:w,setFloating:y}),[w,y]),P=d.useMemo(()=>({reference:E,floating:$}),[E,$]),W=d.useMemo(()=>{const L={position:n,left:0,top:0};if(!P.floating)return L;const k=an(P.floating,f.x),H=an(P.floating,f.y);return l?{...L,transform:"translate("+k+"px, "+H+"px)",...oo(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:H}},[n,l,P.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:I,refs:O,elements:P,floatingStyles:W}),[f,I,O,P,W])}const ro=(e,t)=>({...Ui(e),options:[e,t]}),es=(e,t)=>({...Ki(e),options:[e,t]}),ts=(e,t)=>({...Gi(e),options:[e,t]}),ns=(e,t)=>({...Yi(e),options:[e,t]}),io={...bo},os=io.useInsertionEffect,rs=os||(e=>e());function so(e){const t=d.useRef(()=>{});return rs(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var At=typeof document<"u"?d.useLayoutEffect:d.useEffect;let cn=!1,is=0;const un=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+is++;function ss(){const[e,t]=d.useState(()=>cn?un():void 0);return At(()=>{e==null&&t(un())},[]),d.useEffect(()=>{cn=!0},[]),e}const ls=io.useId,as=ls||ss;function cs(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const us=d.createContext(null),ds=d.createContext(null),fs=()=>{var e;return((e=d.useContext(us))==null?void 0:e.id)||null},ps=()=>d.useContext(ds),ms="data-floating-ui-focusable";function gs(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=as(),i=d.useRef({}),[s]=d.useState(()=>cs()),l=fs()!=null,[a,c]=d.useState(o.reference),f=so((u,g,v)=>{i.current.openEvent=u?g:void 0,s.emit("openchange",{open:u,event:g,reason:v,nested:l}),n?.(u,g,v)}),p=d.useMemo(()=>({setPositionReference:c}),[]),m=d.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return d.useMemo(()=>({dataRef:i,open:t,onOpenChange:f,elements:m,events:s,floatingId:r,refs:p}),[t,f,m,s,r,p])}function hs(e){e===void 0&&(e={});const{nodeId:t}=e,n=gs({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[i,s]=d.useState(null),[l,a]=d.useState(null),f=r?.domReference||i,p=d.useRef(null),m=ps();At(()=>{f&&(p.current=f)},[f]);const u=Zi({...e,elements:{...r,...l&&{reference:l}}}),g=d.useCallback(y=>{const E=Y(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;a(E),u.refs.setReference(E)},[u.refs]),v=d.useCallback(y=>{(Y(y)||y===null)&&(p.current=y,s(y)),(Y(u.refs.reference.current)||u.refs.reference.current===null||y!==null&&!Y(y))&&u.refs.setReference(y)},[u.refs]),b=d.useMemo(()=>({...u.refs,setReference:v,setPositionReference:g,domReference:p}),[u.refs,v,g]),x=d.useMemo(()=>({...u.elements,domReference:f}),[u.elements,f]),w=d.useMemo(()=>({...u,...o,refs:b,elements:x,nodeId:t}),[u,b,x,t,o]);return At(()=>{o.dataRef.current.floatingContext=w;const y=m?.nodesRef.current.find(E=>E.id===t);y&&(y.context=w)}),d.useMemo(()=>({...u,context:w,refs:b,elements:x}),[u,b,x,w])}const dn="active",fn="selected";function yt(e,t,n){const o=new Map,r=n==="item";let i=e;if(r&&e){const{[dn]:s,[fn]:l,...a}=e;i=a}return{...n==="floating"&&{tabIndex:-1,[ms]:""},...i,...t.map(s=>{const l=s?s[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((s,l)=>(l&&Object.entries(l).forEach(a=>{let[c,f]=a;if(!(r&&[dn,fn].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof f=="function"){var p;(p=o.get(c))==null||p.push(f),s[c]=function(){for(var m,u=arguments.length,g=new Array(u),v=0;v<u;v++)g[v]=arguments[v];return(m=o.get(c))==null?void 0:m.map(b=>b(...g)).find(b=>b!==void 0)}}}else s[c]=f}),s),{})}}function vs(e){e===void 0&&(e=[]);const t=e.map(l=>l?.reference),n=e.map(l=>l?.floating),o=e.map(l=>l?.item),r=d.useCallback(l=>yt(l,e,"reference"),t),i=d.useCallback(l=>yt(l,e,"floating"),n),s=d.useCallback(l=>yt(l,e,"item"),o);return d.useMemo(()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:s}),[r,i,s])}function pn(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const bs=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:i=0,index:s=0,minItemsVisible:l=4,referenceOverflowThreshold:a=0,scrollRef:c,...f}=Ae(e,t),{rects:p,elements:{floating:m}}=t,u=n.current[s],g=c?.current||m,v=m.clientTop||g.clientTop,b=m.clientTop!==0,x=g.clientTop!==0,w=m===g;if(!u)return{};const y={...t,...await ro(-u.offsetTop-m.clientTop-p.reference.height/2-u.offsetHeight/2-i).fn(t)},E=await bt(pn(y,g.scrollHeight+v+m.clientTop),f),$=await bt(y,{...f,elementContext:"reference"}),R=K(0,E.top),F=y.y+R,S=(g.scrollHeight>g.clientHeight?A=>A:Ie)(K(0,g.scrollHeight+(b&&w||x?v*2:0)-R-K(0,E.bottom)));if(g.style.maxHeight=S+"px",g.scrollTop=R,r){const A=g.offsetHeight<u.offsetHeight*ve(l,n.current.length)-1||$.top>=-a||$.bottom>=-a;ie.flushSync(()=>r(A))}return o&&(o.current=await bt(pn({...y,y:F},g.offsetHeight+v+m.clientTop),f)),{y:F}}});function xs(e,t){const{open:n,elements:o}=e,{enabled:r=!0,overflowRef:i,scrollRef:s,onChange:l}=t,a=so(l),c=d.useRef(!1),f=d.useRef(null),p=d.useRef(null);d.useEffect(()=>{if(!r)return;function u(v){if(v.ctrlKey||!g||i.current==null)return;const b=v.deltaY,x=i.current.top>=-.5,w=i.current.bottom>=-.5,y=g.scrollHeight-g.clientHeight,E=b<0?-1:1,$=b<0?"max":"min";g.scrollHeight<=g.clientHeight||(!x&&b>0||!w&&b<0?(v.preventDefault(),ie.flushSync(()=>{a(R=>R+Math[$](b,y*E))})):/firefox/i.test(ui())&&(g.scrollTop+=b))}const g=s?.current||o.floating;if(n&&g)return g.addEventListener("wheel",u),requestAnimationFrame(()=>{f.current=g.scrollTop,i.current!=null&&(p.current={...i.current})}),()=>{f.current=null,p.current=null,g.removeEventListener("wheel",u)}},[r,n,o.floating,i,s,a]);const m=d.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const u=s?.current||o.floating;if(!(!i.current||!u||!c.current)){if(f.current!==null){const g=u.scrollTop-f.current;(i.current.bottom<-.5&&g<-1||i.current.top<-.5&&g>1)&&ie.flushSync(()=>a(v=>v+g))}requestAnimationFrame(()=>{f.current=u.scrollTop})}}}),[o.floating,a,i,s]);return d.useMemo(()=>r?{floating:m}:{},[r,m])}let Le=d.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Le.displayName="FloatingContext";let jt=d.createContext(null);jt.displayName="PlacementContext";function ys(e){return d.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function ws(){return d.useContext(Le).setReference}function Es(){return d.useContext(Le).getReferenceProps}function $s(){let{getFloatingProps:e,slot:t}=d.useContext(Le);return d.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Ss(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=d.useContext(jt),n=d.useMemo(()=>e,[JSON.stringify(e,(r,i)=>{var s;return(s=i?.outerHTML)!=null?s:i})]);se(()=>{t?.(n??null)},[t,n]);let o=d.useContext(Le);return d.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let mn=4;function Cs({children:e,enabled:t=!0}){let[n,o]=d.useState(null),[r,i]=d.useState(0),s=d.useRef(null),[l,a]=d.useState(null);Ts(l);let c=t&&n!==null&&l!==null,{to:f="bottom",gap:p=0,offset:m=0,padding:u=0,inner:g}=Os(n,l),[v,b="center"]=f.split(" ");se(()=>{c&&i(0)},[c]);let{refs:x,floatingStyles:w,context:y}=hs({open:c,placement:v==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${v}`:`${v}-${b}`,strategy:"absolute",transform:!1,middleware:[ro({mainAxis:v==="selection"?0:p,crossAxis:m}),es({padding:u}),v!=="selection"&&ts({padding:u}),v==="selection"&&g?bs({...g,padding:u,overflowRef:s,offset:r,minItemsVisible:mn,referenceOverflowThreshold:u,onFallbackChange(A){var D,I;if(!A)return;let C=y.elements.floating;if(!C)return;let O=parseFloat(getComputedStyle(C).scrollPaddingBottom)||0,P=Math.min(mn,C.childElementCount),W=0,L=0;for(let k of(I=(D=y.elements.floating)==null?void 0:D.childNodes)!=null?I:[])if(Ft(k)){let H=k.offsetTop,xe=H+k.clientHeight+O,z=C.scrollTop,le=z+C.clientHeight;if(H>=z&&xe<=le)P--;else{L=Math.max(0,Math.min(xe,le)-Math.max(H,z)),W=k.clientHeight;break}}P>=1&&i(k=>{let H=W*P-L+O;return k>=H?k:H})}}):null,ns({padding:u,apply({availableWidth:A,availableHeight:D,elements:I}){Object.assign(I.floating.style,{overflow:"auto",maxWidth:`${A}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${D}px)`})}})].filter(Boolean),whileElementsMounted:qi}),[E=v,$=b]=y.placement.split("-");v==="selection"&&(E="selection");let R=d.useMemo(()=>({anchor:[E,$].filter(Boolean).join(" ")}),[E,$]),F=xs(y,{overflowRef:s,onChange:i}),{getReferenceProps:M,getFloatingProps:N}=vs([F]),S=B(A=>{a(A),x.setFloating(A)});return d.createElement(jt.Provider,{value:o},d.createElement(Le.Provider,{value:{setFloating:S,setReference:x.setReference,styles:w,getReferenceProps:M,getFloatingProps:N,slot:R}},e))}function Ts(e){se(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Os(e,t){var n,o,r;let i=wt((n=e?.gap)!=null?n:"var(--anchor-gap, 0)",t),s=wt((o=e?.offset)!=null?o:"var(--anchor-offset, 0)",t),l=wt((r=e?.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:s,padding:l}}function wt(e,t,n=void 0){let o=rt(),r=B((a,c)=>{if(a==null)return[n,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!c)return[n,null];let f=gn(a,c);return[f,p=>{let m=lo(a);{let u=m.map(g=>window.getComputedStyle(c).getPropertyValue(g));o.requestAnimationFrame(function g(){o.nextFrame(g);let v=!1;for(let[x,w]of m.entries()){let y=window.getComputedStyle(c).getPropertyValue(w);if(u[x]!==y){u[x]=y,v=!0;break}}if(!v)return;let b=gn(a,c);f!==b&&(p(b),f=b)})}return o.dispose}]}return[n,null]}),i=d.useMemo(()=>r(e,t)[0],[e,t]),[s=i,l]=d.useState();return se(()=>{let[a,c]=r(e,t);if(l(a),!!c)return c(l)},[e,t]),s}function lo(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let o=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[o,...lo(r)]:[o]}return[]}function gn(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),o}function Rs({children:e,freeze:t},n){let o=ao(t,e);return d.isValidElement(o)?d.cloneElement(o,{ref:n}):j.createElement(j.Fragment,null,o)}j.forwardRef(Rs);function ao(e,t){let[n,o]=d.useState(t);return!e&&n!==t&&o(t),e?n:t}function As(e){throw new Error("Unexpected object: "+e)}var _=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(_||{});function Ke(e,t){let n=t.resolveItems();if(n.length<=0)return null;let o=t.resolveActiveIndex(),r=o??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 1:{r===-1&&(r=n.length);for(let i=r-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 2:{for(let i=r+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return o}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return o}case 5:return null;default:As(e)}}const Qe={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function co(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function Ls(e,t,n){let o=Lt();if(t.kind==="Tracked"){let r=function(){i!==co(e)&&(o.dispose(),n())},{position:i}=t,s=new ResizeObserver(r);s.observe(e),o.add(()=>s.disconnect()),o.addEventListener(window,"scroll",r,{passive:!0}),o.addEventListener(window,"resize",r)}return()=>o.dispose()}let hn=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function vn(e){var t,n;let o=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!Ft(r))return o;let i=!1;for(let l of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),i=!0;let s=i?(n=r.innerText)!=null?n:"":o;return hn.test(s)&&(s=s.replace(hn,"")),s}function Fs(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let o=n.split(" ").map(r=>{let i=document.getElementById(r);if(i){let s=i.getAttribute("aria-label");return typeof s=="string"?s.trim():vn(i).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return vn(e).trim()}function Ms(e){let t=d.useRef(""),n=d.useRef("");return B(()=>{let o=e.current;if(!o)return"";let r=o.innerText;if(t.current===r)return n.current;let i=Fs(o).trim().toLowerCase();return t.current=r,n.current=i,i})}var Ps=Object.defineProperty,ks=(e,t,n)=>t in e?Ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bn=(e,t,n)=>(ks(e,typeof t!="symbol"?t+"":t,n),n),G=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(G||{}),ce=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ce||{}),Xe=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Xe||{}),uo=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.SelectOption=5]="SelectOption",e[e.RegisterOptions=6]="RegisterOptions",e[e.UnregisterOptions=7]="UnregisterOptions",e[e.SetButtonElement=8]="SetButtonElement",e[e.SetOptionsElement=9]="SetOptionsElement",e[e.SortOptions=10]="SortOptions",e[e.MarkButtonAsMoved=11]="MarkButtonAsMoved",e))(uo||{});function xn(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=ko(t(e.options.slice()),i=>i.dataRef.current.domRef.current),r=n?o.indexOf(n):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let Ds={1(e){if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.buttonElement?Qe.Tracked(co(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:_.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:t}},0(e,t){if(e.dataRef.current.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{isSelected:o}=e.dataRef.current,r=e.options.findIndex(i=>o(i.dataRef.current.value));return r!==-1&&(n=r),{...e,frozenValue:!1,pendingFocus:t.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1,buttonPositionState:Qe.Idle}},2(e,t){var n,o,r,i,s;if(e.dataRef.current.disabled||e.listboxState===1)return e;let l={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===_.Nothing)return{...l,activeOptionIndex:null};if(t.focus===_.Specific)return{...l,activeOptionIndex:e.options.findIndex(f=>f.id===t.id)};if(t.focus===_.Previous){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,m=Ke(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(m!==null){let u=e.options[m].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.previousElementSibling)===u.current||((r=u.current)==null?void 0:r.previousElementSibling)===null)return{...l,activeOptionIndex:m}}}}else if(t.focus===_.Next){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,m=Ke(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(m!==null){let u=e.options[m].dataRef.current.domRef;if(((i=p.current)==null?void 0:i.nextElementSibling)===u.current||((s=u.current)==null?void 0:s.nextElementSibling)===null)return{...l,activeOptionIndex:m}}}}let a=xn(e),c=Ke(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...l,...a,activeOptionIndex:c}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,o=e.searchQuery+t.value.toLowerCase(),r=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var l;return!s.dataRef.current.disabled&&((l=s.dataRef.current.textValue)==null?void 0:l.startsWith(o))}),i=r?e.options.indexOf(r):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5(e){return e.dataRef.current.mode===0?{...e,frozenValue:!0}:{...e}},6:(e,t)=>{let n=e.options.concat(t.options),o=e.activeOptionIndex;if(e.pendingFocus.focus!==_.Nothing&&(o=Ke(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:r}=e.dataRef.current;if(r){let i=n.findIndex(s=>r?.(s.dataRef.current.value));i!==-1&&(o=i)}}return{...e,options:n,activeOptionIndex:o,pendingFocus:{focus:_.Nothing},pendingShouldSort:!0}},7:(e,t)=>{let n=e.options,o=[],r=new Set(t.options);for(let[i,s]of n.entries())if(r.has(s.id)&&(o.push(i),r.delete(s.id),r.size===0))break;if(o.length>0){n=n.slice();for(let i of o.reverse())n.splice(i,1)}return{...e,options:n,activationTrigger:1}},8:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},9:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},10:e=>e.pendingShouldSort?{...e,...xn(e),pendingShouldSort:!1}:e,11(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Qe.Moved}}};class Nt extends Mo{constructor(t){super(t),bn(this,"actions",{onChange:n=>{let{onChange:o,compare:r,mode:i,value:s}=this.state.dataRef.current;return Ee(i,{0:()=>o?.(n),1:()=>{let l=s.slice(),a=l.findIndex(c=>r(c,n));return a===-1?l.push(n):l.splice(a,1),o?.(l)}})},registerOption:ht(()=>{let n=[],o=new Set;return[(r,i)=>{o.has(i)||(o.add(i),n.push({id:r,dataRef:i}))},()=>(o.clear(),this.send({type:6,options:n.splice(0)}))]}),unregisterOption:ht(()=>{let n=[];return[o=>n.push(o),()=>{this.send({type:7,options:n.splice(0)})}]}),goToOption:ht(()=>{let n=null;return[(o,r)=>{n={type:2,...o,trigger:r}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{var n;if(this.state.activeOptionIndex!==null){let{dataRef:o}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(o.current.value)}else this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(n=this.state.buttonElement)==null||n.focus({preventScroll:!0}))},selectOption:n=>{this.send({type:5,value:n})},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:8,element:n})},setOptionsElement:n=>{this.send({type:9,element:n})}}),bn(this,"selectors",{activeDescendantId(n){var o;let r=n.activeOptionIndex,i=n.options;return r===null||(o=i[r])==null?void 0:o.id},isActive(n,o){var r;let i=n.activeOptionIndex,s=n.options;return i!==null?((r=s[i])==null?void 0:r.id)===o:!1},hasFrozenValue(n){return n.frozenValue},shouldScrollIntoView(n,o){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,o)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let n=this.state.id,o=Sn.get(null);this.disposables.add(o.on(Po.Push,r=>{!o.selectors.isTop(r,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>o.actions.push(n)),this.on(1,()=>o.actions.pop(n))}this.disposables.group(n=>{this.on(1,o=>{o.buttonElement&&(n.dispose(),n.add(Ls(o.buttonElement,o.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(n,o)=>{var r;this.actions.onChange(o.value),this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(r=this.state.buttonElement)==null||r.focus({preventScroll:!0}))})}static new({id:t,__demoMode:n=!1}){return new Nt({id:t,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:_.Nothing},frozenValue:!1,__demoMode:n,buttonPositionState:Qe.Idle})}reduce(t,n){return Ee(n.type,Ds,t,n)}}const fo=d.createContext(null);function _t(e){let t=d.useContext(fo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,po),n}return t}function po({id:e,__demoMode:t=!1}){let n=d.useMemo(()=>Nt.new({id:e,__demoMode:t}),[]);return Do(()=>n.dispose()),n}let pt=d.createContext(null);pt.displayName="ListboxDataContext";function He(e){let t=d.useContext(pt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,He),n}return t}let Is=d.Fragment;function js(e,t){let n=d.useId(),o=$n(),{value:r,defaultValue:i,form:s,name:l,onChange:a,by:c,invalid:f=!1,disabled:p=o||!1,horizontal:m=!1,multiple:u=!1,__demoMode:g=!1,...v}=e;const b=m?"horizontal":"vertical";let x=Ce(t),w=Mr(i),[y=u?[]:void 0,E]=Fr(r,a,w),$=po({id:n,__demoMode:g}),R=d.useRef({static:!1,hold:!1}),F=d.useRef(new Map),M=Kr(c),N=d.useCallback(z=>Ee(S.mode,{[ce.Multi]:()=>y.some(le=>M(le,z)),[ce.Single]:()=>M(y,z)}),[y]),S=ge({value:y,disabled:p,invalid:f,mode:u?ce.Multi:ce.Single,orientation:b,onChange:E,compare:M,isSelected:N,optionsPropsRef:R,listRef:F});se(()=>{$.state.dataRef.current=S},[S]);let A=Q($,z=>z.listboxState),D=Sn.get(null),I=Q(D,d.useCallback(z=>D.selectors.isTop(z,n),[D,n])),[C,O]=Q($,z=>[z.buttonElement,z.optionsElement]);Io(I,[C,O],(z,le)=>{$.send({type:uo.CloseListbox}),Yo(le,Qo.Loose)||(z.preventDefault(),C?.focus())});let P=ge({open:A===G.Open,disabled:p,invalid:f,value:y}),[W,L]=Br({inherit:!0}),k={ref:x},H=d.useCallback(()=>{if(w!==void 0)return E?.(w)},[E,w]),xe=Te();return j.createElement(L,{value:W,props:{htmlFor:C?.id},slot:{open:A===G.Open,disabled:p}},j.createElement(Cs,null,j.createElement(fo.Provider,{value:$},j.createElement(pt.Provider,{value:S},j.createElement(jo,{value:Ee(A,{[G.Open]:Je.Open,[G.Closed]:Je.Closed})},l!=null&&y!=null&&j.createElement(jr,{disabled:p,data:{[l]:y},form:s,onReset:H}),xe({ourProps:k,theirProps:v,slot:P,defaultTag:Is,name:"Listbox"}))))))}let Ns="button";function _s(e,t){let n=d.useId(),o=Vn(),r=He("Listbox.Button"),i=_t("Listbox.Button"),{id:s=o||`headlessui-listbox-button-${n}`,disabled:l=r.disabled||!1,autoFocus:a=!1,...c}=e,f=Ce(t,ws(),i.actions.setButtonElement),p=Es(),[m,u,g]=Q(i,O=>[O.listboxState,O.buttonElement,O.optionsElement]),v=m===G.Open;Jr(v,{trigger:u,action:d.useCallback(O=>{if(u!=null&&u.contains(O.target))return qe.Ignore;let P=O.target.closest('[role="option"]:not([data-disabled])');return Ft(P)?qe.Select(P):g!=null&&g.contains(O.target)?qe.Ignore:qe.Close},[u,g]),close:i.actions.closeListbox,select:i.actions.selectActiveOption});let b=B(O=>{switch(O.key){case q.Enter:Pr(O.currentTarget);break;case q.Space:case q.ArrowDown:O.preventDefault(),i.actions.openListbox({focus:r.value?_.Nothing:_.First});break;case q.ArrowUp:O.preventDefault(),i.actions.openListbox({focus:r.value?_.Nothing:_.Last});break}}),x=B(O=>{O.key===q.Space&&O.preventDefault()}),w=Yr(O=>{var P;i.state.listboxState===G.Open?(ie.flushSync(()=>i.actions.closeListbox()),(P=i.state.buttonElement)==null||P.focus({preventScroll:!0})):(O.preventDefault(),i.actions.openListbox({focus:_.Nothing}))}),y=B(O=>O.preventDefault()),E=zn([s]),$=Ko(),{isFocusVisible:R,focusProps:F}=Or({autoFocus:a}),{isHovered:M,hoverProps:N}=Tr({isDisabled:l}),{pressed:S,pressProps:A}=Lr({disabled:l}),D=ge({open:m===G.Open,active:S||m===G.Open,disabled:l,invalid:r.invalid,value:r.value,hover:M,focus:R,autofocus:a}),I=Q(i,O=>O.listboxState===G.Open),C=Cn(p(),{ref:f,id:s,type:Zr(e,u),"aria-haspopup":"listbox","aria-controls":g?.id,"aria-expanded":I,"aria-labelledby":E,"aria-describedby":$,disabled:l||void 0,autoFocus:a,onKeyDown:b,onKeyUp:x,onKeyPress:y},w,F,N,A);return Te()({ourProps:C,theirProps:c,slot:D,defaultTag:Ns,name:"Listbox.Button"})}let mo=d.createContext(!1),Hs="div",Bs=qt.RenderStrategy|qt.Static;function Vs(e,t){let n=d.useId(),{id:o=`headlessui-listbox-options-${n}`,anchor:r,portal:i=!1,modal:s=!0,transition:l=!1,...a}=e,c=ys(r),[f,p]=d.useState(null);c&&(i=!0);let m=He("Listbox.Options"),u=_t("Listbox.Options"),[g,v,b,x]=Q(u,T=>[T.listboxState,T.buttonElement,T.optionsElement,T.__demoMode]),w=zt(v),y=zt(b),E=_o(),[$,R]=Ho(l,f,E!==null?(E&Je.Open)===Je.Open:g===G.Open);Bo($,v,u.actions.closeListbox);let F=x?!1:s&&g===G.Open;Vo(F,y);let M=x?!1:s&&g===G.Open;Wo(M,{allowed:d.useCallback(()=>[v,b],[v,b])});let N=Q(u,u.selectors.didButtonMove)?!1:$,S=Q(u,u.selectors.hasFrozenValue)&&!e.static,A=ao(S,m.value),D=d.useCallback(T=>m.compare(A,T),[m.compare,A]),I=Q(u,T=>{var ae;if(c==null||!((ae=c?.to)!=null&&ae.includes("selection")))return null;let mt=T.options.findIndex(vo=>D(vo.dataRef.current.value));return mt===-1&&(mt=0),mt}),C=(()=>{if(c==null)return;if(I===null)return{...c,inner:void 0};let T=Array.from(m.listRef.current.values());return{...c,inner:{listRef:{current:T},index:I}}})(),[O,P]=Ss(C),W=$s(),L=Ce(t,c?O:null,u.actions.setOptionsElement,p),k=rt();d.useEffect(()=>{let T=b;T&&g===G.Open&&(zo(T)||T==null||T.focus({preventScroll:!0}))},[g,b]);let H=B(T=>{var ae;switch(k.dispose(),T.key){case q.Space:if(u.state.searchQuery!=="")return T.preventDefault(),T.stopPropagation(),u.actions.search(T.key);case q.Enter:T.preventDefault(),T.stopPropagation(),u.actions.selectActiveOption();break;case Ee(m.orientation,{vertical:q.ArrowDown,horizontal:q.ArrowRight}):return T.preventDefault(),T.stopPropagation(),u.actions.goToOption({focus:_.Next});case Ee(m.orientation,{vertical:q.ArrowUp,horizontal:q.ArrowLeft}):return T.preventDefault(),T.stopPropagation(),u.actions.goToOption({focus:_.Previous});case q.Home:case q.PageUp:return T.preventDefault(),T.stopPropagation(),u.actions.goToOption({focus:_.First});case q.End:case q.PageDown:return T.preventDefault(),T.stopPropagation(),u.actions.goToOption({focus:_.Last});case q.Escape:T.preventDefault(),T.stopPropagation(),ie.flushSync(()=>u.actions.closeListbox()),(ae=u.state.buttonElement)==null||ae.focus({preventScroll:!0});return;case q.Tab:T.preventDefault(),T.stopPropagation(),ie.flushSync(()=>u.actions.closeListbox()),Go(u.state.buttonElement,T.shiftKey?Ut.Previous:Ut.Next);break;default:T.key.length===1&&(u.actions.search(T.key),k.setTimeout(()=>u.actions.clearSearch(),350));break}}),xe=Q(u,T=>{var ae;return(ae=T.buttonElement)==null?void 0:ae.id}),z=ge({open:g===G.Open}),le=Cn(c?W():{},{id:o,ref:L,"aria-activedescendant":Q(u,u.selectors.activeDescendantId),"aria-multiselectable":m.mode===ce.Multi?!0:void 0,"aria-labelledby":xe,"aria-orientation":m.orientation,onKeyDown:H,role:"listbox",tabIndex:g===G.Open?0:void 0,style:{...a.style,...P,"--button-width":Gr($,v,!0).width},...qo(R)}),go=Te(),ho=d.useMemo(()=>m.mode===ce.Multi?m:{...m,isSelected:D},[m,D]);return j.createElement(Uo,{enabled:i?e.static||$:!1,ownerDocument:w},j.createElement(pt.Provider,{value:ho},go({ourProps:le,theirProps:a,slot:z,defaultTag:Hs,features:Bs,visible:N,name:"Listbox.Options"})))}let Ws="div";function zs(e,t){let n=d.useId(),{id:o=`headlessui-listbox-option-${n}`,disabled:r=!1,value:i,...s}=e,l=d.useContext(mo)===!0,a=He("Listbox.Option"),c=_t("Listbox.Option"),f=Q(c,S=>c.selectors.isActive(S,o)),p=a.isSelected(i),m=d.useRef(null),u=Ms(m),g=No({disabled:r,value:i,domRef:m,get textValue(){return u()}}),v=Ce(t,m,S=>{S?a.listRef.current.set(o,S):a.listRef.current.delete(o)}),b=Q(c,S=>c.selectors.shouldScrollIntoView(S,o));se(()=>{if(b)return Lt().requestAnimationFrame(()=>{var S,A;(A=(S=m.current)==null?void 0:S.scrollIntoView)==null||A.call(S,{block:"nearest"})})},[b,m]),se(()=>{if(!l)return c.actions.registerOption(o,g),()=>c.actions.unregisterOption(o)},[g,o,l]);let x=B(S=>{if(r)return S.preventDefault();c.actions.selectOption(i)}),w=B(()=>{if(r)return c.actions.goToOption({focus:_.Nothing});c.actions.goToOption({focus:_.Specific,id:o})}),y=ei(),E=B(S=>y.update(S)),$=B(S=>{y.wasMoved(S)&&(r||f&&c.state.activationTrigger===Xe.Pointer||c.actions.goToOption({focus:_.Specific,id:o},Xe.Pointer))}),R=B(S=>{y.wasMoved(S)&&(r||f&&c.state.activationTrigger===Xe.Pointer&&c.actions.goToOption({focus:_.Nothing}))}),F=ge({active:f,focus:f,selected:p,disabled:r,selectedOption:p&&l}),M=l?{}:{id:o,ref:v,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":p,disabled:void 0,onClick:x,onFocus:w,onPointerEnter:E,onMouseEnter:E,onPointerMove:$,onMouseMove:$,onPointerLeave:R,onMouseLeave:R},N=Te();return!p&&l?null:N({ourProps:M,theirProps:s,slot:F,defaultTag:Ws,name:"Listbox.Option"})}let qs=d.Fragment;function Us(e,t){let{options:n,placeholder:o,...r}=e,i={ref:Ce(t)},s=He("ListboxSelectedOption"),l=ge({}),a=s.value===void 0||s.value===null||s.mode===ce.Multi&&Array.isArray(s.value)&&s.value.length===0,c=Te();return j.createElement(mo.Provider,{value:!0},c({ourProps:i,theirProps:{...r,children:j.createElement(j.Fragment,null,o&&a?o:n)},slot:l,defaultTag:qs,name:"ListboxSelectedOption"}))}let Ks=Se(js),Gs=Se(_s),Ys=qr,Qs=Se(Vs),Xs=Se(zs),Js=Se(Us),Ge=Object.assign(Ks,{Button:Gs,Label:Ys,Options:Qs,Option:Xs,SelectedOption:Js});const Zs=({value:e,onChange:t,options:n=[],placeholder:o="Select option",label:r,error:i,disabled:s=!1})=>{const l=n.find(a=>a.value===e);return h.jsxs("div",{className:"select-wrapper",children:[r&&h.jsx("label",{className:"select-label",children:r}),h.jsx(Ge,{value:e,onChange:t,disabled:s,children:h.jsxs("div",{className:"select-container",children:[h.jsxs(Ge.Button,{className:`select-button ${i?"select-error":""}`,children:[h.jsx("span",{className:"select-value",children:l?.label||o}),h.jsx(xo,{size:16,className:"select-icon"})]}),h.jsx(Xo,{as:d.Fragment,enter:"select-transition-enter",enterFrom:"select-transition-enter-from",enterTo:"select-transition-enter-to",leave:"select-transition-leave",leaveFrom:"select-transition-leave-from",leaveTo:"select-transition-leave-to",children:h.jsx(Ge.Options,{className:"select-dropdown",children:n.map(a=>h.jsx(Ge.Option,{value:a.value,disabled:a.disabled,as:d.Fragment,children:({active:c,selected:f})=>h.jsxs("li",{className:`select-option ${c?"select-option-active":""} ${f?"select-option-selected":""}`,children:[h.jsx("span",{className:"select-option-label",children:a.label}),f&&h.jsx(So,{size:16,className:"select-option-check"})]})},a.value))})})]})}),i&&h.jsx("div",{className:"select-error-message",children:i})]})},Be={getSettings:async()=>(await Fe.get("/api/v2/acme/settings")).data,updateSettings:async e=>(await Fe.patch("/api/v2/acme/settings",e)).data,getStats:async()=>{const t=(await Fe.get("/api/v2/acme/stats")).data||{};return{accounts:t.active_accounts||0,activeOrders:t.pending_orders||0,completedOrders:t.valid_orders||0,domains:0,_raw:t}},getAccounts:async(e={})=>{const t=await Fe.get("/api/v2/acme/accounts",{params:e}),n=(t.data||[]).map(o=>({id:o.id,email:o.email||o.contact_email||"N/A",status:(o.status||"ACTIVE").toUpperCase(),createdAt:o.created_at?o.created_at.split("T")[0]:"N/A",orders:o.total_orders||0,_raw:o}));return{data:n,meta:t.meta||{page:1,per_page:20,total:n.length}}},getOrders:async(e={})=>{const t=await Fe.get("/api/v2/acme/orders",{params:e}),n=(t.data||[]).map(o=>({id:o.id,domain:o.domain||o.identifier||"N/A",account:o.account_email||o.account_id||"N/A",status:(o.status||"PENDING").toUpperCase(),createdAt:o.created_at?o.created_at.split("T")[0]:"N/A",expiresAt:o.expires_at?o.expires_at.split("T")[0]:"N/A",_raw:o}));return{data:n,meta:t.meta||{page:1,per_page:20,total:n.length}}}},re={all:["acme"],settings:()=>[...re.all,"settings"],stats:()=>[...re.all,"stats"],accounts:e=>[...re.all,"accounts",e],orders:e=>[...re.all,"orders",e]},el=()=>it({queryKey:re.settings(),queryFn:Be.getSettings}),tl=()=>it({queryKey:re.stats(),queryFn:Be.getStats}),nl=(e={})=>it({queryKey:re.accounts(e),queryFn:()=>Be.getAccounts(e)}),ol=(e={})=>it({queryKey:re.orders(e),queryFn:()=>Be.getOrders(e)}),rl=()=>{const e=yo();return Jo({mutationFn:Be.updateSettings,onSuccess:()=>{e.invalidateQueries({queryKey:re.settings()})}})};function il({isOpen:e,onClose:t}){const[n,o]=d.useState({email:"",provider:"letsencrypt",termsAccepted:!1}),[r,i]=d.useState(!1),s=async c=>{if(c.preventDefault(),!n.email){J.error("Email is required");return}if(!n.termsAccepted){J.error("You must accept the terms of service");return}i(!0);try{const f=await fetch("/api/v2/acme/accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,provider:n.provider,terms_accepted:n.termsAccepted})});if(!f.ok){const p=await f.json();throw new Error(p.message||"Failed to create ACME account")}J.success("ACME account created successfully"),t(),o({email:"",provider:"letsencrypt",termsAccepted:!1}),window.location.reload()}catch(f){J.error(f.message||"Failed to create ACME account")}finally{i(!1)}},l=c=>{const{name:f,value:p,type:m,checked:u}=c.target;o(g=>({...g,[f]:m==="checkbox"?u:p}))},a=h.jsxs(h.Fragment,{children:[h.jsx(me,{variant:"secondary",onClick:t,disabled:r,children:"Cancel"}),h.jsx(me,{variant:"primary",onClick:s,disabled:r,children:r?"Creating...":"Create Account"})]});return h.jsx(Tn,{isOpen:e,onClose:t,title:"New ACME Account",size:"sm",footer:a,children:h.jsx("form",{onSubmit:s,className:U.form,children:h.jsxs("div",{className:U.section,children:[h.jsxs("div",{className:U.field,children:[h.jsx("label",{className:U.label,children:"Provider"}),h.jsxs("select",{name:"provider",value:n.provider,onChange:l,className:U.select,children:[h.jsx("option",{value:"letsencrypt",children:"Let's Encrypt"}),h.jsx("option",{value:"letsencrypt-staging",children:"Let's Encrypt (Staging)"}),h.jsx("option",{value:"buypass",children:"Buypass"}),h.jsx("option",{value:"zerossl",children:"ZeroSSL"})]}),h.jsx("p",{className:U.helpText,children:"Let's Encrypt is recommended for production use"})]}),h.jsx(On,{label:"Email Address",name:"email",type:"email",value:n.email,onChange:l,placeholder:"admin@example.com",required:!0,helpText:"Used for certificate expiry notifications and account recovery"}),h.jsx("div",{className:U.field,children:h.jsxs("label",{className:U.checkboxLabel,children:[h.jsx("input",{type:"checkbox",name:"termsAccepted",checked:n.termsAccepted,onChange:l,className:U.checkbox}),h.jsxs("span",{children:["I agree to the"," ",h.jsx("a",{href:n.provider==="letsencrypt"?"https://letsencrypt.org/repository/":"#",target:"_blank",rel:"noopener noreferrer",className:U.link,children:n.provider==="letsencrypt"?"Let's Encrypt Subscriber Agreement":"Terms of Service"})]})]})})]})})})}function sl({isOpen:e,onClose:t}){const[n,o]=d.useState({domains:"",challengeType:"http-01"}),[r,i]=d.useState(!1),s=async c=>{if(c.preventDefault(),!n.domains.trim()){J.error("At least one domain is required");return}const f=n.domains.split(",").map(p=>p.trim()).filter(Boolean);if(f.length===0){J.error("Please enter valid domains");return}i(!0);try{const p=await fetch("/api/v2/acme/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domains:f,challenge_type:n.challengeType})});if(!p.ok){const m=await p.json();throw new Error(m.message||"Failed to create ACME order")}J.success("ACME order created successfully"),t(),o({domains:"",challengeType:"http-01"}),window.location.reload()}catch(p){J.error(p.message||"Failed to create ACME order")}finally{i(!1)}},l=c=>{o(f=>({...f,[c.target.name]:c.target.value}))},a=h.jsxs(h.Fragment,{children:[h.jsx(me,{variant:"secondary",onClick:t,disabled:r,children:"Cancel"}),h.jsx(me,{variant:"primary",onClick:s,disabled:r,children:r?"Creating...":"Create Order"})]});return h.jsx(Tn,{isOpen:e,onClose:t,title:"New ACME Order",size:"md",footer:a,children:h.jsxs("form",{onSubmit:s,className:U.form,children:[h.jsxs("div",{className:U.section,children:[h.jsx(On,{label:"Domains",name:"domains",value:n.domains,onChange:l,placeholder:"example.com, www.example.com, *.example.com",required:!0,helpText:"Comma-separated list of domains to include in the certificate"}),h.jsxs("div",{className:U.field,children:[h.jsx("label",{className:U.label,children:"Challenge Type"}),h.jsxs("select",{name:"challengeType",value:n.challengeType,onChange:l,className:U.select,children:[h.jsx("option",{value:"http-01",children:"HTTP-01 (Port 80)"}),h.jsx("option",{value:"dns-01",children:"DNS-01 (DNS TXT Record)"}),h.jsx("option",{value:"tls-alpn-01",children:"TLS-ALPN-01 (Port 443)"})]}),h.jsxs("p",{className:U.helpText,children:[n.challengeType==="http-01"&&"Requires HTTP server on port 80. Best for single domains.",n.challengeType==="dns-01"&&"Requires DNS access. Required for wildcard certificates.",n.challengeType==="tls-alpn-01"&&"Requires TLS server on port 443. Alternative to HTTP-01."]})]})]}),h.jsxs("div",{className:U.infoBox,children:[h.jsx("i",{className:"ph ph-info"}),h.jsxs("div",{children:[h.jsx("strong",{children:"Next Steps:"}),h.jsxs("ol",{style:{marginTop:"8px",paddingLeft:"20px"},children:[h.jsx("li",{children:"Order will be created and authorizations started"}),h.jsxs("li",{children:["Complete the ",n.challengeType.toUpperCase()," challenge for each domain"]}),h.jsx("li",{children:"Certificate will be issued automatically upon validation"})]})]})]})]})})}const ll="_acmeDashboard_vcw4s_3",al="_tabContent_vcw4s_8",cl="_settingsCard_vcw4s_14",ul="_settingsTitle_vcw4s_21",dl="_settingsContent_vcw4s_30",fl="_settingRow_vcw4s_36",pl="_settingLabel_vcw4s_43",ml="_settingHint_vcw4s_49",gl="_urlCode_vcw4s_90",hl="_section_vcw4s_103",vl="_sectionTitle_vcw4s_109",V={acmeDashboard:ll,tabContent:al,settingsCard:cl,settingsTitle:ul,settingsContent:dl,settingRow:fl,settingLabel:pl,settingHint:ml,urlCode:gl,section:hl,sectionTitle:vl};function Pl(){const[e,t]=d.useState("internal"),[n,o]=d.useState(!1),[r,i]=d.useState(!1),{data:s,isLoading:l,error:a}=el(),{data:c,isLoading:f,error:p}=tl(),{data:m,isLoading:u,error:g}=nl(),{data:v,isLoading:b,error:x}=ol(),{data:w,isLoading:y}=Zo(),E=rl(),$=l||f||u||b,R=a||p||g||x,F=[{key:"email",label:"Email",sortable:!0},{key:"status",label:"Status",sortable:!0,render:C=>h.jsx(Me,{variant:Kt("acme-status",C.status),children:C.status})},{key:"createdAt",label:"Created At",sortable:!0},{key:"orders",label:"Orders",sortable:!0,render:C=>h.jsx("span",{style:{color:"var(--text-tertiary)"},children:C.orders})}],M=[{key:"domain",label:"Domain",sortable:!0},{key:"account",label:"Account",sortable:!0},{key:"status",label:"Status",sortable:!0,render:C=>h.jsx(Me,{variant:Kt("acme-status",C.status),children:C.status})},{key:"createdAt",label:"Created",sortable:!0},{key:"expiresAt",label:"Expires",sortable:!0}],N=[{label:"Status",options:["All Statuses","Valid","Pending","Invalid"]}];if($)return h.jsxs("div",{className:V.acmeDashboard,children:[h.jsx(gt,{icon:"ph ph-globe",title:"ACME",badge:h.jsx(Me,{variant:"neutral",children:"Loading..."})}),h.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading ACME data..."})]});if(R)return h.jsxs("div",{className:V.acmeDashboard,children:[h.jsx(gt,{icon:"ph ph-globe",title:"ACME",badge:h.jsx(Me,{variant:"danger",children:"Error"})}),h.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"var(--color-danger)"},children:["Error loading ACME data: ",R.message]})]});const S={stats:c||{accounts:0,activeOrders:0,completedOrders:0,domains:0},accounts:m?.data||[],orders:v?.data||[]},A=[{value:"",label:"Select issuing CA..."},...(w?.data||[]).map(C=>({value:C.refid,label:C.common_name||C.refid}))],D=C=>{E.mutate({issuing_ca_id:C},{onSuccess:()=>J.success("Issuing CA updated"),onError:()=>J.error("Failed to update issuing CA")})},I=()=>h.jsxs("div",{className:V.tabContent,children:[h.jsxs("div",{className:V.settingsCard,children:[h.jsxs("h3",{className:V.settingsTitle,children:[h.jsx("i",{className:"ph ph-gear",style:{marginRight:"0.5rem"}}),"Internal ACME Server Configuration"]}),h.jsxs("div",{className:V.settingsContent,children:[h.jsxs("div",{className:V.settingRow,children:[h.jsx("label",{className:V.settingLabel,children:"Directory URL:"}),h.jsxs("code",{className:V.urlCode,children:[window.location.origin,"/acme/directory"]})]}),h.jsxs("div",{className:V.settingRow,children:[h.jsx("label",{className:V.settingLabel,children:"Issuing CA:"}),h.jsx(Zs,{value:s?.issuing_ca_id||"",onChange:C=>D(C.target.value),options:A,disabled:y})]}),s?.issuing_ca_name&&h.jsxs("div",{className:V.settingHint,children:["Selected: ",h.jsx("strong",{children:s.issuing_ca_name})]})]})]}),h.jsxs(wo,{columns:4,children:[h.jsx(Ve,{value:S.stats.accounts,label:"Accounts",icon:"ph ph-user"}),h.jsx(Ve,{value:S.stats.activeOrders,label:"Active Orders",icon:"ph ph-clock"}),h.jsx(Ve,{value:S.stats.completedOrders,label:"Completed Orders",icon:"ph ph-check-circle"}),h.jsx(Ve,{value:S.stats.domains,label:"Domains",icon:"ph ph-globe"})]}),h.jsxs("div",{className:V.section,children:[h.jsx("h3",{className:V.sectionTitle,children:"Accounts"}),h.jsx($o,{placeholder:"Search accounts...",filters:N,onSearch:C=>console.log("Search:",C),onFilterChange:(C,O)=>console.log("Filter:",C,O)}),h.jsx(Bt,{columns:F,data:S.accounts,onRowClick:C=>console.log("Account clicked:",C)})]}),h.jsxs("div",{className:V.section,children:[h.jsx("h3",{className:V.sectionTitle,children:"Recent Orders"}),h.jsx(Bt,{columns:M,data:S.orders,onRowClick:C=>console.log("Order clicked:",C)})]})]});return h.jsxs("div",{className:V.acmeDashboard,children:[h.jsx(gt,{icon:"ph ph-globe",title:"ACME",badge:h.jsx(Me,{variant:s?.enabled?"success":"secondary",children:s?.enabled?"Enabled":"Disabled"}),actions:h.jsxs(h.Fragment,{children:[h.jsx(me,{onClick:()=>o(!0),icon:"ph ph-plus",children:"New Account"}),h.jsx(me,{onClick:()=>i(!0),icon:"ph ph-certificate",children:"New Order"}),h.jsxs(me,{variant:s?.enabled?"secondary":"primary",onClick:()=>{E.mutate({enabled:!s?.enabled},{onSuccess:()=>J.success(s?.enabled?"ACME disabled":"ACME enabled"),onError:()=>J.error("Failed to update ACME")})},children:[s?.enabled?"Disable":"Enable"," ACME"]})]})}),h.jsxs(Eo,{children:[h.jsx(Ht,{active:e==="internal",onClick:()=>t("internal"),children:"Internal ACME"}),h.jsx(Ht,{active:e==="letsencrypt",onClick:()=>t("letsencrypt"),children:"Let's Encrypt"})]}),h.jsx("div",{className:V.tabContent,children:e==="internal"?I():renderLetsEncryptTab()}),h.jsx(il,{isOpen:n,onClose:()=>o(!1)}),h.jsx(sl,{isOpen:r,onClose:()=>i(!1)})]})}export{Pl as ACMEDashboard,Pl as default};
