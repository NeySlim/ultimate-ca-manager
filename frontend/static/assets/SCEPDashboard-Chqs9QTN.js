import{r as f,j as e,B as c,C as r}from"./index-BYBnESEY.js";import{P as j}from"./PageTopBar-DlBd6_Np.js";import{S as v,a as l}from"./StatsGrid-D7jsqhVt.js";import{S as b,T as d}from"./SectionTabs-CxmrT4b6.js";import{D as g}from"./DataTable-BMlScNhk.js";import{S as C}from"./SearchToolbar-Nt4-il8X.js";import{B as p}from"./Badge-B4kyIFAj.js";import{I as i}from"./Input-D4yg3I7d.js";import{g as _}from"./getBadgeVariant-BF98r0-3.js";function A(){const a=[{id:1,deviceId:"iPhone-12345",commonName:"user.iphone@acme.com",status:"completed",requestedAt:"2026-01-20 10:30",approvedAt:"2026-01-20 10:45"},{id:2,deviceId:"Android-67890",commonName:"user.android@acme.com",status:"pending",requestedAt:"2026-01-21 09:15",approvedAt:null},{id:3,deviceId:"iPad-54321",commonName:"manager.ipad@acme.com",status:"completed",requestedAt:"2026-01-19 14:20",approvedAt:"2026-01-19 14:35"},{id:4,deviceId:"MacBook-98765",commonName:"admin.macbook@acme.com",status:"rejected",requestedAt:"2026-01-18 11:50",approvedAt:null,reason:"Invalid device identifier"}];return{config:{enabled:!0,url:"https://ucm.acme.com/scep",caIdentifier:"ACME-SCEP-CA",challengePassword:"********",certificateValidity:365,allowRenewal:!0,autoApprove:!1},stats:{totalEnrollments:a.length,pendingApprovals:a.filter(n=>n.status==="pending").length,completedToday:a.filter(n=>n.status==="completed"&&n.requestedAt.startsWith("2026-01-21")).length,rejectedToday:a.filter(n=>n.status==="rejected"&&n.requestedAt.startsWith("2026-01-21")).length},enrollments:a}}const k="_scepDashboard_rp4o0_3",y="_tabContent_rp4o0_8",S="_form_rp4o0_14",N="_checkboxGroup_rp4o0_21",T="_checkbox_rp4o0_21",E="_formActions_rp4o0_42",P="_actions_rp4o0_48",B="_statusBadge_rp4o0_53",I="_statusDot_rp4o0_67",w="_infoBox_rp4o0_78",D="_infoContent_rp4o0_82",R="_infoIcon_rp4o0_87",q="_infoTitle_rp4o0_100",O="_infoText_rp4o0_107",t={scepDashboard:k,tabContent:y,form:S,checkboxGroup:N,checkbox:T,formActions:E,actions:P,statusBadge:B,statusDot:I,infoBox:w,infoContent:D,infoIcon:R,infoTitle:q,infoText:O};function J(){const[a,n]=f.useState("config"),s=A(),m=[{key:"deviceId",label:"Device ID",sortable:!0},{key:"commonName",label:"Common Name",sortable:!0},{key:"status",label:"Status",sortable:!0,render:o=>e.jsx(p,{variant:_("scep-status",o.status),children:o.status})},{key:"requestedAt",label:"Requested At",sortable:!0},{key:"approvedAt",label:"Approved At",render:o=>o.approvedAt||e.jsx("span",{style:{color:"var(--text-tertiary)"},children:"â€”"})},{key:"actions",label:"Actions",render:o=>o.status==="pending"?e.jsxs("div",{className:t.actions,children:[e.jsx(c,{variant:"success",icon:"ph ph-check",onClick:()=>console.log("Approve:",o),children:"Approve"}),e.jsx(c,{variant:"danger",icon:"ph ph-x",onClick:()=>console.log("Reject:",o),children:"Reject"})]}):null}],h=[{label:"Status",options:["All Statuses","Pending","Completed","Rejected"]}],u=[{label:"Export List",icon:"ph ph-download-simple",variant:"default"}];return e.jsxs("div",{className:t.scepDashboard,children:[e.jsx(j,{icon:"ph ph-device-mobile",title:"SCEP",badge:e.jsx(p,{variant:"success",children:"Enabled"}),actions:e.jsxs(e.Fragment,{children:[e.jsx(c,{icon:"ph ph-arrows-clockwise",children:"Refresh"}),e.jsx(c,{variant:"primary",icon:"ph ph-gear",children:"Configure"})]})}),e.jsxs(v,{columns:4,children:[e.jsx(l,{value:s.stats.totalEnrollments,label:"Total Enrollments",icon:"ph ph-certificate"}),e.jsx(l,{value:s.stats.pendingApprovals,label:"Pending Approvals",icon:"ph ph-clock"}),e.jsx(l,{value:s.stats.completedToday,label:"Completed Today",icon:"ph ph-check-circle"}),e.jsx(l,{value:s.stats.rejectedToday,label:"Rejected Today",icon:"ph ph-x-circle"})]}),e.jsxs(b,{children:[e.jsx(d,{active:a==="config",onClick:()=>n("config"),children:"Configuration"}),e.jsx(d,{active:a==="enrollments",onClick:()=>n("enrollments"),children:"Enrollments"})]}),a==="config"&&e.jsxs("div",{className:t.tabContent,children:[e.jsxs(r,{children:[e.jsxs(r.Header,{children:[e.jsx("h3",{children:"SCEP Server Configuration"}),e.jsxs("div",{className:t.statusBadge,children:[e.jsx("span",{className:t.statusDot,"data-status":"enabled"}),e.jsx("span",{children:"Enabled"})]})]}),e.jsx(r.Body,{children:e.jsxs("form",{className:t.form,children:[e.jsx(i,{label:"SCEP URL",value:s.config.url,readOnly:!0}),e.jsx(i,{label:"CA Identifier",value:s.config.caIdentifier,readOnly:!0}),e.jsx(i,{label:"Challenge Password",type:"password",value:s.config.challengePassword,readOnly:!0}),e.jsx(i,{label:"Certificate Validity (days)",value:s.config.certificateValidity,readOnly:!0}),e.jsxs("div",{className:t.checkboxGroup,children:[e.jsxs("label",{className:t.checkbox,children:[e.jsx("input",{type:"checkbox",checked:s.config.allowRenewal,readOnly:!0}),e.jsx("span",{children:"Allow Certificate Renewal"})]}),e.jsxs("label",{className:t.checkbox,children:[e.jsx("input",{type:"checkbox",checked:s.config.autoApprove,readOnly:!0}),e.jsx("span",{children:"Auto-Approve Enrollments"})]})]}),e.jsxs("div",{className:t.formActions,children:[e.jsx(c,{variant:"primary",icon:"ph ph-floppy-disk",children:"Save Configuration"}),e.jsx(c,{variant:"default",icon:"ph ph-arrow-clockwise",children:"Reset"})]})]})})]}),e.jsx(r,{className:t.infoBox,children:e.jsx(r.Body,{children:e.jsxs("div",{className:t.infoContent,children:[e.jsx("div",{className:t.infoIcon,children:e.jsx("i",{className:"ph ph-info"})}),e.jsxs("div",{children:[e.jsx("div",{className:t.infoTitle,children:"SCEP Enrollment"}),e.jsx("div",{className:t.infoText,children:"SCEP (Simple Certificate Enrollment Protocol) allows devices to automatically request and receive certificates. Common use cases include mobile devices (iOS, Android) and network equipment."})]})]})})})]}),a==="enrollments"&&e.jsxs("div",{className:t.tabContent,children:[e.jsx(C,{placeholder:"Search enrollments...",filters:h,actions:u,onSearch:o=>console.log("Search:",o),onFilterChange:(o,x)=>console.log("Filter:",o,x)}),e.jsx(g,{columns:m,data:s.enrollments,onRowClick:o=>console.log("Enrollment clicked:",o)})]})]})}export{J as SCEPDashboard,J as default};
