import{r as y,j as e,B as c,z as t}from"./index-u3olel5O.js";import{B as h}from"./Badge-B17B9Qle.js";import{P as o}from"./PageTopBar-CXxxLdgx.js";import{S as A,T as l}from"./SectionTabs-TVEJLH71.js";import{a as w,b as C,c as G,d as P}from"./useAccount-D2ke2sfj.js";import"./useQuery-DGlGW3TI.js";import"./useMutation-C2dUkq7Y.js";import"./api-ClVrI7m4.js";const T="_profile_1cfpi_3",D="_tabContent_1cfpi_17",M="_tabPanel_1cfpi_22",I="_settingsSection_1cfpi_29",L="_sectionTitle_1cfpi_39",Y="_avatarSection_1cfpi_48",E="_avatarLarge_1cfpi_57",R="_avatarActions_1cfpi_71",V="_formGroup_1cfpi_76",F="_checkbox_1cfpi_129",z="_certList_1cfpi_147",B="_certItem_1cfpi_153",U="_certInfo_1cfpi_163",O="_certSubject_1cfpi_169",$="_certMeta_1cfpi_176",H="_certActions_1cfpi_181",s={profile:T,tabContent:D,tabPanel:M,settingsSection:I,sectionTitle:L,avatarSection:Y,avatarLarge:E,avatarActions:R,formGroup:V,checkbox:F,certList:z,certItem:B,certInfo:U,certSubject:O,certMeta:$,certActions:H};function se(){const[a,n]=y.useState("profile"),{data:p,isLoading:x,error:m}=w(),{data:j,isLoading:u,error:f}=C(),{mutate:v}=G(),{mutate:N}=P(),b=x||u,d=m||f,_=i=>{v(i,{onSuccess:()=>t.success("Session revoked successfully"),onError:g=>t.error(`Failed to revoke session: ${g.message}`)})},k=()=>{window.confirm("Are you sure you want to revoke all sessions? You will be logged out.")&&N(void 0,{onSuccess:()=>t.success("All sessions revoked successfully"),onError:i=>t.error(`Failed to revoke sessions: ${i.message}`)})};if(b)return e.jsxs("div",{className:s.profile,children:[e.jsx(o,{icon:"ph ph-user-circle",title:"My Profile"}),e.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading profile..."})]});if(d)return e.jsxs("div",{className:s.profile,children:[e.jsx(o,{icon:"ph ph-user-circle",title:"My Profile"}),e.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"var(--color-danger)"},children:["Error loading profile: ",d.message]})]});const r=p||{},S=j?.data||[];return e.jsxs("div",{className:s.profile,children:[e.jsx(o,{icon:"ph ph-user-circle",title:"My Profile",actions:e.jsxs(e.Fragment,{children:[e.jsx(c,{variant:"default",icon:"ph ph-arrow-counter-clockwise",children:"Discard Changes"}),e.jsx(c,{variant:"primary",icon:"ph ph-floppy-disk",children:"Save Changes"})]})}),e.jsxs(A,{children:[e.jsx(l,{active:a==="profile",onClick:()=>n("profile"),children:"Profile"}),e.jsx(l,{active:a==="security",onClick:()=>n("security"),children:"Security"}),e.jsx(l,{active:a==="notifications",onClick:()=>n("notifications"),children:"Notifications"}),e.jsx(l,{active:a==="preferences",onClick:()=>n("preferences"),children:"Preferences"})]}),e.jsxs("div",{className:s.tabContent,children:[a==="profile"&&e.jsxs("div",{className:s.tabPanel,children:[e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"Account Information"}),e.jsxs("div",{className:s.avatarSection,children:[e.jsx("div",{className:s.avatarLarge,children:"A"}),e.jsxs("div",{className:s.avatarActions,children:[e.jsx(c,{variant:"default",icon:"ph ph-upload",children:"Upload Photo"}),e.jsx(c,{variant:"default",icon:"ph ph-trash",children:"Remove Photo"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",defaultValue:r.username||"admin",readOnly:!0})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Full Name"}),e.jsx("input",{type:"text",defaultValue:r.full_name||"Administrator"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",defaultValue:r.email||"admin@ucm.local"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Role"}),e.jsx("input",{type:"text",defaultValue:r.role||"Administrator",readOnly:!0})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Department"}),e.jsx("input",{type:"text",defaultValue:r.department||"IT Operations"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",defaultValue:"+1 555-0123"})]})]}),e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"Bio"}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"About Me"}),e.jsx("textarea",{placeholder:"Tell us about yourself...",defaultValue:"Senior system administrator managing certificate infrastructure."})]})]})]}),a==="security"&&e.jsxs("div",{className:s.tabPanel,children:[e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"Password"}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Current Password"}),e.jsx("input",{type:"password",placeholder:"Enter current password"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"New Password"}),e.jsx("input",{type:"password",placeholder:"Enter new password"})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Confirm Password"}),e.jsx("input",{type:"password",placeholder:"Confirm new password"})]}),e.jsx("div",{className:s.formGroup,children:e.jsx(c,{variant:"primary",icon:"ph ph-lock",children:"Change Password"})})]}),e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"Two-Factor Authentication"}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Status"}),e.jsx(h,{variant:"error",children:"Disabled"})]}),e.jsx("div",{className:s.formGroup,children:e.jsx(c,{variant:"primary",icon:"ph ph-shield-check",children:"Enable 2FA"})})]}),e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"Active Sessions"}),e.jsx("div",{className:s.certList,children:S.map(i=>e.jsxs("div",{className:s.certItem,children:[e.jsxs("div",{className:s.certInfo,children:[e.jsx("div",{className:s.certSubject,children:i.current?"Current Session (This Device)":i.device||"Unknown Device"}),e.jsxs("div",{className:s.certMeta,children:[i.user_agent||"Unknown browser"," • IP: ",i.ip_address||"N/A"," • Started ",i.created_at||"N/A"]})]}),e.jsx("div",{className:s.certActions,children:i.current?e.jsx(h,{variant:"success",children:"Active"}):e.jsx(c,{variant:"default",size:"sm",icon:"ph ph-x",onClick:()=>_(i.id),children:"Revoke"})})]},i.id))}),e.jsx("div",{className:s.formGroup,children:e.jsx(c,{variant:"danger",icon:"ph ph-x-circle",onClick:k,children:"Revoke All Sessions"})})]}),e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"Client Certificates"}),e.jsx("div",{className:s.certList,children:e.jsxs("div",{className:s.certItem,children:[e.jsxs("div",{className:s.certInfo,children:[e.jsx("div",{className:s.certSubject,children:"CN=admin@ucm.local"}),e.jsx("div",{className:s.certMeta,children:"Valid until: 2025-12-31 • Serial: AB:CD:EF:12:34"})]}),e.jsxs("div",{className:s.certActions,children:[e.jsx(c,{variant:"default",size:"sm",icon:"ph ph-eye",children:"View"}),e.jsx(c,{variant:"default",size:"sm",icon:"ph ph-download-simple",onClick:()=>{window.open("/api/v2/account/certificates/admin","_blank"),t.success("Certificate download started")},children:"Download"}),e.jsx(c,{variant:"default",size:"sm",icon:"ph ph-trash",children:"Revoke"})]})]})}),e.jsx("div",{className:s.formGroup,children:e.jsx(c,{variant:"primary",icon:"ph ph-plus",children:"Generate New Certificate"})})]})]}),a==="notifications"&&e.jsxs("div",{className:s.tabPanel,children:[e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"Email Notifications"}),e.jsx("div",{className:s.formGroup,children:e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{children:"Certificate Expiration Warnings"})]})}),e.jsx("div",{className:s.formGroup,children:e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{children:"Security Alerts"})]})}),e.jsx("div",{className:s.formGroup,children:e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"System Maintenance Notifications"})]})})]}),e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"In-App Notifications"}),e.jsx("div",{className:s.formGroup,children:e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{children:"Show Desktop Notifications"})]})}),e.jsx("div",{className:s.formGroup,children:e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{children:"Play Sound on Critical Alerts"})]})})]})]}),a==="preferences"&&e.jsxs("div",{className:s.tabPanel,children:[e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"Display"}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Theme"}),e.jsxs("select",{children:[e.jsx("option",{children:"Dark"}),e.jsx("option",{children:"Light"}),e.jsx("option",{children:"Auto"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Timezone"}),e.jsxs("select",{children:[e.jsx("option",{children:"UTC"}),e.jsx("option",{children:"Europe/Paris"}),e.jsx("option",{children:"America/New_York"})]})]}),e.jsxs("div",{className:s.formGroup,children:[e.jsx("label",{children:"Date Format"}),e.jsxs("select",{children:[e.jsx("option",{children:"YYYY-MM-DD"}),e.jsx("option",{children:"DD/MM/YYYY"}),e.jsx("option",{children:"MM/DD/YYYY"})]})]})]}),e.jsxs("div",{className:s.settingsSection,children:[e.jsx("div",{className:s.sectionTitle,children:"Accessibility"}),e.jsx("div",{className:s.formGroup,children:e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"Reduce Animations"})]})}),e.jsx("div",{className:s.formGroup,children:e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"High Contrast Mode"})]})})]})]})]})]})}export{se as Profile,se as default};
