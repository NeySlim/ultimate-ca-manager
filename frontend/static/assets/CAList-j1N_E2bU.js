import{j as e,c as j,r as x,B as _}from"./index-pMtQBsMW.js";import{D as v}from"./DataTable-unk-5oht.js";import{I as d}from"./Icon-DGoLQv_Y.js";import{B as h}from"./Badge-M3krP6LY.js";import{g as m}from"./getBadgeVariant-BrMFExs0.js";import{S as y}from"./SearchToolbar-C_MzITcj.js";import{e as N}from"./mockData-D2CEUkeL.js";import"./Input-DKHkWI5N.js";const C="_hierarchy_169wg_3",f="_caRow_169wg_9",w="_connector_169wg_18",b="_connectorVertical_169wg_27",S="_connectorHorizontal_169wg_36",B="_connectorContinue_169wg_45",T="_caExpand_169wg_55",k="_expandButton_169wg_64",I="_caCard_169wg_84",A="_caIcon_169wg_102",E="_caInfo_169wg_113",L="_caName_169wg_118",z="_caDn_169wg_125",R="_caBadges_169wg_134",V="_caChildren_169wg_142",D="_emptyState_169wg_149",H="_emptyText_169wg_162",s={hierarchy:C,caRow:f,connector:w,connectorVertical:b,connectorHorizontal:S,connectorContinue:B,caExpand:T,expandButton:k,caCard:I,caIcon:A,caInfo:E,caName:L,caDn:z,caBadges:R,caChildren:V,emptyState:D,emptyText:H};function u({ca:a,level:c=0,isLast:n=!1,parentExpanded:o=!0}){const[r,p]=x.useState(!0),t=a.children&&a.children.length>0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:s.caRow,"data-level":c,children:[c>0&&e.jsxs("div",{className:s.connector,children:[e.jsx("div",{className:s.connectorVertical}),e.jsx("div",{className:s.connectorHorizontal}),!n&&e.jsx("div",{className:s.connectorContinue})]}),e.jsx("div",{className:s.caExpand,children:t&&e.jsx("button",{onClick:()=>p(!r),className:s.expandButton,children:e.jsx(d,{name:r?"caret-down":"caret-right",size:16})})}),e.jsxs("div",{className:s.caCard,children:[e.jsx("div",{className:s.caIcon,children:e.jsx(d,{name:"seal-check",size:20,gradient:!0})}),e.jsxs("div",{className:s.caInfo,children:[e.jsx("div",{className:s.caName,children:a.name}),e.jsx("div",{className:s.caDn,children:a.dn})]}),e.jsxs("div",{className:s.caBadges,children:[e.jsx(h,{variant:m("ca-type",a.type),children:a.type}),a.status&&e.jsx(h,{variant:m("ca-status",a.status),children:a.status})]})]})]}),t&&r&&e.jsx("div",{className:s.caChildren,children:a.children.map((i,g)=>e.jsx(u,{ca:i,level:c+1,isLast:g===a.children.length-1,parentExpanded:r},i.id))})]})}function q({cas:a=[],className:c}){return a.length===0?e.jsxs("div",{className:s.emptyState,children:[e.jsx(d,{name:"tree-structure",size:48,color:"tertiary"}),e.jsx("div",{className:s.emptyText,children:"No certificate authorities found"})]}):e.jsx("div",{className:j(s.hierarchy,c),children:a.map((n,o)=>e.jsx(u,{ca:n,level:0,isLast:o===a.length-1},n.id))})}const F="_caList_vljqm_3",M="_toolbar_vljqm_9",U="_viewToggle_vljqm_15",$="_caName_vljqm_21",l={caList:F,toolbar:M,viewToggle:U,caName:$};function Y(){const[a,c]=x.useState("hierarchy"),n=N(),o=[{key:"name",label:"CA Name",sortable:!0,render:t=>e.jsxs("div",{className:l.caName,children:[e.jsx(d,{name:t.type==="root"?"seal-check":"tree-structure",gradient:!0}),e.jsx("span",{children:t.name})]})},{key:"type",label:"Type",sortable:!0,render:t=>e.jsx(h,{variant:m("ca-type",t.type),children:t.type})},{key:"status",label:"Status",sortable:!0,render:t=>e.jsx(h,{variant:m("ca-status",t.status),children:t.status})},{key:"validUntil",label:"Valid Until",sortable:!0},{key:"certificates",label:"Certificates",sortable:!0,render:t=>e.jsx("span",{style:{color:"var(--text-tertiary)"},children:t.certificates})}],r=[{label:"Type",options:["All Types","Root","Intermediate"]},{label:"Status",options:["All Statuses","Active","Expired"]}],p=[{label:"Create CA",icon:"ph ph-plus",variant:"primary"},{label:"Import CA",icon:"ph ph-upload",variant:"default"}];return e.jsxs("div",{className:l.caList,children:[e.jsxs("div",{className:l.toolbar,children:[e.jsx(y,{placeholder:"Search certificate authorities...",filters:r,actions:p,onSearch:t=>console.log("Search:",t),onFilterChange:(t,i)=>console.log("Filter:",t,i)}),e.jsxs("div",{className:l.viewToggle,children:[e.jsx(_,{variant:a==="list"?"primary":"default",icon:"ph ph-list",onClick:()=>c("list"),children:"List"}),e.jsx(_,{variant:a==="hierarchy"?"primary":"default",icon:"ph ph-tree-structure",onClick:()=>c("hierarchy"),children:"Hierarchy"})]})]}),a==="list"?e.jsx(v,{columns:o,data:n,onRowClick:t=>console.log("CA clicked:",t)}):e.jsx(q,{cas:n})]})}export{Y as CAList,Y as default};
