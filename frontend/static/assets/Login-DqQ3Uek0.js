import{u as v,r as a,j as e,B as _,z as x}from"./index-CLfQR7T-.js";import{I as f,P as j}from"./Input-DAUOVlrV.js";import{a as r}from"./api-ClVrI7m4.js";const w={login:async(s,t)=>await r.post("/api/v2/auth/login",{username:s,password:t}),logout:async()=>await r.post("/api/v2/auth/logout"),verify:async()=>await r.get("/api/v2/auth/verify")},y="_loginPage_voxah_3",b="_loginContainer_voxah_22",N="_loginHeader_voxah_39",P="_loginLogo_voxah_44",S="_loginTitle_voxah_59",C="_loginSubtitle_voxah_66",k="_loginForm_voxah_71",F="_loginOptions_voxah_81",B="_checkbox_voxah_87",I="_forgotPassword_voxah_102",L="_loginButton_voxah_113",O="_loginFooter_voxah_118",E="_version_voxah_123",o={loginPage:y,loginContainer:b,loginHeader:N,loginLogo:P,loginTitle:S,loginSubtitle:C,loginForm:k,loginOptions:F,checkbox:B,forgotPassword:I,loginButton:L,loginFooter:O,version:E};function M(){const s=v(),[t,l]=a.useState(""),[i,p]=a.useState(""),[c,g]=a.useState(!1),[d,h]=a.useState(""),m=async n=>{n.preventDefault(),g(!0),h("");try{await w.login(t,i),x.success("Login successful"),s("/dashboard")}catch(u){h(u.message||"Invalid credentials"),x.error(u.message||"Invalid credentials")}finally{g(!1)}};return e.jsx("div",{className:o.loginPage,children:e.jsxs("div",{className:o.loginContainer,children:[e.jsxs("div",{className:o.loginHeader,children:[e.jsxs("svg",{className:o.loginLogo,width:"60",height:"40",viewBox:"0 0 60 40",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"chain-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",style:{stopColor:"var(--accent-gradient-start)",stopOpacity:1}}),e.jsx("stop",{offset:"100%",style:{stopColor:"var(--accent-gradient-end)",stopOpacity:1}})]})}),e.jsx("rect",{x:"4",y:"8",width:"12",height:"20",rx:"6",fill:"none",stroke:"url(#chain-gradient)",strokeWidth:"3"}),e.jsx("rect",{x:"24",y:"16",width:"12",height:"20",rx:"6",fill:"none",stroke:"url(#chain-gradient)",strokeWidth:"3"}),e.jsx("rect",{x:"44",y:"4",width:"12",height:"20",rx:"6",fill:"none",stroke:"url(#chain-gradient)",strokeWidth:"3"})]}),e.jsx("h1",{className:o.loginTitle,children:"Unified Certificate Manager"}),e.jsx("p",{className:o.loginSubtitle,children:"Sign in to manage your PKI infrastructure"})]}),e.jsxs("form",{className:o.loginForm,onSubmit:m,children:[e.jsx(f,{label:"Username",placeholder:"Enter your username",value:t,onChange:n=>l(n.target.value),autoComplete:"username",autoFocus:!0,required:!0}),e.jsx(j,{label:"Password",placeholder:"Enter your password",value:i,onChange:n=>p(n.target.value),autoComplete:"current-password",required:!0}),d&&e.jsx("div",{className:o.errorMessage,children:d}),e.jsxs("div",{className:o.loginOptions,children:[e.jsxs("label",{className:o.checkbox,children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{children:"Remember me"})]}),e.jsx("a",{href:"#",className:o.forgotPassword,children:"Forgot password?"})]}),e.jsx(_,{type:"submit",variant:"primary",className:o.loginButton,disabled:c||!t||!i,children:c?"Signing in...":"Sign In"})]}),e.jsx("div",{className:o.loginFooter,children:e.jsx("p",{className:o.version,children:"UCM v2.1.0"})})]})})}export{M as Login,M as default};
