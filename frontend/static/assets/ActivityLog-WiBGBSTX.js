import{r as g,j as t,B as _}from"./index-DzN_Uemt.js";import{B as s}from"./Badge-Bn588KQ4.js";import{P as a}from"./PageTopBar-CxhbpVXZ.js";import{F as u,a as e}from"./FiltersBar-DZY-K-Cq.js";import{S as f,T as d}from"./SectionTabs-CbRBQcgd.js";import{u as L}from"./useAccount-DNmb6wLH.js";import"./useQuery-DUZfcy7q.js";import"./api-ClVrI7m4.js";const T="_activityLog_1tt6i_3",I="_filterGroupDate_1tt6i_9",A="_activityList_1tt6i_14",b="_activityItem_1tt6i_23",k="_activityIcon_1tt6i_37",N="_iconSuccess_1tt6i_49",S="_iconError_1tt6i_57",E="_iconWarning_1tt6i_65",G="_iconInfo_1tt6i_73",C="_iconGradient_1tt6i_81",w="_activityContent_1tt6i_89",B="_activityText_1tt6i_96",D="_activityTime_1tt6i_107",i={activityLog:T,filterGroupDate:I,activityList:A,activityItem:b,activityIcon:k,iconSuccess:N,iconError:S,iconWarning:E,iconInfo:G,iconGradient:C,activityContent:w,activityText:B,activityTime:D};function V(){const[n,o]=g.useState("app-logs"),{data:p,isLoading:v,error:r}=L();if(v)return t.jsxs("div",{className:i.activityLog,children:[t.jsx(a,{icon:"ph ph-clock-clockwise",title:"Activity",badge:t.jsx(s,{variant:"neutral",children:"Loading..."})}),t.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading activity..."})]});if(r)return t.jsxs("div",{className:i.activityLog,children:[t.jsx(a,{icon:"ph ph-clock-clockwise",title:"Activity",badge:t.jsx(s,{variant:"danger",children:"Error"})}),t.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"var(--color-danger)"},children:["Error loading activity: ",r.message]})]});const l=p?.data||[],x=l.filter(c=>c.category==="app"||!c.category),y=l.filter(c=>c.category==="pki"),h=n==="app-logs"?x:y,j=c=>{switch(c){case"success":return i.iconSuccess;case"error":return i.iconError;case"warning":return i.iconWarning;case"info":return i.iconInfo;case"gradient":return i.iconGradient;default:return i.iconInfo}};return t.jsxs("div",{className:i.activityLog,children:[t.jsx(a,{icon:"ph ph-clock-clockwise",title:"Activity",badge:t.jsx(s,{variant:"info",children:"Real-time"}),actions:t.jsx(_,{variant:"default",icon:"ph ph-download-simple",children:"Export Logs"})}),t.jsxs(u,{children:[t.jsxs("div",{className:i.filterGroupDate,children:[t.jsx(e,{label:"From",children:t.jsx("input",{type:"date",defaultValue:"2024-01-01"})}),t.jsx(e,{label:"To",children:t.jsx("input",{type:"date",defaultValue:"2024-01-15"})})]}),t.jsx(e,{label:"User",children:t.jsxs("select",{children:[t.jsx("option",{children:"All Users"}),t.jsx("option",{children:"john.doe"}),t.jsx("option",{children:"admin"}),t.jsx("option",{children:"jane.smith"})]})}),t.jsx(e,{label:"Action Type",children:t.jsxs("select",{children:[t.jsx("option",{children:"All Actions"}),t.jsx("option",{children:"Login"}),t.jsx("option",{children:"Configuration"}),t.jsx("option",{children:"User Management"})]})}),t.jsx(e,{label:"Search",children:t.jsx("input",{type:"text",placeholder:"Search activities..."})})]}),t.jsxs(f,{children:[t.jsx(d,{active:n==="app-logs",onClick:()=>o("app-logs"),children:"Application Logs"}),t.jsx(d,{active:n==="pki-ops",onClick:()=>o("pki-ops"),children:"PKI Operations"})]}),t.jsx("div",{className:i.activityList,children:h.map((c,m)=>t.jsxs("div",{className:i.activityItem,children:[t.jsx("div",{className:`${i.activityIcon} ${j(c.type)}`,children:t.jsx("i",{className:`ph ${c.icon}`})}),t.jsxs("div",{className:i.activityContent,children:[t.jsx("div",{className:i.activityText,dangerouslySetInnerHTML:{__html:c.text}}),t.jsx("div",{className:i.activityTime,children:c.time})]})]},m))})]})}export{V as ActivityLog,V as default};
