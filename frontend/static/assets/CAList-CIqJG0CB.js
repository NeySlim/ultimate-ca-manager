import{a as pn,r as u,p as hn,b as Pt,G as y,d as mn,t as gt,j as a,B as ve,z as ge}from"./index-DdQHJRZe.js";import{P as Ye}from"./PageTopBar-CMHHaflg.js";import{B as Ke}from"./Badge-Ds7r_Uvs.js";import{u as vn}from"./useQuery-BEwfEIYw.js";import{u as kt}from"./useMutation-CjjNH16L.js";import{a as fe}from"./api-ClVrI7m4.js";import{I as J}from"./Input-BelVwKmg.js";var gn=pn();const yn=new Map([["bold",u.createElement(u.Fragment,null,u.createElement("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"}))],["duotone",u.createElement(u.Fragment,null,u.createElement("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"}),u.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["fill",u.createElement(u.Fragment,null,u.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",u.createElement(u.Fragment,null,u.createElement("path",{d:"M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"}))],["regular",u.createElement(u.Fragment,null,u.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["thin",u.createElement(u.Fragment,null,u.createElement("path",{d:"M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"}))]]),Rt=u.forwardRef((e,t)=>u.createElement(hn,{ref:t,...e,weights:yn}));Rt.displayName="XIcon";const bn=Rt,ct={getAll:async(e={})=>{const t=await fe.get("/api/v2/cas",{params:e}),n=(t.data||[]).map(r=>{const c=new Date(r.valid_to)<new Date;return{id:r.id,name:r.common_name||"Unnamed CA",type:r.is_root?"Root":"Intermediate",status:c?"EXPIRED":"ACTIVE",issued:r.valid_from?r.valid_from.split("T")[0]:"N/A",expires:r.valid_to?r.valid_to.split("T")[0]:"N/A",certs:0,children:[],_raw:r}});return{data:n,meta:t.meta||{page:1,per_page:20,total:n.length}}},getById:async e=>(await fe.get(`/api/v2/cas/${e}`)).data,create:async e=>(await fe.post("/api/v2/cas",e)).data,update:async(e,t)=>(await fe.patch(`/api/v2/cas/${e}`,t)).data,delete:async e=>(await fe.delete(`/api/v2/cas/${e}`)).data},ne={all:["cas"],lists:()=>[...ne.all,"list"],list:e=>[...ne.lists(),e],details:()=>[...ne.all,"detail"],detail:e=>[...ne.details(),e]},xn=(e={})=>vn({queryKey:ne.list(e),queryFn:()=>ct.getAll(e)}),En=()=>{const e=Pt();return kt({mutationFn:ct.create,onSuccess:()=>{e.invalidateQueries({queryKey:ne.lists()})}})},wn=()=>{const e=Pt();return kt({mutationFn:ct.delete,onSuccess:()=>{e.invalidateQueries({queryKey:ne.lists()})}})};var jn=Object.defineProperty,Cn=(e,t,n)=>t in e?jn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xe=(e,t,n)=>(Cn(e,typeof t!="symbol"?t+"":t,n),n);let $n=class{constructor(){Xe(this,"current",this.detect()),Xe(this,"handoffState","pending"),Xe(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},q=new $n;function Ee(e){var t;return q.isServer?null:e==null?document:(t=e?.ownerDocument)!=null?t:document}function rt(e){var t,n;return q.isServer?null:e==null?document:(n=(t=e?.getRootNode)==null?void 0:t.call(e))!=null?n:document}function Ot(e){var t,n;return(n=(t=rt(e))==null?void 0:t.activeElement)!=null?n:null}function _n(e){return Ot(e)===e}function Oe(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function z(){let e=[],t={addEventListener(n,r,l,o){return n.addEventListener(r,l,o),t.add(()=>n.removeEventListener(r,l,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Oe(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,l){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:l}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=z();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let l of e.splice(r,1))l()}},dispose(){for(let n of e.splice(0))n()}};return t}function De(){let[e]=u.useState(z);return u.useEffect(()=>()=>e.dispose(),[e]),e}let P=(e,t)=>{q.isServer?u.useEffect(e,t):u.useLayoutEffect(e,t)};function ae(e){let t=u.useRef(e);return P(()=>{t.current=e},[e]),t}let S=function(e){let t=ae(e);return y.useCallback((...n)=>t.current(...n),[t])};function we(e){return u.useMemo(()=>e,Object.values(e))}let Sn=u.createContext(void 0);function Nn(){return u.useContext(Sn)}function lt(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function G(e,t,...n){if(e in t){let l=t[e];return typeof l=="function"?l(...n):l}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,G),r}var Pe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Pe||{}),Y=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Y||{});function O(){let e=Fn();return u.useCallback(t=>Tn({mergeRefs:e,...t}),[e])}function Tn({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:l,visible:o=!0,name:c,mergeRefs:s}){s=s??An;let i=Dt(t,e);if(o)return Fe(i,n,r,c,s);let d=l??0;if(d&2){let{static:f=!1,...g}=i;if(f)return Fe(g,n,r,c,s)}if(d&1){let{unmount:f=!0,...g}=i;return G(f?0:1,{0(){return null},1(){return Fe({...g,hidden:!0,style:{display:"none"}},n,r,c,s)}})}return Fe(i,n,r,c,s)}function Fe(e,t={},n,r,l){let{as:o=n,children:c,refName:s="ref",...i}=Ze(e,["unmount","static"]),d=e.ref!==void 0?{[s]:e.ref}:{},f=typeof c=="function"?c(t):c;"className"in i&&i.className&&typeof i.className=="function"&&(i.className=i.className(t)),i["aria-labelledby"]&&i["aria-labelledby"]===i.id&&(i["aria-labelledby"]=void 0);let g={};if(t){let h=!1,v=[];for(let[m,x]of Object.entries(t))typeof x=="boolean"&&(h=!0),x===!0&&v.push(m.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(h){g["data-headlessui-state"]=v.join(" ");for(let m of v)g[`data-${m}`]=""}}if(ye(o)&&(Object.keys(ee(i)).length>0||Object.keys(ee(g)).length>0))if(!u.isValidElement(f)||Array.isArray(f)&&f.length>1||Pn(f)){if(Object.keys(ee(i)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ee(i)).concat(Object.keys(ee(g))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=f.props,v=h?.className,m=typeof v=="function"?(...N)=>lt(v(...N),i.className):lt(v,i.className),x=m?{className:m}:{},b=Dt(f.props,ee(Ze(i,["ref"])));for(let N in g)N in b&&delete g[N];return u.cloneElement(f,Object.assign({},b,g,d,{ref:l(Ln(f),d.ref)},x))}return u.createElement(o,Object.assign({},Ze(i,["ref"]),!ye(o)&&d,!ye(o)&&g),f)}function Fn(){let e=u.useRef([]),t=u.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function An(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Dt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let l in r)l.startsWith("on")&&typeof r[l]=="function"?(n[l]!=null||(n[l]=[]),n[l].push(r[l])):t[l]=r[l];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[l=>{var o;return(o=l?.preventDefault)==null?void 0:o.call(l)}]);for(let r in n)Object.assign(t,{[r](l,...o){let c=n[r];for(let s of c){if((l instanceof Event||l?.nativeEvent instanceof Event)&&l.defaultPrevented)return;s(l,...o)}}});return t}function k(e){var t;return Object.assign(u.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ee(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ze(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Ln(e){return y.version.split(".")[0]>="19"?e.props.ref:e.ref}function ye(e){return e===u.Fragment||e===Symbol.for("react.fragment")}function Pn(e){return ye(e.type)}let kn="span";var ke=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ke||{});function Rn(e,t){var n;let{features:r=1,...l}=e,o={ref:t,"aria-hidden":(r&2)===2?!0:(n=l["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return O()({ourProps:o,theirProps:l,slot:{},defaultTag:kn,name:"Hidden"})}let at=k(Rn);function On(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function X(e){return On(e)&&"tagName"in e}function le(e){return X(e)&&"accessKey"in e}function K(e){return X(e)&&"tabIndex"in e}function Dn(e){return X(e)&&"style"in e}function In(e){return le(e)&&e.nodeName==="IFRAME"}function Mn(e){return le(e)&&e.nodeName==="INPUT"}let It=Symbol();function qn(e,t=!0){return Object.assign(e,{[It]:t})}function B(...e){let t=u.useRef(e);u.useEffect(()=>{t.current=e},[e]);let n=S(r=>{for(let l of t.current)l!=null&&(typeof l=="function"?l(r):l.current=r)});return e.every(r=>r==null||r?.[It])?void 0:n}let dt=u.createContext(null);dt.displayName="DescriptionContext";function Mt(){let e=u.useContext(dt);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Mt),t}return e}function Bn(){let[e,t]=u.useState([]);return[e.length>0?e.join(" "):void 0,u.useMemo(()=>function(n){let r=S(o=>(t(c=>[...c,o]),()=>t(c=>{let s=c.slice(),i=s.indexOf(o);return i!==-1&&s.splice(i,1),s}))),l=u.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return y.createElement(dt.Provider,{value:l},n.children)},[t])]}let Hn="p";function Un(e,t){let n=u.useId(),r=Nn(),{id:l=`headlessui-description-${n}`,...o}=e,c=Mt(),s=B(t);P(()=>c.register(l),[l,c.register]);let i=we({...c.slot,disabled:r||!1}),d={ref:s,...c.props,id:l};return O()({ourProps:d,theirProps:o,slot:i,defaultTag:Hn,name:c.name||"Description"})}let Gn=k(Un),zn=Object.assign(Gn,{});var qt=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(qt||{});let Vn=u.createContext(()=>{});function Wn({value:e,children:t}){return y.createElement(Vn.Provider,{value:e},t)}let Bt=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var Yn=Object.defineProperty,Kn=(e,t,n)=>t in e?Yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xn=(e,t,n)=>(Kn(e,t+"",n),n),Ht=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},R=(e,t,n)=>(Ht(e,t,"read from private field"),n?n.call(e):t.get(e)),Qe=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},yt=(e,t,n,r)=>(Ht(e,t,"write to private field"),t.set(e,n),n),M,pe,he;let Zn=class{constructor(t){Qe(this,M,{}),Qe(this,pe,new Bt(()=>new Set)),Qe(this,he,new Set),Xn(this,"disposables",z()),yt(this,M,t),q.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return R(this,M)}subscribe(t,n){if(q.isServer)return()=>{};let r={selector:t,callback:n,current:t(R(this,M))};return R(this,he).add(r),this.disposables.add(()=>{R(this,he).delete(r)})}on(t,n){return q.isServer?()=>{}:(R(this,pe).get(t).add(n),this.disposables.add(()=>{R(this,pe).get(t).delete(n)}))}send(t){let n=this.reduce(R(this,M),t);if(n!==R(this,M)){yt(this,M,n);for(let r of R(this,he)){let l=r.selector(R(this,M));Ut(r.current,l)||(r.current=l,r.callback(l))}for(let r of R(this,pe).get(t.type))r(R(this,M),t)}}};M=new WeakMap,pe=new WeakMap,he=new WeakMap;function Ut(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Je(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Je(e.entries(),t.entries()):bt(e)&&bt(t)?Je(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Je(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function bt(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var Qn=Object.defineProperty,Jn=(e,t,n)=>t in e?Qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xt=(e,t,n)=>(Jn(e,typeof t!="symbol"?t+"":t,n),n),er=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(er||{});let tr={0(e,t){let n=t.id,r=e.stack,l=e.stack.indexOf(n);if(l!==-1){let o=e.stack.slice();return o.splice(l,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let l=e.stack.slice();return l.splice(r,1),{...e,stack:l}}},nr=class Gt extends Zn{constructor(){super(...arguments),xt(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),xt(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Gt({stack:[]})}reduce(t,n){return G(n.type,tr,t,n)}};const zt=new Bt(()=>nr.new());var et={exports:{}},tt={};var Et;function rr(){if(Et)return tt;Et=1;var e=mn();function t(i,d){return i===d&&(i!==0||1/i===1/d)||i!==i&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,l=e.useRef,o=e.useEffect,c=e.useMemo,s=e.useDebugValue;return tt.useSyncExternalStoreWithSelector=function(i,d,f,g,h){var v=l(null);if(v.current===null){var m={hasValue:!1,value:null};v.current=m}else m=v.current;v=c(function(){function b(p){if(!N){if(N=!0,_=p,p=g(p),h!==void 0&&m.hasValue){var w=m.value;if(h(w,p))return j=w}return j=p}if(w=j,n(_,p))return w;var A=g(p);return h!==void 0&&h(w,A)?(_=p,w):(_=p,j=A)}var N=!1,_,j,T=f===void 0?null:f;return[function(){return b(d())},T===null?void 0:function(){return b(T())}]},[d,f,g,h]);var x=r(i,v[0],v[1]);return o(function(){m.hasValue=!0,m.value=x},[x]),s(x),x},tt}var wt;function lr(){return wt||(wt=1,et.exports=rr()),et.exports}var ar=lr();function Vt(e,t,n=Ut){return ar.useSyncExternalStoreWithSelector(S(r=>e.subscribe(or,r)),S(()=>e.state),S(()=>e.state),S(t),n)}function or(e){return e}function je(e,t){let n=u.useId(),r=zt.get(t),[l,o]=Vt(r,u.useCallback(c=>[r.selectors.isTop(c,n),r.selectors.inStack(c,n)],[r,n]));return P(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?l:!0:!1}let ot=new Map,be=new Map;function jt(e){var t;let n=(t=be.get(e))!=null?t:0;return be.set(e,n+1),n!==0?()=>Ct(e):(ot.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Ct(e))}function Ct(e){var t;let n=(t=be.get(e))!=null?t:1;if(n===1?be.delete(e):be.set(e,n-1),n!==1)return;let r=ot.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,ot.delete(e))}function sr(e,{allowed:t,disallowed:n}={}){let r=je(e,"inert-others");P(()=>{var l,o;if(!r)return;let c=z();for(let i of(l=n?.())!=null?l:[])i&&c.add(jt(i));let s=(o=t?.())!=null?o:[];for(let i of s){if(!i)continue;let d=Ee(i);if(!d)continue;let f=i.parentElement;for(;f&&f!==d.body;){for(let g of f.children)s.some(h=>g.contains(h))||c.add(jt(g));f=f.parentElement}}return c.dispose},[r,t,n])}function ir(e,t,n){let r=ae(l=>{let o=l.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});u.useEffect(()=>{if(!e)return;let l=t===null?null:le(t)?t:t.current;if(!l)return;let o=z();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>r.current(l));c.observe(l),o.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>r.current(l));c.observe(l),o.add(()=>c.disconnect())}return()=>o.dispose()},[t,r,e])}let Re=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),ur=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var H=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(H||{}),st=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(st||{}),cr=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(cr||{});function dr(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Re)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function fr(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ur)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Wt=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Wt||{});function pr(e,t=0){var n;return e===((n=Ee(e))==null?void 0:n.body)?!1:G(t,{0(){return e.matches(Re)},1(){let r=e;for(;r!==null;){if(r.matches(Re))return!0;r=r.parentElement}return!1}})}var hr=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(hr||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function U(e){e?.focus({preventScroll:!0})}let mr=["textarea","input"].join(",");function vr(e){var t,n;return(n=(t=e?.matches)==null?void 0:t.call(e,mr))!=null?n:!1}function gr(e,t=n=>n){return e.slice().sort((n,r)=>{let l=t(n),o=t(r);if(l===null||o===null)return 0;let c=l.compareDocumentPosition(o);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function xe(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:l=[]}={}){let o=Array.isArray(e)?e.length>0?rt(e[0]):document:rt(e),c=Array.isArray(e)?n?gr(e):e:t&64?fr(e):dr(e);l.length>0&&c.length>1&&(c=c.filter(v=>!l.some(m=>m!=null&&"current"in m?m?.current===v:m===v))),r=r??o?.activeElement;let s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,c.indexOf(r))-1;if(t&4)return Math.max(0,c.indexOf(r))+1;if(t&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},f=0,g=c.length,h;do{if(f>=g||f+g<=0)return 0;let v=i+f;if(t&16)v=(v+g)%g;else{if(v<0)return 3;if(v>=g)return 1}h=c[v],h?.focus(d),f+=s}while(h!==Ot(h));return t&6&&vr(h)&&h.select(),2}function Yt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function yr(){return/Android/gi.test(window.navigator.userAgent)}function $t(){return Yt()||yr()}function Ae(e,t,n,r){let l=ae(n);u.useEffect(()=>{if(!e)return;function o(c){l.current(c)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function Kt(e,t,n,r){let l=ae(n);u.useEffect(()=>{if(!e)return;function o(c){l.current(c)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const _t=30;function br(e,t,n){let r=ae(n),l=u.useCallback(function(s,i){if(s.defaultPrevented)return;let d=i(s);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=(function g(h){return typeof h=="function"?g(h()):Array.isArray(h)||h instanceof Set?h:[h]})(t);for(let g of f)if(g!==null&&(g.contains(d)||s.composed&&s.composedPath().includes(g)))return;return!pr(d,Wt.Loose)&&d.tabIndex!==-1&&s.preventDefault(),r.current(s,d)},[r,t]),o=u.useRef(null);Ae(e,"pointerdown",s=>{var i,d;$t()||(o.current=((d=(i=s.composedPath)==null?void 0:i.call(s))==null?void 0:d[0])||s.target)},!0),Ae(e,"pointerup",s=>{if($t()||!o.current)return;let i=o.current;return o.current=null,l(s,()=>i)},!0);let c=u.useRef({x:0,y:0});Ae(e,"touchstart",s=>{c.current.x=s.touches[0].clientX,c.current.y=s.touches[0].clientY},!0),Ae(e,"touchend",s=>{let i={x:s.changedTouches[0].clientX,y:s.changedTouches[0].clientY};if(!(Math.abs(i.x-c.current.x)>=_t||Math.abs(i.y-c.current.y)>=_t))return l(s,()=>K(s.target)?s.target:null)},!0),Kt(e,"blur",s=>l(s,()=>In(window.document.activeElement)?window.document.activeElement:null),!0)}function ft(...e){return u.useMemo(()=>Ee(...e),[...e])}function Xt(e,t,n,r){let l=ae(n);u.useEffect(()=>{e=e??window;function o(c){l.current(c)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function xr(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Er(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(l){return r.add(l),()=>r.delete(l)},dispatch(l,...o){let c=t[l].call(n,...o);c&&(n=c,r.forEach(s=>s()))}}}function wr(){let e;return{before({doc:t}){var n;let r=t.documentElement,l=(n=t.defaultView)!=null?n:window;e=Math.max(0,l.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,l=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-l);n.style(r,"paddingRight",`${o}px`)}}}function jr(){return Yt()?{before({doc:e,d:t,meta:n}){function r(l){for(let o of n().containers)for(let c of o())if(c.contains(l))return!0;return!1}t.microTask(()=>{var l;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=z();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let o=(l=window.scrollY)!=null?l:window.pageYOffset,c=null;t.addEventListener(e,"click",s=>{if(K(s.target))try{let i=s.target.closest("a");if(!i)return;let{hash:d}=new URL(i.href),f=e.querySelector(d);K(f)&&!r(f)&&(c=f)}catch{}},!0),t.group(s=>{t.addEventListener(e,"touchstart",i=>{if(s.dispose(),K(i.target)&&Dn(i.target))if(r(i.target)){let d=i.target;for(;d.parentElement&&r(d.parentElement);)d=d.parentElement;s.style(d,"overscrollBehavior","contain")}else s.style(i.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",s=>{if(K(s.target)){if(Mn(s.target))return;if(r(s.target)){let i=s.target;for(;i.parentElement&&i.dataset.headlessuiPortal!==""&&!(i.scrollHeight>i.clientHeight||i.scrollWidth>i.clientWidth);)i=i.parentElement;i.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let i=(s=window.scrollY)!=null?s:window.pageYOffset;o!==i&&window.scrollTo(0,o),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function Cr(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function St(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let re=Er(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:z(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=St(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=St(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[jr(),wr(),Cr()];n.forEach(({before:r})=>r?.(t)),n.forEach(({after:r})=>r?.(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});re.subscribe(()=>{let e=re.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",l=n.count!==0;(l&&!r||!l&&r)&&re.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&re.dispatch("TEARDOWN",n)}});function $r(e,t,n=()=>({containers:[]})){let r=xr(re),l=t?r.get(t):void 0,o=l?l.count>0:!1;return P(()=>{if(!(!t||!e))return re.dispatch("PUSH",t,n),()=>re.dispatch("POP",t,n)},[e,t]),o}function _r(e,t,n=()=>[document.body]){let r=je(e,"scroll-lock");$r(r,t,l=>{var o;return{containers:[...(o=l.containers)!=null?o:[],n]}})}function Sr(e=0){let[t,n]=u.useState(e),r=u.useCallback(i=>n(i),[]),l=u.useCallback(i=>n(d=>d|i),[]),o=u.useCallback(i=>(t&i)===i,[t]),c=u.useCallback(i=>n(d=>d&~i),[]),s=u.useCallback(i=>n(d=>d^i),[]);return{flags:t,setFlag:r,addFlag:l,hasFlag:o,removeFlag:c,toggleFlag:s}}var Nr={},Nt,Tt;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Nt=process==null?void 0:Nr)==null?void 0:Nt.NODE_ENV)==="test"&&typeof((Tt=Element?.prototype)==null?void 0:Tt.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Tr=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Tr||{});function Fr(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Ar(e,t,n,r){let[l,o]=u.useState(n),{hasFlag:c,addFlag:s,removeFlag:i}=Sr(e&&l?3:0),d=u.useRef(!1),f=u.useRef(!1),g=De();return P(()=>{var h;if(e){if(n&&o(!0),!t){n&&s(3);return}return(h=r?.start)==null||h.call(r,n),Lr(t,{inFlight:d,prepare(){f.current?f.current=!1:f.current=d.current,d.current=!0,!f.current&&(n?(s(3),i(4)):(s(4),i(2)))},run(){f.current?n?(i(3),s(4)):(i(4),s(3)):n?i(1):s(1)},done(){var v;f.current&&Rr(t)||(d.current=!1,i(7),n||o(!1),(v=r?.end)==null||v.call(r,n))}})}},[e,n,t,g]),e?[l,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Lr(e,{prepare:t,run:n,done:r,inFlight:l}){let o=z();return kr(e,{prepare:t,inFlight:l}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(Pr(e,r))})}),o.dispose}function Pr(e,t){var n,r;let l=z();if(!e)return l.dispose;let o=!1;l.add(()=>{o=!0});let c=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(s=>s instanceof CSSTransition))!=null?r:[];return c.length===0?(t(),l.dispose):(Promise.allSettled(c.map(s=>s.finished)).then(()=>{o||t()}),l.dispose)}function kr(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Rr(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function pt(e,t){let n=u.useRef([]),r=S(e);u.useEffect(()=>{let l=[...n.current];for(let[o,c]of t.entries())if(n.current[o]!==c){let s=r(t,l);return n.current=t,s}},[r,...t])}let Ie=u.createContext(null);Ie.displayName="OpenClosedContext";var I=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(I||{});function Me(){return u.useContext(Ie)}function Or({value:e,children:t}){return y.createElement(Ie.Provider,{value:e},t)}function Dr({children:e}){return y.createElement(Ie.Provider,{value:null},e)}function Ir(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let W=[];Ir(()=>{function e(t){if(!K(t.target)||t.target===document.body||W[0]===t.target)return;let n=t.target;n=n.closest(Re),W.unshift(n??t.target),W=W.filter(r=>r!=null&&r.isConnected),W.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Zt(e){let t=S(e),n=u.useRef(!1);u.useEffect(()=>(n.current=!1,()=>{n.current=!0,Oe(()=>{n.current&&t()})}),[t])}let Qt=u.createContext(!1);function Mr(){return u.useContext(Qt)}function Ft(e){return y.createElement(Qt.Provider,{value:e.force},e.children)}function qr(e){let t=Mr(),n=u.useContext(en),[r,l]=u.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(q.isServer)return null;let c=e?.getElementById("headlessui-portal-root");if(c)return c;if(e===null)return null;let s=e.createElement("div");return s.setAttribute("id","headlessui-portal-root"),e.body.appendChild(s)});return u.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),u.useEffect(()=>{t||n!==null&&l(n.current)},[n,l,t]),r}let Jt=u.Fragment,Br=k(function(e,t){let{ownerDocument:n=null,...r}=e,l=u.useRef(null),o=B(qn(h=>{l.current=h}),t),c=ft(l.current),s=n??c,i=qr(s),d=u.useContext(it),f=De(),g=O();return Zt(()=>{var h;i&&i.childNodes.length<=0&&((h=i.parentElement)==null||h.removeChild(i))}),i?gn.createPortal(y.createElement("div",{"data-headlessui-portal":"",ref:h=>{f.dispose(),d&&h&&f.add(d.register(h))}},g({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:Jt,name:"Portal"})),i):null});function Hr(e,t){let n=B(t),{enabled:r=!0,ownerDocument:l,...o}=e,c=O();return r?y.createElement(Br,{...o,ownerDocument:l,ref:n}):c({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:Jt,name:"Portal"})}let Ur=u.Fragment,en=u.createContext(null);function Gr(e,t){let{target:n,...r}=e,l={ref:B(t)},o=O();return y.createElement(en.Provider,{value:n},o({ourProps:l,theirProps:r,defaultTag:Ur,name:"Popover.Group"}))}let it=u.createContext(null);function zr(){let e=u.useContext(it),t=u.useRef([]),n=S(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=S(o=>{let c=t.current.indexOf(o);c!==-1&&t.current.splice(c,1),e&&e.unregister(o)}),l=u.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,u.useMemo(()=>function({children:o}){return y.createElement(it.Provider,{value:l},o)},[l])]}let Vr=k(Hr),tn=k(Gr),Wr=Object.assign(Vr,{Group:tn});function Yr(e,t=typeof document<"u"?document.defaultView:null,n){let r=je(e,"escape");Xt(t,"keydown",l=>{r&&(l.defaultPrevented||l.key===qt.Escape&&n(l))})}function Kr(){var e;let[t]=u.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=u.useState((e=t?.matches)!=null?e:!1);return P(()=>{if(!t)return;function l(o){r(o.matches)}return t.addEventListener("change",l),()=>t.removeEventListener("change",l)},[t]),n}function Xr({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=S(()=>{var l,o;let c=Ee(n),s=[];for(let i of e)i!==null&&(X(i)?s.push(i):"current"in i&&X(i.current)&&s.push(i.current));if(t!=null&&t.current)for(let i of t.current)s.push(i);for(let i of(l=c?.querySelectorAll("html > *, body > *"))!=null?l:[])i!==document.body&&i!==document.head&&X(i)&&i.id!=="headlessui-portal-root"&&(n&&(i.contains(n)||i.contains((o=n?.getRootNode())==null?void 0:o.host))||s.some(d=>i.contains(d))||s.push(i));return s});return{resolveContainers:r,contains:S(l=>r().some(o=>o.contains(l)))}}let nn=u.createContext(null);function At({children:e,node:t}){let[n,r]=u.useState(null),l=rn(t??n);return y.createElement(nn.Provider,{value:l},e,l===null&&y.createElement(at,{features:ke.Hidden,ref:o=>{var c,s;if(o){for(let i of(s=(c=Ee(o))==null?void 0:c.querySelectorAll("html > *, body > *"))!=null?s:[])if(i!==document.body&&i!==document.head&&X(i)&&i!=null&&i.contains(o)){r(i);break}}}}))}function rn(e=null){var t;return(t=u.useContext(nn))!=null?t:e}function Zr(){let e=typeof document>"u";return"useSyncExternalStore"in gt?(t=>t.useSyncExternalStore)(gt)(()=>()=>{},()=>!1,()=>!e):!1}function qe(){let e=Zr(),[t,n]=u.useState(q.isHandoffComplete);return t&&q.isHandoffComplete===!1&&n(!1),u.useEffect(()=>{t!==!0&&n(!0)},[t]),u.useEffect(()=>q.handoff(),[]),e?!1:t}function ht(){let e=u.useRef(!1);return P(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var me=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(me||{});function Qr(){let e=u.useRef(0);return Kt(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ln(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)X(n.current)&&t.add(n.current);return t}let Jr="div";var te=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(te||{});function el(e,t){let n=u.useRef(null),r=B(n,t),{initialFocus:l,initialFocusFallback:o,containers:c,features:s=15,...i}=e;qe()||(s=0);let d=ft(n.current);ll(s,{ownerDocument:d});let f=al(s,{ownerDocument:d,container:n,initialFocus:l,initialFocusFallback:o});ol(s,{ownerDocument:d,container:n,containers:c,previousActiveElement:f});let g=Qr(),h=S(_=>{if(!le(n.current))return;let j=n.current;(T=>T())(()=>{G(g.current,{[me.Forwards]:()=>{xe(j,H.First,{skipElements:[_.relatedTarget,o]})},[me.Backwards]:()=>{xe(j,H.Last,{skipElements:[_.relatedTarget,o]})}})})}),v=je(!!(s&2),"focus-trap#tab-lock"),m=De(),x=u.useRef(!1),b={ref:r,onKeyDown(_){_.key=="Tab"&&(x.current=!0,m.requestAnimationFrame(()=>{x.current=!1}))},onBlur(_){if(!(s&4))return;let j=ln(c);le(n.current)&&j.add(n.current);let T=_.relatedTarget;K(T)&&T.dataset.headlessuiFocusGuard!=="true"&&(an(j,T)||(x.current?xe(n.current,G(g.current,{[me.Forwards]:()=>H.Next,[me.Backwards]:()=>H.Previous})|H.WrapAround,{relativeTo:_.target}):K(_.target)&&U(_.target)))}},N=O();return y.createElement(y.Fragment,null,v&&y.createElement(at,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ke.Focusable}),N({ourProps:b,theirProps:i,defaultTag:Jr,name:"FocusTrap"}),v&&y.createElement(at,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ke.Focusable}))}let tl=k(el),nl=Object.assign(tl,{features:te});function rl(e=!0){let t=u.useRef(W.slice());return pt(([n],[r])=>{r===!0&&n===!1&&Oe(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=W.slice())},[e,W,t]),S(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function ll(e,{ownerDocument:t}){let n=!!(e&8),r=rl(n);pt(()=>{n||_n(t?.body)&&U(r())},[n]),Zt(()=>{n&&U(r())})}function al(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:l}){let o=u.useRef(null),c=je(!!(e&1),"focus-trap#initial-focus"),s=ht();return pt(()=>{if(e===0)return;if(!c){l!=null&&l.current&&U(l.current);return}let i=n.current;i&&Oe(()=>{if(!s.current)return;let d=t?.activeElement;if(r!=null&&r.current){if(r?.current===d){o.current=d;return}}else if(i.contains(d)){o.current=d;return}if(r!=null&&r.current)U(r.current);else{if(e&16){if(xe(i,H.First|H.AutoFocus)!==st.Error)return}else if(xe(i,H.First)!==st.Error)return;if(l!=null&&l.current&&(U(l.current),t?.activeElement===l.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=t?.activeElement})},[l,c,e]),o}function ol(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:l}){let o=ht(),c=!!(e&4);Xt(t?.defaultView,"focus",s=>{if(!c||!o.current)return;let i=ln(r);le(n.current)&&i.add(n.current);let d=l.current;if(!d)return;let f=s.target;le(f)?an(i,f)?(l.current=f,U(f)):(s.preventDefault(),s.stopPropagation(),U(d)):U(l.current)},!0)}function an(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function on(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!ye((t=e.as)!=null?t:un)||y.Children.count(e.children)===1}let Be=u.createContext(null);Be.displayName="TransitionContext";var sl=(e=>(e.Visible="visible",e.Hidden="hidden",e))(sl||{});function il(){let e=u.useContext(Be);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function ul(){let e=u.useContext(He);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let He=u.createContext(null);He.displayName="NestingContext";function Ue(e){return"children"in e?Ue(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function sn(e,t){let n=ae(e),r=u.useRef([]),l=ht(),o=De(),c=S((v,m=Y.Hidden)=>{let x=r.current.findIndex(({el:b})=>b===v);x!==-1&&(G(m,{[Y.Unmount](){r.current.splice(x,1)},[Y.Hidden](){r.current[x].state="hidden"}}),o.microTask(()=>{var b;!Ue(r)&&l.current&&((b=n.current)==null||b.call(n))}))}),s=S(v=>{let m=r.current.find(({el:x})=>x===v);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:v,state:"visible"}),()=>c(v,Y.Unmount)}),i=u.useRef([]),d=u.useRef(Promise.resolve()),f=u.useRef({enter:[],leave:[]}),g=S((v,m,x)=>{i.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([b])=>b!==v)),t?.chains.current[m].push([v,new Promise(b=>{i.current.push(b)})]),t?.chains.current[m].push([v,new Promise(b=>{Promise.all(f.current[m].map(([N,_])=>_)).then(()=>b())})]),m==="enter"?d.current=d.current.then(()=>t?.wait.current).then(()=>x(m)):x(m)}),h=S((v,m,x)=>{Promise.all(f.current[m].splice(0).map(([b,N])=>N)).then(()=>{var b;(b=i.current.shift())==null||b()}).then(()=>x(m))});return u.useMemo(()=>({children:r,register:s,unregister:c,onStart:g,onStop:h,wait:d,chains:f}),[s,c,r,g,h,f,d])}let un=u.Fragment,cn=Pe.RenderStrategy;function cl(e,t){var n,r;let{transition:l=!0,beforeEnter:o,afterEnter:c,beforeLeave:s,afterLeave:i,enter:d,enterFrom:f,enterTo:g,entered:h,leave:v,leaveFrom:m,leaveTo:x,...b}=e,[N,_]=u.useState(null),j=u.useRef(null),T=on(e),p=B(...T?[j,t,_]:t===null?[]:[t]),w=(n=b.unmount)==null||n?Y.Unmount:Y.Hidden,{show:A,appear:Ce,initial:$e}=il(),[L,Z]=u.useState(A?"visible":"hidden"),ie=ul(),{register:D,unregister:Q}=ie;P(()=>D(j),[D,j]),P(()=>{if(w===Y.Hidden&&j.current){if(A&&L!=="visible"){Z("visible");return}return G(L,{hidden:()=>Q(j),visible:()=>D(j)})}},[L,j,D,Q,A,w]);let ue=qe();P(()=>{if(T&&ue&&L==="visible"&&j.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[j,L,ue,T]);let ze=$e&&!Ce,_e=Ce&&A&&$e,oe=u.useRef(!1),se=sn(()=>{oe.current||(Z("hidden"),Q(j))},ie),Se=S(We=>{oe.current=!0;let Te=We?"enter":"leave";se.onStart(j,Te,de=>{de==="enter"?o?.():de==="leave"&&s?.()})}),V=S(We=>{let Te=We?"enter":"leave";oe.current=!1,se.onStop(j,Te,de=>{de==="enter"?c?.():de==="leave"&&i?.()}),Te==="leave"&&!Ue(se)&&(Z("hidden"),Q(j))});u.useEffect(()=>{T&&l||(Se(A),V(A))},[A,T,l]);let Ve=!(!l||!T||!ue||ze),[,C]=Ar(Ve,N,A,{start:Se,end:V}),Ne=ee({ref:p,className:((r=lt(b.className,_e&&d,_e&&f,C.enter&&d,C.enter&&C.closed&&f,C.enter&&!C.closed&&g,C.leave&&v,C.leave&&!C.closed&&m,C.leave&&C.closed&&x,!C.transition&&A&&h))==null?void 0:r.trim())||void 0,...Fr(C)}),ce=0;L==="visible"&&(ce|=I.Open),L==="hidden"&&(ce|=I.Closed),A&&L==="hidden"&&(ce|=I.Opening),!A&&L==="visible"&&(ce|=I.Closing);let fn=O();return y.createElement(He.Provider,{value:se},y.createElement(Or,{value:ce},fn({ourProps:Ne,theirProps:b,defaultTag:un,features:cn,visible:L==="visible",name:"Transition.Child"})))}function dl(e,t){let{show:n,appear:r=!1,unmount:l=!0,...o}=e,c=u.useRef(null),s=on(e),i=B(...s?[c,t]:t===null?[]:[t]);qe();let d=Me();if(n===void 0&&d!==null&&(n=(d&I.Open)===I.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,g]=u.useState(n?"visible":"hidden"),h=sn(()=>{n||g("hidden")}),[v,m]=u.useState(!0),x=u.useRef([n]);P(()=>{v!==!1&&x.current[x.current.length-1]!==n&&(x.current.push(n),m(!1))},[x,n]);let b=u.useMemo(()=>({show:n,appear:r,initial:v}),[n,r,v]);P(()=>{n?g("visible"):!Ue(h)&&c.current!==null&&g("hidden")},[n,h]);let N={unmount:l},_=S(()=>{var p;v&&m(!1),(p=e.beforeEnter)==null||p.call(e)}),j=S(()=>{var p;v&&m(!1),(p=e.beforeLeave)==null||p.call(e)}),T=O();return y.createElement(He.Provider,{value:h},y.createElement(Be.Provider,{value:b},T({ourProps:{...N,as:u.Fragment,children:y.createElement(dn,{ref:i,...N,...o,beforeEnter:_,beforeLeave:j})},theirProps:{},defaultTag:u.Fragment,features:cn,visible:f==="visible",name:"Transition"})))}function fl(e,t){let n=u.useContext(Be)!==null,r=Me()!==null;return y.createElement(y.Fragment,null,!n&&r?y.createElement(ut,{ref:t,...e}):y.createElement(dn,{ref:t,...e}))}let ut=k(dl),dn=k(cl),mt=k(fl),Le=Object.assign(ut,{Child:mt,Root:ut});var pl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(pl||{}),hl=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(hl||{});let ml={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},vt=u.createContext(null);vt.displayName="DialogContext";function Ge(e){let t=u.useContext(vt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ge),n}return t}function vl(e,t){return G(t.type,ml,e,t)}let Lt=k(function(e,t){let n=u.useId(),{id:r=`headlessui-dialog-${n}`,open:l,onClose:o,initialFocus:c,role:s="dialog",autoFocus:i=!0,__demoMode:d=!1,unmount:f=!1,...g}=e,h=u.useRef(!1);s=(function(){return s==="dialog"||s==="alertdialog"?s:(h.current||(h.current=!0,console.warn(`Invalid role [${s}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let v=Me();l===void 0&&v!==null&&(l=(v&I.Open)===I.Open);let m=u.useRef(null),x=B(m,t),b=ft(m.current),N=l?0:1,[_,j]=u.useReducer(vl,{titleId:null,descriptionId:null,panelRef:u.createRef()}),T=S(()=>o(!1)),p=S(C=>j({type:0,id:C})),w=qe()?N===0:!1,[A,Ce]=zr(),$e={get current(){var C;return(C=_.panelRef.current)!=null?C:m.current}},L=rn(),{resolveContainers:Z}=Xr({mainTreeNode:L,portals:A,defaultContainers:[$e]}),ie=v!==null?(v&I.Closing)===I.Closing:!1;sr(d||ie?!1:w,{allowed:S(()=>{var C,Ne;return[(Ne=(C=m.current)==null?void 0:C.closest("[data-headlessui-portal]"))!=null?Ne:null]}),disallowed:S(()=>{var C;return[(C=L?.closest("body > *:not(#headlessui-portal-root)"))!=null?C:null]})});let D=zt.get(null);P(()=>{if(w)return D.actions.push(r),()=>D.actions.pop(r)},[D,r,w]);let Q=Vt(D,u.useCallback(C=>D.selectors.isTop(C,r),[D,r]));br(Q,Z,C=>{C.preventDefault(),T()}),Yr(Q,b?.defaultView,C=>{C.preventDefault(),C.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),_r(d||ie?!1:w,b,Z),ir(w,m,T);let[ue,ze]=Bn(),_e=u.useMemo(()=>[{dialogState:N,close:T,setTitleId:p,unmount:f},_],[N,T,p,f,_]),oe=we({open:N===0}),se={ref:x,id:r,role:s,tabIndex:-1,"aria-modal":d?void 0:N===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":ue,unmount:f},Se=!Kr(),V=te.None;w&&!d&&(V|=te.RestoreFocus,V|=te.TabLock,i&&(V|=te.AutoFocus),Se&&(V|=te.InitialFocus));let Ve=O();return y.createElement(Dr,null,y.createElement(Ft,{force:!0},y.createElement(Wr,null,y.createElement(vt.Provider,{value:_e},y.createElement(tn,{target:m},y.createElement(Ft,{force:!1},y.createElement(ze,{slot:oe},y.createElement(Ce,null,y.createElement(nl,{initialFocus:c,initialFocusFallback:m,containers:Z,features:V},y.createElement(Wn,{value:T},Ve({ourProps:se,theirProps:g,slot:oe,defaultTag:gl,features:yl,visible:N===0,name:"Dialog"})))))))))))}),gl="div",yl=Pe.RenderStrategy|Pe.Static;function bl(e,t){let{transition:n=!1,open:r,...l}=e,o=Me(),c=e.hasOwnProperty("open")||o!==null,s=e.hasOwnProperty("onClose");if(!c&&!s)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!c)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!s)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!l.static?y.createElement(At,null,y.createElement(Le,{show:r,transition:n,unmount:l.unmount},y.createElement(Lt,{ref:t,...l}))):y.createElement(At,null,y.createElement(Lt,{ref:t,open:r,...l}))}let xl="div";function El(e,t){let n=u.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:l=!1,...o}=e,[{dialogState:c,unmount:s},i]=Ge("Dialog.Panel"),d=B(t,i.panelRef),f=we({open:c===0}),g=S(b=>{b.stopPropagation()}),h={ref:d,id:r,onClick:g},v=l?mt:u.Fragment,m=l?{unmount:s}:{},x=O();return y.createElement(v,{...m},x({ourProps:h,theirProps:o,slot:f,defaultTag:xl,name:"Dialog.Panel"}))}let wl="div";function jl(e,t){let{transition:n=!1,...r}=e,[{dialogState:l,unmount:o}]=Ge("Dialog.Backdrop"),c=we({open:l===0}),s={ref:t,"aria-hidden":!0},i=n?mt:u.Fragment,d=n?{unmount:o}:{},f=O();return y.createElement(i,{...d},f({ourProps:s,theirProps:r,slot:c,defaultTag:wl,name:"Dialog.Backdrop"}))}let Cl="h2";function $l(e,t){let n=u.useId(),{id:r=`headlessui-dialog-title-${n}`,...l}=e,[{dialogState:o,setTitleId:c}]=Ge("Dialog.Title"),s=B(t);u.useEffect(()=>(c(r),()=>c(null)),[r,c]);let i=we({open:o===0}),d={ref:s,id:r};return O()({ourProps:d,theirProps:l,slot:i,defaultTag:Cl,name:"Dialog.Title"})}let _l=k(bl),Sl=k(El);k(jl);let Nl=k($l),nt=Object.assign(_l,{Panel:Sl,Title:Nl,Description:zn});const Tl="_dialogOverlay_2by0a_3",Fl="_overlay_2by0a_9",Al="_dialogContainer_2by0a_16",Ll="_panel_2by0a_26",Pl="_sm_2by0a_38",kl="_md_2by0a_39",Rl="_lg_2by0a_40",Ol="_xl_2by0a_41",Dl="_header_2by0a_44",Il="_title_2by0a_54",Ml="_closeBtn_2by0a_61",ql="_body_2by0a_84",Bl="_footer_2by0a_91",Hl="_overlayEnter_2by0a_102",Ul="_overlayEnterFrom_2by0a_106",Gl="_overlayEnterTo_2by0a_110",zl="_overlayLeave_2by0a_114",Vl="_overlayLeaveFrom_2by0a_118",Wl="_overlayLeaveTo_2by0a_122",Yl="_panelEnter_2by0a_127",Kl="_panelEnterFrom_2by0a_131",Xl="_panelEnterTo_2by0a_136",Zl="_panelLeave_2by0a_141",Ql="_panelLeaveFrom_2by0a_145",Jl="_panelLeaveTo_2by0a_150",F={dialogOverlay:Tl,overlay:Fl,dialogContainer:Al,panel:Ll,sm:Pl,md:kl,lg:Rl,xl:Ol,header:Dl,title:Il,closeBtn:Ml,body:ql,footer:Bl,overlayEnter:Hl,overlayEnterFrom:Ul,overlayEnterTo:Gl,overlayLeave:zl,overlayLeaveFrom:Vl,overlayLeaveTo:Wl,panelEnter:Yl,panelEnterFrom:Kl,panelEnterTo:Xl,panelLeave:Zl,panelLeaveFrom:Ql,panelLeaveTo:Jl};function ea({isOpen:e,onClose:t,title:n,children:r,footer:l,size:o="md"}){return a.jsx(Le,{appear:!0,show:e,as:u.Fragment,children:a.jsxs(nt,{as:"div",className:F.dialogOverlay,onClose:t,children:[a.jsx(Le.Child,{as:u.Fragment,enter:F.overlayEnter,enterFrom:F.overlayEnterFrom,enterTo:F.overlayEnterTo,leave:F.overlayLeave,leaveFrom:F.overlayLeaveFrom,leaveTo:F.overlayLeaveTo,children:a.jsx("div",{className:F.overlay})}),a.jsx("div",{className:F.dialogContainer,children:a.jsx(Le.Child,{as:u.Fragment,enter:F.panelEnter,enterFrom:F.panelEnterFrom,enterTo:F.panelEnterTo,leave:F.panelLeave,leaveFrom:F.panelLeaveFrom,leaveTo:F.panelLeaveTo,children:a.jsxs(nt.Panel,{className:`${F.panel} ${F[o]}`,children:[a.jsxs("div",{className:F.header,children:[a.jsx(nt.Title,{className:F.title,children:n}),a.jsx("button",{onClick:t,className:F.closeBtn,children:a.jsx(bn,{size:18})})]}),a.jsx("div",{className:F.body,children:r}),l&&a.jsx("div",{className:F.footer,children:l})]})})})]})})}const ta="_form_yeq9h_1",na="_section_yeq9h_7",ra="_sectionTitle_yeq9h_13",la="_fieldGroup_yeq9h_22",aa="_fieldRow_yeq9h_29",oa="_label_yeq9h_35",sa="_radioGroup_yeq9h_43",ia="_radio_yeq9h_43",ua="_select_yeq9h_67",$={form:ta,section:na,sectionTitle:ra,fieldGroup:la,fieldRow:aa,label:oa,radioGroup:sa,radio:ia,select:ua};function ca({isOpen:e,onClose:t}){const[n,r]=u.useState({commonName:"",organization:"",organizationalUnit:"",country:"",state:"",locality:"",validityDays:"3650",keySize:"2048",isRoot:!0}),l=En(),o=s=>{if(s.preventDefault(),!n.commonName){ge.error("Common Name is required");return}l.mutate({common_name:n.commonName,organization:n.organization,organizational_unit:n.organizationalUnit,country:n.country,state:n.state,locality:n.locality,validity_days:parseInt(n.validityDays),key_size:parseInt(n.keySize),is_root:n.isRoot},{onSuccess:()=>{ge.success("CA created successfully"),t(),r({commonName:"",organization:"",organizationalUnit:"",country:"",state:"",locality:"",validityDays:"3650",keySize:"2048",isRoot:!0})},onError:i=>{ge.error(`Failed to create CA: ${i.message}`)}})},c=(s,i)=>{r(d=>({...d,[s]:i}))};return a.jsx(ea,{isOpen:e,onClose:t,title:"Create Certificate Authority",size:"lg",footer:a.jsxs(a.Fragment,{children:[a.jsx(ve,{variant:"default",onClick:t,children:"Cancel"}),a.jsx(ve,{variant:"primary",onClick:o,disabled:l.isPending,children:l.isPending?"Creating...":"Create CA"})]}),children:a.jsxs("form",{className:$.form,onSubmit:o,children:[a.jsxs("div",{className:$.fieldGroup,children:[a.jsx("label",{className:$.label,children:"CA Type"}),a.jsxs("div",{className:$.radioGroup,children:[a.jsxs("label",{className:$.radio,children:[a.jsx("input",{type:"radio",checked:n.isRoot,onChange:()=>c("isRoot",!0)}),a.jsx("span",{children:"Root CA"})]}),a.jsxs("label",{className:$.radio,children:[a.jsx("input",{type:"radio",checked:!n.isRoot,onChange:()=>c("isRoot",!1)}),a.jsx("span",{children:"Intermediate CA"})]})]})]}),a.jsxs("div",{className:$.section,children:[a.jsx("h3",{className:$.sectionTitle,children:"Subject Information"}),a.jsxs("div",{className:$.fieldGroup,children:[a.jsx("label",{className:$.label,children:"Common Name (CN) *"}),a.jsx(J,{value:n.commonName,onChange:s=>c("commonName",s.target.value),placeholder:"My Root CA",required:!0})]}),a.jsxs("div",{className:$.fieldRow,children:[a.jsxs("div",{className:$.fieldGroup,children:[a.jsx("label",{className:$.label,children:"Organization (O)"}),a.jsx(J,{value:n.organization,onChange:s=>c("organization",s.target.value),placeholder:"My Company"})]}),a.jsxs("div",{className:$.fieldGroup,children:[a.jsx("label",{className:$.label,children:"Organizational Unit (OU)"}),a.jsx(J,{value:n.organizationalUnit,onChange:s=>c("organizationalUnit",s.target.value),placeholder:"IT Department"})]})]}),a.jsxs("div",{className:$.fieldRow,children:[a.jsxs("div",{className:$.fieldGroup,children:[a.jsx("label",{className:$.label,children:"Country (C)"}),a.jsx(J,{value:n.country,onChange:s=>c("country",s.target.value),placeholder:"US",maxLength:2})]}),a.jsxs("div",{className:$.fieldGroup,children:[a.jsx("label",{className:$.label,children:"State/Province (ST)"}),a.jsx(J,{value:n.state,onChange:s=>c("state",s.target.value),placeholder:"California"})]}),a.jsxs("div",{className:$.fieldGroup,children:[a.jsx("label",{className:$.label,children:"City/Locality (L)"}),a.jsx(J,{value:n.locality,onChange:s=>c("locality",s.target.value),placeholder:"San Francisco"})]})]})]}),a.jsxs("div",{className:$.section,children:[a.jsx("h3",{className:$.sectionTitle,children:"Settings"}),a.jsxs("div",{className:$.fieldRow,children:[a.jsxs("div",{className:$.fieldGroup,children:[a.jsx("label",{className:$.label,children:"Validity (days)"}),a.jsx(J,{type:"number",value:n.validityDays,onChange:s=>c("validityDays",s.target.value),min:"1",max:"36500"})]}),a.jsxs("div",{className:$.fieldGroup,children:[a.jsx("label",{className:$.label,children:"Key Size (bits)"}),a.jsxs("select",{className:$.select,value:n.keySize,onChange:s=>c("keySize",s.target.value),children:[a.jsx("option",{value:"2048",children:"2048"}),a.jsx("option",{value:"4096",children:"4096"})]})]})]})]})]})})}const da="_filtersSection_1nm9q_2",fa="_filterGroup_1nm9q_13",pa="_tableContainer_1nm9q_56",ha="_caNameCell_1nm9q_99",ma="_caExpandBtn_1nm9q_105",va="_collapsed_1nm9q_123",ga="_noChildren_1nm9q_127",ya="_caTreeIndent_1nm9q_132",ba="_caIcon_1nm9q_160",xa="_root_1nm9q_165",Ea="_intermediate_1nm9q_169",wa="_orphan_1nm9q_173",ja="_statusBadge_1nm9q_178",Ca="_actionsCell_1nm9q_201",$a="_actionBtn_1nm9q_206",_a="_orphanedSection_1nm9q_231",Sa="_orphanedHeader_1nm9q_239",Na="_orphanedHeaderText_1nm9q_253",Ta="_orphanedTable_1nm9q_259",E={filtersSection:da,filterGroup:fa,tableContainer:pa,caNameCell:ha,caExpandBtn:ma,collapsed:va,noChildren:ga,caTreeIndent:ya,caIcon:ba,root:xa,intermediate:Ea,orphan:wa,statusBadge:ja,actionsCell:Ca,actionBtn:$a,orphanedSection:_a,orphanedHeader:Sa,orphanedHeaderText:Na,orphanedTable:Ta};function qa(){const[e,t]=u.useState("all"),[n,r]=u.useState("all"),[l,o]=u.useState("name"),[c,s]=u.useState(""),[i,d]=u.useState(new Set),[f,g]=u.useState(!1),{data:h,isLoading:v,error:m}=xn(),x=wn(),b=p=>{confirm(`Delete CA "${p.name}"? This cannot be undone.`)&&x.mutate(p.id,{onSuccess:()=>ge.success("CA deleted"),onError:()=>ge.error("Failed to delete CA")})},N=p=>{const w=new Set(i);w.has(p)?w.delete(p):w.add(p),d(w)};if(v)return a.jsxs("div",{className:E.caList,children:[a.jsx(Ye,{icon:"ph ph-bank",title:"Certificate Authorities",badge:a.jsx(Ke,{variant:"neutral",children:"Loading..."})}),a.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading CAs..."})]});if(m)return a.jsxs("div",{className:E.caList,children:[a.jsx(Ye,{icon:"ph ph-bank",title:"Certificate Authorities",badge:a.jsx(Ke,{variant:"danger",children:"Error"})}),a.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"var(--color-danger)"},children:["Error loading CAs: ",m.message]})]});const _=h?.data||[],j=[],T=_.filter(p=>p.status==="ACTIVE").length;return a.jsxs("div",{className:E.caList,children:[a.jsx(Ye,{icon:"ph ph-bank",title:"Certificate Authorities",badge:a.jsxs(Ke,{variant:"success",children:[T," Active"]}),actions:a.jsxs(a.Fragment,{children:[a.jsx(ve,{icon:"ph ph-upload-simple",children:"Import"}),a.jsx(ve,{icon:"ph ph-download-simple",children:"Export"}),a.jsx(ve,{variant:"primary",icon:"ph ph-plus",onClick:()=>g(!0),children:"Create CA"})]})}),a.jsxs("div",{className:E.filtersSection,children:[a.jsxs("div",{className:E.filterGroup,children:[a.jsx("label",{htmlFor:"type-filter",children:"TYPE"}),a.jsxs("select",{id:"type-filter",value:e,onChange:p=>t(p.target.value),children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"root",children:"Root"}),a.jsx("option",{value:"intermediate",children:"Intermediate"})]})]}),a.jsxs("div",{className:E.filterGroup,children:[a.jsx("label",{htmlFor:"status-filter",children:"STATUS"}),a.jsxs("select",{id:"status-filter",value:n,onChange:p=>r(p.target.value),children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"expired",children:"Expired"})]})]}),a.jsxs("div",{className:E.filterGroup,children:[a.jsx("label",{htmlFor:"sort-filter",children:"SORT BY"}),a.jsxs("select",{id:"sort-filter",value:l,onChange:p=>o(p.target.value),children:[a.jsx("option",{value:"name",children:"Name"}),a.jsx("option",{value:"issued",children:"Issued Date"}),a.jsx("option",{value:"expires",children:"Expires Date"})]})]}),a.jsx("div",{style:{flex:1}}),a.jsx("div",{className:E.filterGroup,children:a.jsx("input",{type:"text",id:"search-filter",placeholder:"Search CAs...",value:c,onChange:p=>s(p.target.value)})})]}),a.jsx("div",{className:E.tableContainer,children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"35%"},children:"NAME"}),a.jsx("th",{style:{width:"15%"},children:"TYPE"}),a.jsx("th",{style:{width:"12%"},children:"STATUS"}),a.jsx("th",{style:{width:"12%"},children:"ISSUED"}),a.jsx("th",{style:{width:"12%"},children:"EXPIRES"}),a.jsx("th",{style:{width:"8%"},children:"CERTS"}),a.jsx("th",{style:{width:"6%"},children:"ACTIONS"})]})}),a.jsx("tbody",{children:_.map(p=>a.jsxs(a.Fragment,{children:[a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{className:E.caNameCell,children:[a.jsx("button",{className:`${E.caExpandBtn} ${p.children?"":E.noChildren} ${i.has(p.id)?"":E.collapsed}`,onClick:()=>p.children&&N(p.id),children:a.jsx("i",{className:"ph ph-caret-down"})}),a.jsx("i",{className:`ph ph-bank ${E.caIcon} ${E.root}`}),a.jsx("span",{children:p.name})]})}),a.jsx("td",{children:a.jsx("span",{children:p.type})}),a.jsx("td",{children:a.jsx("span",{className:`${E.statusBadge} ${p.status.toLowerCase()}`,children:p.status})}),a.jsx("td",{children:p.issued}),a.jsx("td",{children:p.expires}),a.jsx("td",{children:p.certs}),a.jsx("td",{children:a.jsxs("div",{className:E.actionsCell,children:[a.jsx("button",{className:E.actionBtn,title:"View",children:a.jsx("i",{className:"ph ph-eye"})}),a.jsx("button",{className:E.actionBtn,title:"Delete",onClick:w=>{w.stopPropagation(),b(p)},children:a.jsx("i",{className:"ph ph-trash"})})]})})]},p.id),p.children&&i.has(p.id)&&p.children.map(w=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{className:E.caTreeIndent,children:[a.jsx("i",{className:`ph ph-git-branch ${E.caIcon} ${E.intermediate}`}),a.jsx("span",{children:w.name})]})}),a.jsx("td",{children:a.jsx("span",{children:w.type})}),a.jsx("td",{children:a.jsx("span",{className:`${E.statusBadge} ${w.status.toLowerCase()}`,children:w.status})}),a.jsx("td",{children:w.issued}),a.jsx("td",{children:w.expires}),a.jsx("td",{children:w.certs}),a.jsx("td",{children:a.jsxs("div",{className:E.actionsCell,children:[a.jsx("button",{className:E.actionBtn,title:"View",children:a.jsx("i",{className:"ph ph-eye"})}),a.jsx("button",{className:E.actionBtn,title:"Delete",onClick:A=>{A.stopPropagation(),b(w)},children:a.jsx("i",{className:"ph ph-trash"})})]})})]},w.id))]}))})]})}),j.length>0&&a.jsxs("div",{className:E.orphanedSection,children:[a.jsxs("div",{className:E.orphanedHeader,children:[a.jsx("i",{className:"ph ph-warning"}),a.jsx("span",{className:E.orphanedHeaderText,children:"Orphaned Intermediate CAs"})]}),a.jsx("div",{className:E.orphanedTable,children:a.jsxs("table",{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{width:"35%"},children:"NAME"}),a.jsx("th",{style:{width:"15%"},children:"TYPE"}),a.jsx("th",{style:{width:"12%"},children:"STATUS"}),a.jsx("th",{style:{width:"12%"},children:"ISSUED"}),a.jsx("th",{style:{width:"12%"},children:"EXPIRES"}),a.jsx("th",{style:{width:"8%"},children:"CERTS"}),a.jsx("th",{style:{width:"6%"},children:"ACTIONS"})]})}),a.jsx("tbody",{children:j.map(p=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("div",{className:E.caNameCell,children:[a.jsx("i",{className:`ph ph-warning ${E.caIcon} ${E.orphan}`}),a.jsx("span",{children:p.name})]})}),a.jsx("td",{children:a.jsx("span",{children:p.type})}),a.jsx("td",{children:a.jsx("span",{className:`${E.statusBadge} ${p.status.toLowerCase()}`,children:p.status})}),a.jsx("td",{children:p.issued}),a.jsx("td",{children:p.expires}),a.jsx("td",{children:p.certs}),a.jsx("td",{children:a.jsxs("div",{className:E.actionsCell,children:[a.jsx("button",{className:E.actionBtn,title:"View",children:a.jsx("i",{className:"ph ph-eye"})}),a.jsx("button",{className:E.actionBtn,title:"Delete",onClick:w=>{w.stopPropagation(),b(p)},children:a.jsx("i",{className:"ph ph-trash"})})]})})]},p.id))})]})})]}),a.jsx(ca,{isOpen:f,onClose:()=>g(!1)})]})}export{qa as CAList,qa as default};
