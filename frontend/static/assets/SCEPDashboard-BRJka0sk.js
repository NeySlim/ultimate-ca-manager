import{r as f,j as e,B as a,C as n}from"./index-CkPJ4lc1.js";import{P as j}from"./PageTopBar-DrDk9ZEQ.js";import{S as b,a as l}from"./StatsGrid-CgYEodmW.js";import{S as v,T as d}from"./SectionTabs-o-xNxGUR.js";import{D as _}from"./DataTable-DQUP0Hfs.js";import{a as g,S as C}from"./mockData-uWViHPon.js";import{B as p}from"./Badge-BijsvCGi.js";import{I as r}from"./Input-DodbUA7F.js";import{g as k}from"./getBadgeVariant-BF98r0-3.js";const y="_scepDashboard_rp4o0_3",S="_tabContent_rp4o0_8",A="_form_rp4o0_14",T="_checkboxGroup_rp4o0_21",E="_checkbox_rp4o0_21",N="_formActions_rp4o0_42",B="_actions_rp4o0_48",D="_statusBadge_rp4o0_53",P="_statusDot_rp4o0_67",w="_infoBox_rp4o0_78",R="_infoContent_rp4o0_82",I="_infoIcon_rp4o0_87",O="_infoTitle_rp4o0_100",G="_infoText_rp4o0_107",s={scepDashboard:y,tabContent:S,form:A,checkboxGroup:T,checkbox:E,formActions:N,actions:B,statusBadge:D,statusDot:P,infoBox:w,infoContent:R,infoIcon:I,infoTitle:O,infoText:G};function M(){const[c,i]=f.useState("config"),t=g(),h=[{key:"deviceId",label:"Device ID",sortable:!0},{key:"commonName",label:"Common Name",sortable:!0},{key:"status",label:"Status",sortable:!0,render:o=>e.jsx(p,{variant:k("scep-status",o.status),children:o.status})},{key:"requestedAt",label:"Requested At",sortable:!0},{key:"approvedAt",label:"Approved At",render:o=>o.approvedAt||e.jsx("span",{style:{color:"var(--text-tertiary)"},children:"â€”"})},{key:"actions",label:"Actions",render:o=>o.status==="pending"?e.jsxs("div",{className:s.actions,children:[e.jsx(a,{variant:"success",icon:"ph ph-check",onClick:()=>console.log("Approve:",o),children:"Approve"}),e.jsx(a,{variant:"danger",icon:"ph ph-x",onClick:()=>console.log("Reject:",o),children:"Reject"})]}):null}],m=[{label:"Status",options:["All Statuses","Pending","Completed","Rejected"]}],x=[{label:"Export List",icon:"ph ph-download-simple",variant:"default"}];return e.jsxs("div",{className:s.scepDashboard,children:[e.jsx(j,{icon:"ph ph-device-mobile",title:"SCEP",badge:e.jsx(p,{variant:"success",children:"Enabled"}),actions:e.jsxs(e.Fragment,{children:[e.jsx(a,{icon:"ph ph-arrows-clockwise",children:"Refresh"}),e.jsx(a,{variant:"primary",icon:"ph ph-gear",children:"Configure"})]})}),e.jsxs(b,{columns:4,children:[e.jsx(l,{value:t.stats.totalEnrollments,label:"Total Enrollments",icon:"ph ph-certificate"}),e.jsx(l,{value:t.stats.pendingApprovals,label:"Pending Approvals",icon:"ph ph-clock"}),e.jsx(l,{value:t.stats.completedToday,label:"Completed Today",icon:"ph ph-check-circle"}),e.jsx(l,{value:t.stats.rejectedToday,label:"Rejected Today",icon:"ph ph-x-circle"})]}),e.jsxs(v,{children:[e.jsx(d,{active:c==="config",onClick:()=>i("config"),children:"Configuration"}),e.jsx(d,{active:c==="enrollments",onClick:()=>i("enrollments"),children:"Enrollments"})]}),c==="config"&&e.jsxs("div",{className:s.tabContent,children:[e.jsxs(n,{children:[e.jsxs(n.Header,{children:[e.jsx("h3",{children:"SCEP Server Configuration"}),e.jsxs("div",{className:s.statusBadge,children:[e.jsx("span",{className:s.statusDot,"data-status":"enabled"}),e.jsx("span",{children:"Enabled"})]})]}),e.jsx(n.Body,{children:e.jsxs("form",{className:s.form,children:[e.jsx(r,{label:"SCEP URL",value:t.config.url,readOnly:!0}),e.jsx(r,{label:"CA Identifier",value:t.config.caIdentifier,readOnly:!0}),e.jsx(r,{label:"Challenge Password",type:"password",value:t.config.challengePassword,readOnly:!0}),e.jsx(r,{label:"Certificate Validity (days)",value:t.config.certificateValidity,readOnly:!0}),e.jsxs("div",{className:s.checkboxGroup,children:[e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{type:"checkbox",checked:t.config.allowRenewal,readOnly:!0}),e.jsx("span",{children:"Allow Certificate Renewal"})]}),e.jsxs("label",{className:s.checkbox,children:[e.jsx("input",{type:"checkbox",checked:t.config.autoApprove,readOnly:!0}),e.jsx("span",{children:"Auto-Approve Enrollments"})]})]}),e.jsxs("div",{className:s.formActions,children:[e.jsx(a,{variant:"primary",icon:"ph ph-floppy-disk",children:"Save Configuration"}),e.jsx(a,{variant:"default",icon:"ph ph-arrow-clockwise",children:"Reset"})]})]})})]}),e.jsx(n,{className:s.infoBox,children:e.jsx(n.Body,{children:e.jsxs("div",{className:s.infoContent,children:[e.jsx("div",{className:s.infoIcon,children:e.jsx("i",{className:"ph ph-info"})}),e.jsxs("div",{children:[e.jsx("div",{className:s.infoTitle,children:"SCEP Enrollment"}),e.jsx("div",{className:s.infoText,children:"SCEP (Simple Certificate Enrollment Protocol) allows devices to automatically request and receive certificates. Common use cases include mobile devices (iOS, Android) and network equipment."})]})]})})})]}),c==="enrollments"&&e.jsxs("div",{className:s.tabContent,children:[e.jsx(C,{placeholder:"Search enrollments...",filters:m,actions:x,onSearch:o=>console.log("Search:",o),onFilterChange:(o,u)=>console.log("Filter:",o,u)}),e.jsx(_,{columns:h,data:t.enrollments,onRowClick:o=>console.log("Enrollment clicked:",o)})]})]})}export{M as SCEPDashboard,M as default};
