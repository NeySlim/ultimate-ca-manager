import{u as p}from"./useQuery-BTYUFOaa.js";import{d as a,o as u,z as r}from"./index-qRzKqHpr.js";import{u as i}from"./useMutation-DcMyPSfU.js";const n={getUsers:async(s={})=>(await a.get("/api/v2/users",{params:s})).data,createUser:async s=>(await a.post("/api/v2/users",s)).data,updateUser:async({id:s,...e})=>(await a.put(`/api/v2/users/${s}`,e)).data,resetPassword:async(s,e)=>(await a.post(`/api/v2/users/${s}/reset-password`,{new_password:e})).data,toggleStatus:async s=>(await a.patch(`/api/v2/users/${s}/toggle`)).data,deleteUser:async s=>(await a.delete(`/api/v2/users/${s}`)).data,importUsers:async s=>{const e=new FormData;return e.append("file",s),(await a.post("/api/v2/users/import",e,{headers:{"Content-Type":"multipart/form-data"}})).data}},t={all:["users"],lists:()=>[...t.all,"list"],list:s=>[...t.lists(),s]},m=(s={})=>p({queryKey:t.list(s),queryFn:()=>n.getUsers(s)}),U=()=>{const s=u();return i({mutationFn:n.updateUser,onSuccess:()=>{s.invalidateQueries({queryKey:t.all}),r.success("User updated successfully")},onError:e=>{r.error(e.response?.data?.message||"Failed to update user")}})},g=()=>{const s=u();return i({mutationFn:n.deleteUser,onSuccess:()=>{s.invalidateQueries({queryKey:t.all}),r.success("User deleted successfully")},onError:e=>{r.error(e.response?.data?.message||"Failed to delete user")}})},w=()=>{const s=u();return i({mutationFn:n.importUsers,onSuccess:e=>{s.invalidateQueries({queryKey:t.all});const{imported:o=0,skipped:c=0}=e;r.success(`Imported ${o} users, skipped ${c}`)},onError:e=>{r.error(e.response?.data?.message||"Failed to import users")}})},q=()=>{const s=u();return i({mutationFn:({userId:e,newPassword:o})=>n.resetPassword(e,o),onSuccess:()=>{s.invalidateQueries({queryKey:t.all}),r.success("Password reset successfully")},onError:e=>{r.error(e.response?.data?.message||"Failed to reset password")}})},v=()=>{const s=u();return i({mutationFn:n.toggleStatus,onSuccess:()=>{s.invalidateQueries({queryKey:t.all}),r.success("User status updated successfully")},onError:e=>{r.error(e.response?.data?.message||"Failed to toggle user status")}})};export{U as a,g as b,w as c,q as d,v as e,m as u};
