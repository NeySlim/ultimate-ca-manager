import{u as n}from"./useQuery-UtDf8O_D.js";import{d as a,v as p,z as r}from"./index-BF_YdiPX.js";import{u}from"./useMutation-DxcS9g0U.js";const l={getTemplates:async(e={})=>(await a.get("/api/v2/templates",{params:e})).data,getTemplateDetails:async e=>(await a.get(`/api/v2/templates/${e}`)).data,createTemplate:async e=>(await a.post("/api/v2/templates",e)).data,updateTemplate:async({id:e,...t})=>(await a.put(`/api/v2/templates/${e}`,t)).data,deleteTemplate:async e=>(await a.delete(`/api/v2/templates/${e}`)).data},s={all:["templates"],lists:()=>[...s.all,"list"],list:e=>[...s.lists(),e]},d=(e={})=>n({queryKey:s.list(e),queryFn:()=>l.getTemplates(e)}),y=()=>{const e=p();return u({mutationFn:l.updateTemplate,onSuccess:()=>{e.invalidateQueries({queryKey:s.all}),r.success("Template updated successfully")},onError:t=>{r.error(t.response?.data?.message||"Failed to update template")}})},T=()=>{const e=p();return u({mutationFn:l.deleteTemplate,onSuccess:()=>{e.invalidateQueries({queryKey:s.all}),r.success("Template deleted successfully")},onError:t=>{r.error(t.response?.data?.message||"Failed to delete template")}})},g=e=>n({queryKey:[...s.all,"detail",e],queryFn:()=>l.getTemplateDetails(e),enabled:!!e});export{g as a,y as b,T as c,d as u};
