import{G as I,r as d,t as yo,j as m,s as wo,b as Me,d as Eo,B as ge,z as J}from"./index-DVlxmEMH.js";import{P as ht}from"./PageTopBar-BGEfcvkC.js";import{S as Bt,a as ce}from"./StatsGrid-BuG0NsMj.js";import{S as $o,T as Vt}from"./SectionTabs-HipqSL7Y.js";import{D as We}from"./DataTable-BMsARtZL.js";import{S as Wt}from"./SearchToolbar-CAKs2t-P.js";import{B as ke}from"./Badge-DyfSXXcj.js";import{n as Co}from"./Check.es-DCsSie23.js";import{p as st,o as V,l as So,r as se,f as En,m as To,s as $n,a as Oo,E as Cn,Y as Se,b as Sn,y as Te,c as ie,d as he,K as Oe,L as Ro,e as qt,g as Ao,h as Ft,i as Ut,j as Lo,k as Fo,q as Mt,T as Mo,t as vt,u as $e,x as Tn,v as ko,G as Po,w as jo,S as Q,z as Do,A as No,B as Ze,C as Io,D as zt,F as _o,N as Ho,H as Bo,I as Vo,J as Wo,O as qo,V as On,P as Uo,Q as zo,R as Ko,U as Kt,W as U,X as Go,Z as Gt,_ as Yo,$ as Qo,a0 as Xo,M as Rn}from"./Modal-5bxx4qAd.js";import{g as Yt}from"./getBadgeVariant-SNrdtPAh.js";import{u as it}from"./useQuery-DUfn4_lf.js";import{u as Jo}from"./useMutation-cXabW4WB.js";import{c as Zo}from"./useCAs-jD9w4Eo7.js";import{I as An}from"./Input-Bz5wSsMw.js";import{s as z}from"./SharedModalForm.module-1nz5DqPv.js";const er=typeof document<"u"?I.useLayoutEffect:()=>{},pe=e=>{var t;return(t=e?.ownerDocument)!==null&&t!==void 0?t:document},me=e=>e&&"window"in e&&e.window===e?e:pe(e).defaultView||window;function tr(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function nr(e){return tr(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let or=!1;function kt(){return or}function Ln(e,t){if(!kt())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:nr(n)?n=n.host:n=n.parentNode}return!1}const $t=(e=document)=>{var t;if(!kt())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Fn(e){return kt()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function rr(e){if(sr())e.focus({preventScroll:!0});else{let t=ir(e);e.focus(),lr(t)}}let qe=null;function sr(){if(qe==null){qe=!1;try{document.createElement("div").focus({get preventScroll(){return qe=!0,!0}})}catch{}}return qe}function ir(e){let t=e.parentNode,n=[],o=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==o;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return o instanceof HTMLElement&&n.push({element:o,scrollTop:o.scrollTop,scrollLeft:o.scrollLeft}),n}function lr(e){for(let{element:t,scrollTop:n,scrollLeft:o}of e)t.scrollTop=n,t.scrollLeft=o}function lt(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(o=>e.test(o.brand))||e.test(window.navigator.userAgent)}function Mn(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Re(e){let t=null;return()=>(t==null&&(t=e()),t)}const et=Re(function(){return Mn(/^Mac/i)}),ar=Re(function(){return Mn(/^iPad/i)||et()&&navigator.maxTouchPoints>1}),cr=Re(function(){return lt(/AppleWebKit/i)&&!ur()}),ur=Re(function(){return lt(/Chrome/i)}),dr=Re(function(){return lt(/Android/i)}),fr=Re(function(){return lt(/Firefox/i)});function je(e,t,n=!0){var o,r;let{metaKey:s,ctrlKey:i,altKey:l,shiftKey:a}=t;fr()&&(!((r=window.event)===null||r===void 0||(o=r.type)===null||o===void 0)&&o.startsWith("key"))&&e.target==="_blank"&&(et()?s=!0:i=!0);let c=cr()&&et()&&!ar()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:i,altKey:l,shiftKey:a}):new MouseEvent("click",{metaKey:s,ctrlKey:i,altKey:l,shiftKey:a,detail:1,bubbles:!0,cancelable:!0});je.isOpening=n,rr(e),e.dispatchEvent(c),je.isOpening=!1}je.isOpening=!1;function kn(){let e=d.useRef(new Map),t=d.useCallback((r,s,i,l)=>{let a=l?.once?(...c)=>{e.current.delete(i),i(...c)}:i;e.current.set(i,{type:s,eventTarget:r,fn:a,options:l}),r.addEventListener(s,a,l)},[]),n=d.useCallback((r,s,i,l)=>{var a;let c=((a=e.current.get(i))===null||a===void 0?void 0:a.fn)||i;r.removeEventListener(s,c,l),e.current.delete(i)},[]),o=d.useCallback(()=>{e.current.forEach((r,s)=>{n(r.eventTarget,r.type,s,r.options)})},[n]);return d.useEffect(()=>o,[o]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:o}}function pr(e){return e.pointerType===""&&e.isTrusted?!0:dr()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Pn(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function mr(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function jn(e){let t=d.useRef({isFocused:!1,observer:null});return er(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),d.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=n.target,r=s=>{if(t.current.isFocused=!1,o.disabled){let i=Pn(s);e?.(i)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",r,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var s;(s=t.current.observer)===null||s===void 0||s.disconnect();let i=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[e])}let gr=!1,Ie=null,Ct=new Set,Pe=new Map,ve=!1,St=!1;const hr={Tab:!0,Escape:!0};function Pt(e,t){for(let n of Ct)n(e,t)}function vr(e){return!(e.metaKey||!et()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function tt(e){ve=!0,!je.isOpening&&vr(e)&&(Ie="keyboard",Pt("keyboard",e))}function we(e){Ie="pointer","pointerType"in e&&e.pointerType,(e.type==="mousedown"||e.type==="pointerdown")&&(ve=!0,Pt("pointer",e))}function Dn(e){!je.isOpening&&pr(e)&&(ve=!0,Ie="virtual")}function Nn(e){e.target===window||e.target===document||gr||!e.isTrusted||(!ve&&!St&&(Ie="virtual",Pt("virtual",e)),ve=!1,St=!1)}function In(){ve=!1,St=!0}function Tt(e){if(typeof window>"u"||typeof document>"u"||Pe.get(me(e)))return;const t=me(e),n=pe(e);let o=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ve=!0,o.apply(this,arguments)},n.addEventListener("keydown",tt,!0),n.addEventListener("keyup",tt,!0),n.addEventListener("click",Dn,!0),t.addEventListener("focus",Nn,!0),t.addEventListener("blur",In,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",we,!0),n.addEventListener("pointermove",we,!0),n.addEventListener("pointerup",we,!0)),t.addEventListener("beforeunload",()=>{_n(e)},{once:!0}),Pe.set(t,{focus:o})}const _n=(e,t)=>{const n=me(e),o=pe(e);t&&o.removeEventListener("DOMContentLoaded",t),Pe.has(n)&&(n.HTMLElement.prototype.focus=Pe.get(n).focus,o.removeEventListener("keydown",tt,!0),o.removeEventListener("keyup",tt,!0),o.removeEventListener("click",Dn,!0),n.removeEventListener("focus",Nn,!0),n.removeEventListener("blur",In,!1),typeof PointerEvent<"u"&&(o.removeEventListener("pointerdown",we,!0),o.removeEventListener("pointermove",we,!0),o.removeEventListener("pointerup",we,!0)),Pe.delete(n))};function br(e){const t=pe(e);let n;return t.readyState!=="loading"?Tt(e):(n=()=>{Tt(e)},t.addEventListener("DOMContentLoaded",n)),()=>_n(e,n)}typeof document<"u"&&br();function Hn(){return Ie!=="pointer"}const xr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function yr(e,t,n){let o=pe(n?.target);const r=typeof window<"u"?me(n?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?me(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?me(n?.target).HTMLElement:HTMLElement,l=typeof window<"u"?me(n?.target).KeyboardEvent:KeyboardEvent;return e=e||o.activeElement instanceof r&&!xr.has(o.activeElement.type)||o.activeElement instanceof s||o.activeElement instanceof i&&o.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!hr[n.key])}function wr(e,t,n){Tt(),d.useEffect(()=>{let o=(r,s)=>{yr(!!n?.isTextInput,r,s)&&e(Hn())};return Ct.add(o),()=>{Ct.delete(o)}},t)}function Er(e){let{isDisabled:t,onFocus:n,onBlur:o,onFocusChange:r}=e;const s=d.useCallback(a=>{if(a.target===a.currentTarget)return o&&o(a),r&&r(!1),!0},[o,r]),i=jn(s),l=d.useCallback(a=>{const c=pe(a.target),f=c?$t(c):$t();a.target===a.currentTarget&&f===Fn(a.nativeEvent)&&(n&&n(a),r&&r(!0),i(a))},[r,n,i]);return{focusProps:{onFocus:!t&&(n||r||o)?l:void 0,onBlur:!t&&(o||r)?s:void 0}}}function $r(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:r}=e,s=d.useRef({isFocusWithin:!1}),{addGlobalListener:i,removeAllGlobalListeners:l}=kn(),a=d.useCallback(p=>{p.currentTarget.contains(p.target)&&s.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(s.current.isFocusWithin=!1,l(),n&&n(p),r&&r(!1))},[n,r,s,l]),c=jn(a),f=d.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const g=pe(p.target),u=$t(g);if(!s.current.isFocusWithin&&u===Fn(p.nativeEvent)){o&&o(p),r&&r(!0),s.current.isFocusWithin=!0,c(p);let h=p.currentTarget;i(g,"focus",v=>{if(s.current.isFocusWithin&&!Ln(h,v.target)){let b=new g.defaultView.FocusEvent("blur",{relatedTarget:v.target});mr(b,h);let x=Pn(b);a(x)}},{capture:!0})}},[o,r,c,i,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:a}}}let Ot=!1,Ue=0;function Cr(){Ot=!0,setTimeout(()=>{Ot=!1},50)}function Qt(e){e.pointerType==="touch"&&Cr()}function Sr(){if(!(typeof document>"u"))return Ue===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Qt),Ue++,()=>{Ue--,!(Ue>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Qt)}}function Tr(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:o,isDisabled:r}=e,[s,i]=d.useState(!1),l=d.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;d.useEffect(Sr,[]);let{addGlobalListener:a,removeAllGlobalListeners:c}=kn(),{hoverProps:f,triggerHoverEnd:p}=d.useMemo(()=>{let g=(v,b)=>{if(l.pointerType=b,r||b==="touch"||l.isHovered||!v.currentTarget.contains(v.target))return;l.isHovered=!0;let x=v.currentTarget;l.target=x,a(pe(v.target),"pointerover",E=>{l.isHovered&&l.target&&!Ln(l.target,E.target)&&u(E,E.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:x,pointerType:b}),n&&n(!0),i(!0)},u=(v,b)=>{let x=l.target;l.pointerType="",l.target=null,!(b==="touch"||!l.isHovered||!x)&&(l.isHovered=!1,c(),o&&o({type:"hoverend",target:x,pointerType:b}),n&&n(!1),i(!1))},h={};return typeof PointerEvent<"u"&&(h.onPointerEnter=v=>{Ot&&v.pointerType==="mouse"||g(v,v.pointerType)},h.onPointerLeave=v=>{!r&&v.currentTarget.contains(v.target)&&u(v,v.pointerType)}),{hoverProps:h,triggerHoverEnd:u}},[t,n,o,r,l,a,c]);return d.useEffect(()=>{r&&p({currentTarget:l.target},l.pointerType)},[r]),{hoverProps:f,isHovered:s}}function Or(e={}){let{autoFocus:t=!1,isTextInput:n,within:o}=e,r=d.useRef({isFocused:!1,isFocusVisible:t||Hn()}),[s,i]=d.useState(!1),[l,a]=d.useState(()=>r.current.isFocused&&r.current.isFocusVisible),c=d.useCallback(()=>a(r.current.isFocused&&r.current.isFocusVisible),[]),f=d.useCallback(u=>{r.current.isFocused=u,i(u),c()},[c]);wr(u=>{r.current.isFocusVisible=u,c()},[],{isTextInput:n});let{focusProps:p}=Er({isDisabled:o,onFocusChange:f}),{focusWithinProps:g}=$r({isDisabled:!o,onFocusWithinChange:f});return{isFocused:s,isFocusVisible:l,focusProps:o?g:p}}function Rr(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Ar(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Lr({disabled:e=!1}={}){let t=d.useRef(null),[n,o]=d.useState(!1),r=st(),s=V(()=>{t.current=null,o(!1),r.dispose()}),i=V(l=>{if(r.dispose(),t.current===null){t.current=l.currentTarget,o(!0);{let a=So(l.currentTarget);r.addEventListener(a,"pointerup",s,!1),r.addEventListener(a,"pointermove",c=>{if(t.current){let f=Rr(c);o(Ar(f,t.current.getBoundingClientRect()))}},!1),r.addEventListener(a,"pointercancel",s,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:i,onPointerUp:s,onClick:s}}}function Fr(e,t,n){let[o,r]=d.useState(n),s=e!==void 0,i=d.useRef(s),l=d.useRef(!1),a=d.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!a.current&&(a.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:o,V(c=>(s||se.flushSync(()=>r(c)),t?.(c)))]}function Mr(e){let[t]=d.useState(e);return t}function Bn(e={},t=null,n=[]){for(let[o,r]of Object.entries(e))Wn(n,Vn(t,o),r);return n}function Vn(e,t){return e?e+"["+t+"]":t}function Wn(e,t,n){if(Array.isArray(n))for(let[o,r]of n.entries())Wn(e,Vn(t,o.toString()),r);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Pr(n)&&!d.isValidElement(n)&&Bn(n,t,e)}function kr(e){var t,n;let o=(t=e?.form)!=null?t:e.closest("form");if(o){for(let r of o.elements)if(r!==e&&(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image")){r.click();return}(n=o.requestSubmit)==null||n.call(o)}}function Pr(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}let jr=d.createContext(null);function Dr({children:e}){let t=d.useContext(jr);if(!t)return I.createElement(I.Fragment,null,e);let{target:n}=t;return n?se.createPortal(I.createElement(I.Fragment,null,e),n):null}function Nr({data:e,form:t,disabled:n,onReset:o,overrides:r}){let[s,i]=d.useState(null),l=st();return d.useEffect(()=>{if(o&&s)return l.addEventListener(s,"reset",o)},[s,t,o]),I.createElement(Dr,null,I.createElement(Ir,{setForm:i,formId:t}),Bn(e).map(([a,c])=>I.createElement(En,{features:$n.Hidden,...To({key:a,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:a,value:c,...r})})))}function Ir({setForm:e,formId:t}){return d.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:I.createElement(En,{features:$n.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let o=n.closest("form");o&&e(o)}})}let _r=d.createContext(void 0);function qn(){return d.useContext(_r)}function Xt(e){let t=e.parentElement,n=null;for(;t&&!Oo(t);)Cn(t)&&(n=t),t=t.parentElement;let o=t?.getAttribute("disabled")==="";return o&&Hr(n)?!1:o}function Hr(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Cn(t))return!1;t=t.previousElementSibling}return!0}let at=d.createContext(null);at.displayName="LabelContext";function Un(){let e=d.useContext(at);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Un),t}return e}function zn(e){var t,n,o;let r=(n=(t=d.useContext(at))==null?void 0:t.value)!=null?n:void 0;return((o=e?.length)!=null?o:0)>0?[r,...e].filter(Boolean).join(" "):r}function Br({inherit:e=!1}={}){let t=zn(),[n,o]=d.useState([]),r=e?[t,...n].filter(Boolean):n;return[r.length>0?r.join(" "):void 0,d.useMemo(()=>function(s){let i=V(a=>(o(c=>[...c,a]),()=>o(c=>{let f=c.slice(),p=f.indexOf(a);return p!==-1&&f.splice(p,1),f}))),l=d.useMemo(()=>({register:i,slot:s.slot,name:s.name,props:s.props,value:s.value}),[i,s.slot,s.name,s.props,s.value]);return I.createElement(at.Provider,{value:l},s.children)},[o])]}let Vr="label";function Wr(e,t){var n;let o=d.useId(),r=Un(),s=qn(),i=Sn(),{id:l=`headlessui-label-${o}`,htmlFor:a=s??((n=r.props)==null?void 0:n.htmlFor),passive:c=!1,...f}=e,p=Te(t);ie(()=>r.register(l),[l,r.register]);let g=V(v=>{let b=v.currentTarget;if(!(v.target!==v.currentTarget&&Ro(v.target))&&(qt(b)&&v.preventDefault(),r.props&&"onClick"in r.props&&typeof r.props.onClick=="function"&&r.props.onClick(v),qt(b))){let x=document.getElementById(b.htmlFor);if(x){let E=x.getAttribute("disabled");if(E==="true"||E==="")return;let y=x.getAttribute("aria-disabled");if(y==="true"||y==="")return;(Ao(x)&&(x.type==="file"||x.type==="radio"||x.type==="checkbox")||x.role==="radio"||x.role==="checkbox"||x.role==="switch")&&x.click(),x.focus({preventScroll:!0})}}}),u=he({...r.slot,disabled:i||!1}),h={ref:p,...r.props,id:l,htmlFor:a,onClick:g};return c&&("onClick"in h&&(delete h.htmlFor,delete h.onClick),"onClick"in f&&delete f.onClick),Oe()({ourProps:h,theirProps:f,slot:u,defaultTag:a?Vr:"div",name:r.name||"Label"})}let qr=Se(Wr),Ur=Object.assign(qr,{});function zr(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Kr(e=zr){return d.useCallback((t,n)=>{if(typeof e=="string"){let o=e;return t?.[o]===n?.[o]}return e(t,n)},[e])}function Jt(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Gr(e,t,n=!1){let[o,r]=d.useState(()=>Jt(t));return ie(()=>{if(!t||!e)return;let s=Ft();return s.requestAnimationFrame(function i(){s.requestAnimationFrame(i),r(l=>{let a=Jt(t);return a.width===l.width&&a.height===l.height?l:a})}),()=>{s.dispose()}},[t,e]),n?{width:`${o.width}px`,height:`${o.height}px`}:o}var Kn=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Kn||{});function Yr(e){let t=d.useRef(null),n=V(r=>{t.current=r.pointerType,!Xt(r.currentTarget)&&r.pointerType==="mouse"&&r.button===Kn.Left&&(r.preventDefault(),e(r))}),o=V(r=>{t.current!=="mouse"&&(Xt(r.currentTarget)||e(r))});return{onPointerDown:n,onClick:o}}var Qr=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(Qr||{});const ze={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},Xr=200,Zt=5;function Jr(e,{trigger:t,action:n,close:o,select:r}){let s=d.useRef(null),i=d.useRef(null),l=d.useRef(null);Ut(e&&t!==null,"pointerdown",a=>{Lo(a?.target)&&t!=null&&t.contains(a.target)&&(i.current=a.x,l.current=a.y,s.current=a.timeStamp)}),Ut(e&&t!==null,"pointerup",a=>{var c,f;let p=s.current;if(p===null||(s.current=null,!Fo(a.target))||Math.abs(a.x-((c=i.current)!=null?c:a.x))<Zt&&Math.abs(a.y-((f=l.current)!=null?f:a.y))<Zt)return;let g=n(a);switch(g.kind){case 0:return;case 1:{a.timeStamp-p>Xr&&(r(g.target),o());break}case 2:{o();break}}},{capture:!0})}function Zr(e,t){return d.useMemo(()=>{var n;if(e.type)return e.type;let o=(n=e.as)!=null?n:"button";if(typeof o=="string"&&o.toLowerCase()==="button"||t?.tagName==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function en(e){return[e.screenX,e.screenY]}function es(){let e=d.useRef([-1,-1]);return{wasMoved(t){let n=en(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=en(t)}}}function ct(){return typeof window<"u"}function Ae(e){return Gn(e)?(e.nodeName||"").toLowerCase():"#document"}function X(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ne(e){var t;return(t=(Gn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Gn(e){return ct()?e instanceof Node||e instanceof X(e).Node:!1}function Y(e){return ct()?e instanceof Element||e instanceof X(e).Element:!1}function te(e){return ct()?e instanceof HTMLElement||e instanceof X(e).HTMLElement:!1}function tn(e){return!ct()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof X(e).ShadowRoot}const ts=new Set(["inline","contents"]);function _e(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=Z(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!ts.has(r)}const ns=new Set(["table","td","th"]);function os(e){return ns.has(Ae(e))}const rs=[":popover-open",":modal"];function ut(e){return rs.some(t=>{try{return e.matches(t)}catch{return!1}})}const ss=["transform","translate","scale","rotate","perspective"],is=["transform","translate","scale","rotate","perspective","filter"],ls=["paint","layout","strict","content"];function jt(e){const t=Dt(),n=Y(e)?Z(e):e;return ss.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||is.some(o=>(n.willChange||"").includes(o))||ls.some(o=>(n.contain||"").includes(o))}function as(e){let t=de(e);for(;te(t)&&!Ce(t);){if(jt(t))return t;if(ut(t))return null;t=de(t)}return null}function Dt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cs=new Set(["html","body","#document"]);function Ce(e){return cs.has(Ae(e))}function Z(e){return X(e).getComputedStyle(e)}function dt(e){return Y(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function de(e){if(Ae(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tn(e)&&e.host||ne(e);return tn(t)?t.host:t}function Yn(e){const t=de(e);return Ce(t)?e.ownerDocument?e.ownerDocument.body:e.body:te(t)&&_e(t)?t:Yn(t)}function De(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=Yn(e),s=r===((o=e.ownerDocument)==null?void 0:o.body),i=X(r);if(s){const l=Rt(i);return t.concat(i,i.visualViewport||[],_e(r)?r:[],l&&n?De(l):[])}return t.concat(r,De(r,[],n))}function Rt(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function us(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}const be=Math.min,K=Math.max,Ne=Math.round,Ke=Math.floor,ee=e=>({x:e,y:e}),ds={left:"right",right:"left",bottom:"top",top:"bottom"},fs={start:"end",end:"start"};function nn(e,t,n){return K(e,be(t,n))}function Le(e,t){return typeof e=="function"?e(t):e}function fe(e){return e.split("-")[0]}function He(e){return e.split("-")[1]}function Qn(e){return e==="x"?"y":"x"}function Xn(e){return e==="y"?"height":"width"}const ps=new Set(["top","bottom"]);function oe(e){return ps.has(fe(e))?"y":"x"}function Jn(e){return Qn(oe(e))}function ms(e,t,n){n===void 0&&(n=!1);const o=He(e),r=Jn(e),s=Xn(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=nt(i)),[i,nt(i)]}function gs(e){const t=nt(e);return[At(e),t,At(t)]}function At(e){return e.replace(/start|end/g,t=>fs[t])}const on=["left","right"],rn=["right","left"],hs=["top","bottom"],vs=["bottom","top"];function bs(e,t,n){switch(e){case"top":case"bottom":return n?t?rn:on:t?on:rn;case"left":case"right":return t?hs:vs;default:return[]}}function xs(e,t,n,o){const r=He(e);let s=bs(fe(e),n==="start",o);return r&&(s=s.map(i=>i+"-"+r),t&&(s=s.concat(s.map(At)))),s}function nt(e){return e.replace(/left|right|bottom|top/g,t=>ds[t])}function ys(e){return{top:0,right:0,bottom:0,left:0,...e}}function ws(e){return typeof e!="number"?ys(e):{top:e,right:e,bottom:e,left:e}}function ot(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function sn(e,t,n){let{reference:o,floating:r}=e;const s=oe(t),i=Jn(t),l=Xn(i),a=fe(t),c=s==="y",f=o.x+o.width/2-r.width/2,p=o.y+o.height/2-r.height/2,g=o[l]/2-r[l]/2;let u;switch(a){case"top":u={x:f,y:o.y-r.height};break;case"bottom":u={x:f,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:p};break;case"left":u={x:o.x-r.width,y:p};break;default:u={x:o.x,y:o.y}}switch(He(t)){case"start":u[i]-=g*(n&&c?-1:1);break;case"end":u[i]+=g*(n&&c?-1:1);break}return u}const Es=async(e,t,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:i}=n,l=s.filter(Boolean),a=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:p}=sn(c,o,a),g=o,u={},h=0;for(let v=0;v<l.length;v++){const{name:b,fn:x}=l[v],{x:E,y,data:C,reset:S}=await x({x:f,y:p,initialPlacement:o,placement:g,strategy:r,middlewareData:u,rects:c,platform:i,elements:{reference:e,floating:t}});f=E??f,p=y??p,u={...u,[b]:{...u[b],...C}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:r}):S.rects),{x:f,y:p}=sn(c,g,a)),v=-1)}return{x:f,y:p,placement:g,strategy:r,middlewareData:u}};async function ft(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:s,rects:i,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:u=0}=Le(t,e),h=ws(u),b=l[g?p==="floating"?"reference":"floating":p],x=ot(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:f,strategy:a})),E=p==="floating"?{x:o,y:r,width:i.floating.width,height:i.floating.height}:i.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),C=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},S=ot(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:y,strategy:a}):E);return{top:(x.top-S.top+h.top)/C.y,bottom:(S.bottom-x.bottom+h.bottom)/C.y,left:(x.left-S.left+h.left)/C.x,right:(S.right-x.right+h.right)/C.x}}const $s=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:s,rects:i,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0,...b}=Le(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=fe(r),E=oe(l),y=fe(l)===l,C=await(a.isRTL==null?void 0:a.isRTL(c.floating)),S=g||(y||!v?[nt(l)]:gs(l)),O=h!=="none";!g&&O&&S.push(...xs(l,v,h,C));const L=[l,...S],P=await ft(t,b),_=[];let $=((o=s.flip)==null?void 0:o.overflows)||[];if(f&&_.push(P[x]),p){const k=ms(r,i,C);_.push(P[k[0]],P[k[1]])}if($=[...$,{placement:r,overflows:_}],!_.every(k=>k<=0)){var R,D;const k=(((R=s.flip)==null?void 0:R.index)||0)+1,w=L[k];if(w&&(!(p==="alignment"?E!==oe(w):!1)||$.every(A=>oe(A.placement)===E?A.overflows[0]>0:!0)))return{data:{index:k,overflows:$},reset:{placement:w}};let F=(D=$.filter(W=>W.overflows[0]<=0).sort((W,A)=>W.overflows[1]-A.overflows[1])[0])==null?void 0:D.placement;if(!F)switch(u){case"bestFit":{var N;const W=(N=$.filter(A=>{if(O){const j=oe(A.placement);return j===E||j==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(j=>j>0).reduce((j,B)=>j+B,0)]).sort((A,j)=>A[1]-j[1])[0])==null?void 0:N[0];W&&(F=W);break}case"initialPlacement":F=l;break}if(r!==F)return{reset:{placement:F}}}return{}}}},Cs=new Set(["left","top"]);async function Ss(e,t){const{placement:n,platform:o,elements:r}=e,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),i=fe(n),l=He(n),a=oe(n)==="y",c=Cs.has(i)?-1:1,f=s&&a?-1:1,p=Le(t,e);let{mainAxis:g,crossAxis:u,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof h=="number"&&(u=l==="end"?h*-1:h),a?{x:u*f,y:g*c}:{x:g*c,y:u*f}}const Ts=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:s,placement:i,middlewareData:l}=t,a=await Ss(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+a.x,y:s+a.y,data:{...a,placement:i}}}}},Os=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x,y:E}=b;return{x,y:E}}},...a}=Le(e,t),c={x:n,y:o},f=await ft(t,a),p=oe(fe(r)),g=Qn(p);let u=c[g],h=c[p];if(s){const b=g==="y"?"top":"left",x=g==="y"?"bottom":"right",E=u+f[b],y=u-f[x];u=nn(E,u,y)}if(i){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",E=h+f[b],y=h-f[x];h=nn(E,h,y)}const v=l.fn({...t,[g]:u,[p]:h});return{...v,data:{x:v.x-n,y:v.y-o,enabled:{[g]:s,[p]:i}}}}}},Rs=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:r,rects:s,platform:i,elements:l}=t,{apply:a=()=>{},...c}=Le(e,t),f=await ft(t,c),p=fe(r),g=He(r),u=oe(r)==="y",{width:h,height:v}=s.floating;let b,x;p==="top"||p==="bottom"?(b=p,x=g===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=p,b=g==="end"?"top":"bottom");const E=v-f.top-f.bottom,y=h-f.left-f.right,C=be(v-f[b],E),S=be(h-f[x],y),O=!t.middlewareData.shift;let L=C,P=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=y),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(L=E),O&&!g){const $=K(f.left,0),R=K(f.right,0),D=K(f.top,0),N=K(f.bottom,0);u?P=h-2*($!==0||R!==0?$+R:K(f.left,f.right)):L=v-2*(D!==0||N!==0?D+N:K(f.top,f.bottom))}await a({...t,availableWidth:P,availableHeight:L});const _=await i.getDimensions(l.floating);return h!==_.width||v!==_.height?{reset:{rects:!0}}:{}}}};function Zn(e){const t=Z(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=te(e),s=r?e.offsetWidth:n,i=r?e.offsetHeight:o,l=Ne(n)!==s||Ne(o)!==i;return l&&(n=s,o=i),{width:n,height:o,$:l}}function Nt(e){return Y(e)?e:e.contextElement}function Ee(e){const t=Nt(e);if(!te(t))return ee(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:s}=Zn(t);let i=(s?Ne(n.width):n.width)/o,l=(s?Ne(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const As=ee(0);function eo(e){const t=X(e);return!Dt()||!t.visualViewport?As:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ls(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==X(e)?!1:t}function xe(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=Nt(e);let i=ee(1);t&&(o?Y(o)&&(i=Ee(o)):i=Ee(e));const l=Ls(s,n,o)?eo(s):ee(0);let a=(r.left+l.x)/i.x,c=(r.top+l.y)/i.y,f=r.width/i.x,p=r.height/i.y;if(s){const g=X(s),u=o&&Y(o)?X(o):o;let h=g,v=Rt(h);for(;v&&o&&u!==h;){const b=Ee(v),x=v.getBoundingClientRect(),E=Z(v),y=x.left+(v.clientLeft+parseFloat(E.paddingLeft))*b.x,C=x.top+(v.clientTop+parseFloat(E.paddingTop))*b.y;a*=b.x,c*=b.y,f*=b.x,p*=b.y,a+=y,c+=C,h=X(v),v=Rt(h)}}return ot({width:f,height:p,x:a,y:c})}function pt(e,t){const n=dt(e).scrollLeft;return t?t.left+n:xe(ne(e)).left+n}function to(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-pt(e,n),r=n.top+t.scrollTop;return{x:o,y:r}}function Fs(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const s=r==="fixed",i=ne(o),l=t?ut(t.floating):!1;if(o===i||l&&s)return n;let a={scrollLeft:0,scrollTop:0},c=ee(1);const f=ee(0),p=te(o);if((p||!p&&!s)&&((Ae(o)!=="body"||_e(i))&&(a=dt(o)),te(o))){const u=xe(o);c=Ee(o),f.x=u.x+o.clientLeft,f.y=u.y+o.clientTop}const g=i&&!p&&!s?to(i,a):ee(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+f.x+g.x,y:n.y*c.y-a.scrollTop*c.y+f.y+g.y}}function Ms(e){return Array.from(e.getClientRects())}function ks(e){const t=ne(e),n=dt(e),o=e.ownerDocument.body,r=K(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=K(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+pt(e);const l=-n.scrollTop;return Z(o).direction==="rtl"&&(i+=K(t.clientWidth,o.clientWidth)-r),{width:r,height:s,x:i,y:l}}const ln=25;function Ps(e,t){const n=X(e),o=ne(e),r=n.visualViewport;let s=o.clientWidth,i=o.clientHeight,l=0,a=0;if(r){s=r.width,i=r.height;const f=Dt();(!f||f&&t==="fixed")&&(l=r.offsetLeft,a=r.offsetTop)}const c=pt(o);if(c<=0){const f=o.ownerDocument,p=f.body,g=getComputedStyle(p),u=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,h=Math.abs(o.clientWidth-p.clientWidth-u);h<=ln&&(s-=h)}else c<=ln&&(s+=c);return{width:s,height:i,x:l,y:a}}const js=new Set(["absolute","fixed"]);function Ds(e,t){const n=xe(e,!0,t==="fixed"),o=n.top+e.clientTop,r=n.left+e.clientLeft,s=te(e)?Ee(e):ee(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,a=r*s.x,c=o*s.y;return{width:i,height:l,x:a,y:c}}function an(e,t,n){let o;if(t==="viewport")o=Ps(e,n);else if(t==="document")o=ks(ne(e));else if(Y(t))o=Ds(t,n);else{const r=eo(e);o={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return ot(o)}function no(e,t){const n=de(e);return n===t||!Y(n)||Ce(n)?!1:Z(n).position==="fixed"||no(n,t)}function Ns(e,t){const n=t.get(e);if(n)return n;let o=De(e,[],!1).filter(l=>Y(l)&&Ae(l)!=="body"),r=null;const s=Z(e).position==="fixed";let i=s?de(e):e;for(;Y(i)&&!Ce(i);){const l=Z(i),a=jt(i);!a&&l.position==="fixed"&&(r=null),(s?!a&&!r:!a&&l.position==="static"&&!!r&&js.has(r.position)||_e(i)&&!a&&no(e,i))?o=o.filter(f=>f!==i):r=l,i=de(i)}return t.set(e,o),o}function Is(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[...n==="clippingAncestors"?ut(t)?[]:Ns(t,this._c):[].concat(n),o],l=i[0],a=i.reduce((c,f)=>{const p=an(t,f,r);return c.top=K(p.top,c.top),c.right=be(p.right,c.right),c.bottom=be(p.bottom,c.bottom),c.left=K(p.left,c.left),c},an(t,l,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function _s(e){const{width:t,height:n}=Zn(e);return{width:t,height:n}}function Hs(e,t,n){const o=te(t),r=ne(t),s=n==="fixed",i=xe(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const a=ee(0);function c(){a.x=pt(r)}if(o||!o&&!s)if((Ae(t)!=="body"||_e(r))&&(l=dt(t)),o){const u=xe(t,!0,s,t);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else r&&c();s&&!o&&r&&c();const f=r&&!o&&!s?to(r,l):ee(0),p=i.left+l.scrollLeft-a.x-f.x,g=i.top+l.scrollTop-a.y-f.y;return{x:p,y:g,width:i.width,height:i.height}}function bt(e){return Z(e).position==="static"}function cn(e,t){if(!te(e)||Z(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ne(e)===n&&(n=n.ownerDocument.body),n}function oo(e,t){const n=X(e);if(ut(e))return n;if(!te(e)){let r=de(e);for(;r&&!Ce(r);){if(Y(r)&&!bt(r))return r;r=de(r)}return n}let o=cn(e,t);for(;o&&os(o)&&bt(o);)o=cn(o,t);return o&&Ce(o)&&bt(o)&&!jt(o)?n:o||as(e)||n}const Bs=async function(e){const t=this.getOffsetParent||oo,n=this.getDimensions,o=await n(e.floating);return{reference:Hs(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Vs(e){return Z(e).direction==="rtl"}const Ws={convertOffsetParentRelativeRectToViewportRelativeRect:Fs,getDocumentElement:ne,getClippingRect:Is,getOffsetParent:oo,getElementRects:Bs,getClientRects:Ms,getDimensions:_s,getScale:Ee,isElement:Y,isRTL:Vs};function ro(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qs(e,t){let n=null,o;const r=ne(e);function s(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function i(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const c=e.getBoundingClientRect(),{left:f,top:p,width:g,height:u}=c;if(l||t(),!g||!u)return;const h=Ke(p),v=Ke(r.clientWidth-(f+g)),b=Ke(r.clientHeight-(p+u)),x=Ke(f),y={rootMargin:-h+"px "+-v+"px "+-b+"px "+-x+"px",threshold:K(0,be(1,a))||1};let C=!0;function S(O){const L=O[0].intersectionRatio;if(L!==a){if(!C)return i();L?i(!1,L):o=setTimeout(()=>{i(!1,1e-7)},1e3)}L===1&&!ro(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(S,{...y,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(e)}return i(!0),s}function Us(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=o,c=Nt(e),f=r||s?[...c?De(c):[],...De(t)]:[];f.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const p=c&&l?qs(c,n):null;let g=-1,u=null;i&&(u=new ResizeObserver(x=>{let[E]=x;E&&E.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=u)==null||y.observe(t)})),n()}),c&&!a&&u.observe(c),u.observe(t));let h,v=a?xe(e):null;a&&b();function b(){const x=xe(e);v&&!ro(v,x)&&n(),v=x,h=requestAnimationFrame(b)}return n(),()=>{var x;f.forEach(E=>{r&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),p?.(),(x=u)==null||x.disconnect(),u=null,a&&cancelAnimationFrame(h)}}const xt=ft,zs=Ts,Ks=Os,Gs=$s,Ys=Rs,Qs=(e,t,n)=>{const o=new Map,r={platform:Ws,...n},s={...r.platform,_c:o};return Es(e,t,{...r,platform:s})};var Xs=typeof document<"u",Js=function(){},Qe=Xs?d.useLayoutEffect:Js;function rt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!rt(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!==0;){const s=r[o];if(!(s==="_owner"&&e.$$typeof)&&!rt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function so(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function un(e,t){const n=so(e);return Math.round(t*n)/n}function yt(e){const t=d.useRef(e);return Qe(()=>{t.current=e}),t}function Zs(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:a,open:c}=e,[f,p]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,u]=d.useState(o);rt(g,o)||u(o);const[h,v]=d.useState(null),[b,x]=d.useState(null),E=d.useCallback(A=>{A!==O.current&&(O.current=A,v(A))},[]),y=d.useCallback(A=>{A!==L.current&&(L.current=A,x(A))},[]),C=s||h,S=i||b,O=d.useRef(null),L=d.useRef(null),P=d.useRef(f),_=a!=null,$=yt(a),R=yt(r),D=yt(c),N=d.useCallback(()=>{if(!O.current||!L.current)return;const A={placement:t,strategy:n,middleware:g};R.current&&(A.platform=R.current),Qs(O.current,L.current,A).then(j=>{const B={...j,isPositioned:D.current!==!1};k.current&&!rt(P.current,B)&&(P.current=B,se.flushSync(()=>{p(B)}))})},[g,t,n,R,D]);Qe(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(A=>({...A,isPositioned:!1})))},[c]);const k=d.useRef(!1);Qe(()=>(k.current=!0,()=>{k.current=!1}),[]),Qe(()=>{if(C&&(O.current=C),S&&(L.current=S),C&&S){if($.current)return $.current(C,S,N);N()}},[C,S,N,$,_]);const w=d.useMemo(()=>({reference:O,floating:L,setReference:E,setFloating:y}),[E,y]),F=d.useMemo(()=>({reference:C,floating:S}),[C,S]),W=d.useMemo(()=>{const A={position:n,left:0,top:0};if(!F.floating)return A;const j=un(F.floating,f.x),B=un(F.floating,f.y);return l?{...A,transform:"translate("+j+"px, "+B+"px)",...so(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:B}},[n,l,F.floating,f.x,f.y]);return d.useMemo(()=>({...f,update:N,refs:w,elements:F,floatingStyles:W}),[f,N,w,F,W])}const io=(e,t)=>({...zs(e),options:[e,t]}),ei=(e,t)=>({...Ks(e),options:[e,t]}),ti=(e,t)=>({...Gs(e),options:[e,t]}),ni=(e,t)=>({...Ys(e),options:[e,t]}),lo={...yo},oi=lo.useInsertionEffect,ri=oi||(e=>e());function ao(e){const t=d.useRef(()=>{});return ri(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var Lt=typeof document<"u"?d.useLayoutEffect:d.useEffect;let dn=!1,si=0;const fn=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+si++;function ii(){const[e,t]=d.useState(()=>dn?fn():void 0);return Lt(()=>{e==null&&t(fn())},[]),d.useEffect(()=>{dn=!0},[]),e}const li=lo.useId,ai=li||ii;function ci(){const e=new Map;return{emit(t,n){var o;(o=e.get(t))==null||o.forEach(r=>r(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var o;e.set(t,((o=e.get(t))==null?void 0:o.filter(r=>r!==n))||[])}}}const ui=d.createContext(null),di=d.createContext(null),fi=()=>{var e;return((e=d.useContext(ui))==null?void 0:e.id)||null},pi=()=>d.useContext(di),mi="data-floating-ui-focusable";function gi(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=ai(),s=d.useRef({}),[i]=d.useState(()=>ci()),l=fi()!=null,[a,c]=d.useState(o.reference),f=ao((u,h,v)=>{s.current.openEvent=u?h:void 0,i.emit("openchange",{open:u,event:h,reason:v,nested:l}),n?.(u,h,v)}),p=d.useMemo(()=>({setPositionReference:c}),[]),g=d.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return d.useMemo(()=>({dataRef:s,open:t,onOpenChange:f,elements:g,events:i,floatingId:r,refs:p}),[t,f,g,i,r,p])}function hi(e){e===void 0&&(e={});const{nodeId:t}=e,n=gi({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[s,i]=d.useState(null),[l,a]=d.useState(null),f=r?.domReference||s,p=d.useRef(null),g=pi();Lt(()=>{f&&(p.current=f)},[f]);const u=Zs({...e,elements:{...r,...l&&{reference:l}}}),h=d.useCallback(y=>{const C=Y(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;a(C),u.refs.setReference(C)},[u.refs]),v=d.useCallback(y=>{(Y(y)||y===null)&&(p.current=y,i(y)),(Y(u.refs.reference.current)||u.refs.reference.current===null||y!==null&&!Y(y))&&u.refs.setReference(y)},[u.refs]),b=d.useMemo(()=>({...u.refs,setReference:v,setPositionReference:h,domReference:p}),[u.refs,v,h]),x=d.useMemo(()=>({...u.elements,domReference:f}),[u.elements,f]),E=d.useMemo(()=>({...u,...o,refs:b,elements:x,nodeId:t}),[u,b,x,t,o]);return Lt(()=>{o.dataRef.current.floatingContext=E;const y=g?.nodesRef.current.find(C=>C.id===t);y&&(y.context=E)}),d.useMemo(()=>({...u,context:E,refs:b,elements:x}),[u,b,x,E])}const pn="active",mn="selected";function wt(e,t,n){const o=new Map,r=n==="item";let s=e;if(r&&e){const{[pn]:i,[mn]:l,...a}=e;s=a}return{...n==="floating"&&{tabIndex:-1,[mi]:""},...s,...t.map(i=>{const l=i?i[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((i,l)=>(l&&Object.entries(l).forEach(a=>{let[c,f]=a;if(!(r&&[pn,mn].includes(c)))if(c.indexOf("on")===0){if(o.has(c)||o.set(c,[]),typeof f=="function"){var p;(p=o.get(c))==null||p.push(f),i[c]=function(){for(var g,u=arguments.length,h=new Array(u),v=0;v<u;v++)h[v]=arguments[v];return(g=o.get(c))==null?void 0:g.map(b=>b(...h)).find(b=>b!==void 0)}}}else i[c]=f}),i),{})}}function vi(e){e===void 0&&(e=[]);const t=e.map(l=>l?.reference),n=e.map(l=>l?.floating),o=e.map(l=>l?.item),r=d.useCallback(l=>wt(l,e,"reference"),t),s=d.useCallback(l=>wt(l,e,"floating"),n),i=d.useCallback(l=>wt(l,e,"item"),o);return d.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:i}),[r,s,i])}function gn(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const bi=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:s=0,index:i=0,minItemsVisible:l=4,referenceOverflowThreshold:a=0,scrollRef:c,...f}=Le(e,t),{rects:p,elements:{floating:g}}=t,u=n.current[i],h=c?.current||g,v=g.clientTop||h.clientTop,b=g.clientTop!==0,x=h.clientTop!==0,E=g===h;if(!u)return{};const y={...t,...await io(-u.offsetTop-g.clientTop-p.reference.height/2-u.offsetHeight/2-s).fn(t)},C=await xt(gn(y,h.scrollHeight+v+g.clientTop),f),S=await xt(y,{...f,elementContext:"reference"}),O=K(0,C.top),L=y.y+O,$=(h.scrollHeight>h.clientHeight?R=>R:Ne)(K(0,h.scrollHeight+(b&&E||x?v*2:0)-O-K(0,C.bottom)));if(h.style.maxHeight=$+"px",h.scrollTop=O,r){const R=h.offsetHeight<u.offsetHeight*be(l,n.current.length)-1||S.top>=-a||S.bottom>=-a;se.flushSync(()=>r(R))}return o&&(o.current=await xt(gn({...y,y:L},h.offsetHeight+v+g.clientTop),f)),{y:L}}});function xi(e,t){const{open:n,elements:o}=e,{enabled:r=!0,overflowRef:s,scrollRef:i,onChange:l}=t,a=ao(l),c=d.useRef(!1),f=d.useRef(null),p=d.useRef(null);d.useEffect(()=>{if(!r)return;function u(v){if(v.ctrlKey||!h||s.current==null)return;const b=v.deltaY,x=s.current.top>=-.5,E=s.current.bottom>=-.5,y=h.scrollHeight-h.clientHeight,C=b<0?-1:1,S=b<0?"max":"min";h.scrollHeight<=h.clientHeight||(!x&&b>0||!E&&b<0?(v.preventDefault(),se.flushSync(()=>{a(O=>O+Math[S](b,y*C))})):/firefox/i.test(us())&&(h.scrollTop+=b))}const h=i?.current||o.floating;if(n&&h)return h.addEventListener("wheel",u),requestAnimationFrame(()=>{f.current=h.scrollTop,s.current!=null&&(p.current={...s.current})}),()=>{f.current=null,p.current=null,h.removeEventListener("wheel",u)}},[r,n,o.floating,s,i,a]);const g=d.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const u=i?.current||o.floating;if(!(!s.current||!u||!c.current)){if(f.current!==null){const h=u.scrollTop-f.current;(s.current.bottom<-.5&&h<-1||s.current.top<-.5&&h>1)&&se.flushSync(()=>a(v=>v+h))}requestAnimationFrame(()=>{f.current=u.scrollTop})}}}),[o.floating,a,s,i]);return d.useMemo(()=>r?{floating:g}:{},[r,g])}let Fe=d.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Fe.displayName="FloatingContext";let It=d.createContext(null);It.displayName="PlacementContext";function yi(e){return d.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function wi(){return d.useContext(Fe).setReference}function Ei(){return d.useContext(Fe).getReferenceProps}function $i(){let{getFloatingProps:e,slot:t}=d.useContext(Fe);return d.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Ci(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=d.useContext(It),n=d.useMemo(()=>e,[JSON.stringify(e,(r,s)=>{var i;return(i=s?.outerHTML)!=null?i:s})]);ie(()=>{t?.(n??null)},[t,n]);let o=d.useContext(Fe);return d.useMemo(()=>[o.setFloating,e?o.styles:{}],[o.setFloating,e,o.styles])}let hn=4;function Si({children:e,enabled:t=!0}){let[n,o]=d.useState(null),[r,s]=d.useState(0),i=d.useRef(null),[l,a]=d.useState(null);Ti(l);let c=t&&n!==null&&l!==null,{to:f="bottom",gap:p=0,offset:g=0,padding:u=0,inner:h}=Oi(n,l),[v,b="center"]=f.split(" ");ie(()=>{c&&s(0)},[c]);let{refs:x,floatingStyles:E,context:y}=hi({open:c,placement:v==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${v}`:`${v}-${b}`,strategy:"absolute",transform:!1,middleware:[io({mainAxis:v==="selection"?0:p,crossAxis:g}),ei({padding:u}),v!=="selection"&&ti({padding:u}),v==="selection"&&h?bi({...h,padding:u,overflowRef:i,offset:r,minItemsVisible:hn,referenceOverflowThreshold:u,onFallbackChange(R){var D,N;if(!R)return;let k=y.elements.floating;if(!k)return;let w=parseFloat(getComputedStyle(k).scrollPaddingBottom)||0,F=Math.min(hn,k.childElementCount),W=0,A=0;for(let j of(N=(D=y.elements.floating)==null?void 0:D.childNodes)!=null?N:[])if(Mt(j)){let B=j.offsetTop,ye=B+j.clientHeight+w,q=k.scrollTop,le=q+k.clientHeight;if(B>=q&&ye<=le)F--;else{A=Math.max(0,Math.min(ye,le)-Math.max(B,q)),W=j.clientHeight;break}}F>=1&&s(j=>{let B=W*F-A+w;return j>=B?j:B})}}):null,ni({padding:u,apply({availableWidth:R,availableHeight:D,elements:N}){Object.assign(N.floating.style,{overflow:"auto",maxWidth:`${R}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${D}px)`})}})].filter(Boolean),whileElementsMounted:Us}),[C=v,S=b]=y.placement.split("-");v==="selection"&&(C="selection");let O=d.useMemo(()=>({anchor:[C,S].filter(Boolean).join(" ")}),[C,S]),L=xi(y,{overflowRef:i,onChange:s}),{getReferenceProps:P,getFloatingProps:_}=vi([L]),$=V(R=>{a(R),x.setFloating(R)});return d.createElement(It.Provider,{value:o},d.createElement(Fe.Provider,{value:{setFloating:$,setReference:x.setReference,styles:E,getReferenceProps:P,getFloatingProps:_,slot:O}},e))}function Ti(e){ie(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(e.style.maxHeight=`${Math.ceil(o)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Oi(e,t){var n,o,r;let s=Et((n=e?.gap)!=null?n:"var(--anchor-gap, 0)",t),i=Et((o=e?.offset)!=null?o:"var(--anchor-offset, 0)",t),l=Et((r=e?.padding)!=null?r:"var(--anchor-padding, 0)",t);return{...e,gap:s,offset:i,padding:l}}function Et(e,t,n=void 0){let o=st(),r=V((a,c)=>{if(a==null)return[n,null];if(typeof a=="number")return[a,null];if(typeof a=="string"){if(!c)return[n,null];let f=vn(a,c);return[f,p=>{let g=co(a);{let u=g.map(h=>window.getComputedStyle(c).getPropertyValue(h));o.requestAnimationFrame(function h(){o.nextFrame(h);let v=!1;for(let[x,E]of g.entries()){let y=window.getComputedStyle(c).getPropertyValue(E);if(u[x]!==y){u[x]=y,v=!0;break}}if(!v)return;let b=vn(a,c);f!==b&&(p(b),f=b)})}return o.dispose}]}return[n,null]}),s=d.useMemo(()=>r(e,t)[0],[e,t]),[i=s,l]=d.useState();return ie(()=>{let[a,c]=r(e,t);if(l(a),!!c)return c(l)},[e,t]),i}function co(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let o=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[o,...co(r)]:[o]}return[]}function vn(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),o}function Ri({children:e,freeze:t},n){let o=uo(t,e);return d.isValidElement(o)?d.cloneElement(o,{ref:n}):I.createElement(I.Fragment,null,o)}I.forwardRef(Ri);function uo(e,t){let[n,o]=d.useState(t);return!e&&n!==t&&o(t),e?n:t}function Ai(e){throw new Error("Unexpected object: "+e)}var H=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(H||{});function Ge(e,t){let n=t.resolveItems();if(n.length<=0)return null;let o=t.resolveActiveIndex(),r=o??-1;switch(e.focus){case 0:{for(let s=0;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return o}case 1:{r===-1&&(r=n.length);for(let s=r-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return o}case 2:{for(let s=r+1;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return o}case 3:{for(let s=n.length-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return o}case 4:{for(let s=0;s<n.length;++s)if(t.resolveId(n[s],s,n)===e.id)return s;return o}case 5:return null;default:Ai(e)}}const Xe={Idle:{kind:"Idle"},Tracked:e=>({kind:"Tracked",position:e}),Moved:{kind:"Moved"}};function fo(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}function Li(e,t,n){let o=Ft();if(t.kind==="Tracked"){let r=function(){s!==fo(e)&&(o.dispose(),n())},{position:s}=t,i=new ResizeObserver(r);i.observe(e),o.add(()=>i.disconnect()),o.addEventListener(window,"scroll",r,{passive:!0}),o.addEventListener(window,"resize",r)}return()=>o.dispose()}let bn=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function xn(e){var t,n;let o=(t=e.innerText)!=null?t:"",r=e.cloneNode(!0);if(!Mt(r))return o;let s=!1;for(let l of r.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(n=r.innerText)!=null?n:"":o;return bn.test(i)&&(i=i.replace(bn,"")),i}function Fi(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let o=n.split(" ").map(r=>{let s=document.getElementById(r);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():xn(s).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return xn(e).trim()}function Mi(e){let t=d.useRef(""),n=d.useRef("");return V(()=>{let o=e.current;if(!o)return"";let r=o.innerText;if(t.current===r)return n.current;let s=Fi(o).trim().toLowerCase();return t.current=r,n.current=s,s})}var ki=Object.defineProperty,Pi=(e,t,n)=>t in e?ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t,n)=>(Pi(e,typeof t!="symbol"?t+"":t,n),n),G=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(G||{}),ue=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ue||{}),Je=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Je||{}),po=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.SelectOption=5]="SelectOption",e[e.RegisterOptions=6]="RegisterOptions",e[e.UnregisterOptions=7]="UnregisterOptions",e[e.SetButtonElement=8]="SetButtonElement",e[e.SetOptionsElement=9]="SetOptionsElement",e[e.SortOptions=10]="SortOptions",e[e.MarkButtonAsMoved=11]="MarkButtonAsMoved",e))(po||{});function wn(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=Po(t(e.options.slice()),s=>s.dataRef.current.domRef.current),r=n?o.indexOf(n):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let ji={1(e){if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.buttonElement?Xe.Tracked(fo(e.buttonElement)):e.buttonPositionState;return{...e,activeOptionIndex:null,pendingFocus:{focus:H.Nothing},listboxState:1,__demoMode:!1,buttonPositionState:t}},0(e,t){if(e.dataRef.current.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{isSelected:o}=e.dataRef.current,r=e.options.findIndex(s=>o(s.dataRef.current.value));return r!==-1&&(n=r),{...e,frozenValue:!1,pendingFocus:t.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1,buttonPositionState:Xe.Idle}},2(e,t){var n,o,r,s,i;if(e.dataRef.current.disabled||e.listboxState===1)return e;let l={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===H.Nothing)return{...l,activeOptionIndex:null};if(t.focus===H.Specific)return{...l,activeOptionIndex:e.options.findIndex(f=>f.id===t.id)};if(t.focus===H.Previous){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,g=Ge(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(g!==null){let u=e.options[g].dataRef.current.domRef;if(((o=p.current)==null?void 0:o.previousElementSibling)===u.current||((r=u.current)==null?void 0:r.previousElementSibling)===null)return{...l,activeOptionIndex:g}}}}else if(t.focus===H.Next){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,g=Ge(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});if(g!==null){let u=e.options[g].dataRef.current.domRef;if(((s=p.current)==null?void 0:s.nextElementSibling)===u.current||((i=u.current)==null?void 0:i.nextElementSibling)===null)return{...l,activeOptionIndex:g}}}}let a=wn(e),c=Ge(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...l,...a,activeOptionIndex:c}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,o=e.searchQuery+t.value.toLowerCase(),r=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(i=>{var l;return!i.dataRef.current.disabled&&((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(o))}),s=r?e.options.indexOf(r):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:s,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5(e){return e.dataRef.current.mode===0?{...e,frozenValue:!0}:{...e}},6:(e,t)=>{let n=e.options.concat(t.options),o=e.activeOptionIndex;if(e.pendingFocus.focus!==H.Nothing&&(o=Ge(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:r=>r.id,resolveDisabled:r=>r.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:r}=e.dataRef.current;if(r){let s=n.findIndex(i=>r?.(i.dataRef.current.value));s!==-1&&(o=s)}}return{...e,options:n,activeOptionIndex:o,pendingFocus:{focus:H.Nothing},pendingShouldSort:!0}},7:(e,t)=>{let n=e.options,o=[],r=new Set(t.options);for(let[s,i]of n.entries())if(r.has(i.id)&&(o.push(s),r.delete(i.id),r.size===0))break;if(o.length>0){n=n.slice();for(let s of o.reverse())n.splice(s,1)}return{...e,options:n,activationTrigger:1}},8:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},9:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},10:e=>e.pendingShouldSort?{...e,...wn(e),pendingShouldSort:!1}:e,11(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:Xe.Moved}}};class _t extends Mo{constructor(t){super(t),yn(this,"actions",{onChange:n=>{let{onChange:o,compare:r,mode:s,value:i}=this.state.dataRef.current;return $e(s,{0:()=>o?.(n),1:()=>{let l=i.slice(),a=l.findIndex(c=>r(c,n));return a===-1?l.push(n):l.splice(a,1),o?.(l)}})},registerOption:vt(()=>{let n=[],o=new Set;return[(r,s)=>{o.has(s)||(o.add(s),n.push({id:r,dataRef:s}))},()=>(o.clear(),this.send({type:6,options:n.splice(0)}))]}),unregisterOption:vt(()=>{let n=[];return[o=>n.push(o),()=>{this.send({type:7,options:n.splice(0)})}]}),goToOption:vt(()=>{let n=null;return[(o,r)=>{n={type:2,...o,trigger:r}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{var n;if(this.state.activeOptionIndex!==null){let{dataRef:o}=this.state.options[this.state.activeOptionIndex];this.actions.selectOption(o.current.value)}else this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(n=this.state.buttonElement)==null||n.focus({preventScroll:!0}))},selectOption:n=>{this.send({type:5,value:n})},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:8,element:n})},setOptionsElement:n=>{this.send({type:9,element:n})}}),yn(this,"selectors",{activeDescendantId(n){var o;let r=n.activeOptionIndex,s=n.options;return r===null||(o=s[r])==null?void 0:o.id},isActive(n,o){var r;let s=n.activeOptionIndex,i=n.options;return s!==null?((r=i[s])==null?void 0:r.id)===o:!1},hasFrozenValue(n){return n.frozenValue},shouldScrollIntoView(n,o){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,o)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(6,()=>{requestAnimationFrame(()=>{this.send({type:10})})});{let n=this.state.id,o=Tn.get(null);this.disposables.add(o.on(ko.Push,r=>{!o.selectors.isTop(r,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>o.actions.push(n)),this.on(1,()=>o.actions.pop(n))}this.disposables.group(n=>{this.on(1,o=>{o.buttonElement&&(n.dispose(),n.add(Li(o.buttonElement,o.buttonPositionState,()=>{this.send({type:11})})))})}),this.on(5,(n,o)=>{var r;this.actions.onChange(o.value),this.state.dataRef.current.mode===0&&(this.actions.closeListbox(),(r=this.state.buttonElement)==null||r.focus({preventScroll:!0}))})}static new({id:t,__demoMode:n=!1}){return new _t({id:t,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:H.Nothing},frozenValue:!1,__demoMode:n,buttonPositionState:Xe.Idle})}reduce(t,n){return $e(n.type,ji,t,n)}}const mo=d.createContext(null);function Ht(e){let t=d.useContext(mo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,go),n}return t}function go({id:e,__demoMode:t=!1}){let n=d.useMemo(()=>_t.new({id:e,__demoMode:t}),[]);return jo(()=>n.dispose()),n}let mt=d.createContext(null);mt.displayName="ListboxDataContext";function Be(e){let t=d.useContext(mt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Be),n}return t}let Di=d.Fragment;function Ni(e,t){let n=d.useId(),o=Sn(),{value:r,defaultValue:s,form:i,name:l,onChange:a,by:c,invalid:f=!1,disabled:p=o||!1,horizontal:g=!1,multiple:u=!1,__demoMode:h=!1,...v}=e;const b=g?"horizontal":"vertical";let x=Te(t),E=Mr(s),[y=u?[]:void 0,C]=Fr(r,a,E),S=go({id:n,__demoMode:h}),O=d.useRef({static:!1,hold:!1}),L=d.useRef(new Map),P=Kr(c),_=d.useCallback(q=>$e($.mode,{[ue.Multi]:()=>y.some(le=>P(le,q)),[ue.Single]:()=>P(y,q)}),[y]),$=he({value:y,disabled:p,invalid:f,mode:u?ue.Multi:ue.Single,orientation:b,onChange:C,compare:P,isSelected:_,optionsPropsRef:O,listRef:L});ie(()=>{S.state.dataRef.current=$},[$]);let R=Q(S,q=>q.listboxState),D=Tn.get(null),N=Q(D,d.useCallback(q=>D.selectors.isTop(q,n),[D,n])),[k,w]=Q(S,q=>[q.buttonElement,q.optionsElement]);Do(N,[k,w],(q,le)=>{S.send({type:po.CloseListbox}),Yo(le,Qo.Loose)||(q.preventDefault(),k?.focus())});let F=he({open:R===G.Open,disabled:p,invalid:f,value:y}),[W,A]=Br({inherit:!0}),j={ref:x},B=d.useCallback(()=>{if(E!==void 0)return C?.(E)},[C,E]),ye=Oe();return I.createElement(A,{value:W,props:{htmlFor:k?.id},slot:{open:R===G.Open,disabled:p}},I.createElement(Si,null,I.createElement(mo.Provider,{value:S},I.createElement(mt.Provider,{value:$},I.createElement(No,{value:$e(R,{[G.Open]:Ze.Open,[G.Closed]:Ze.Closed})},l!=null&&y!=null&&I.createElement(Nr,{disabled:p,data:{[l]:y},form:i,onReset:B}),ye({ourProps:j,theirProps:v,slot:F,defaultTag:Di,name:"Listbox"}))))))}let Ii="button";function _i(e,t){let n=d.useId(),o=qn(),r=Be("Listbox.Button"),s=Ht("Listbox.Button"),{id:i=o||`headlessui-listbox-button-${n}`,disabled:l=r.disabled||!1,autoFocus:a=!1,...c}=e,f=Te(t,wi(),s.actions.setButtonElement),p=Ei(),[g,u,h]=Q(s,w=>[w.listboxState,w.buttonElement,w.optionsElement]),v=g===G.Open;Jr(v,{trigger:u,action:d.useCallback(w=>{if(u!=null&&u.contains(w.target))return ze.Ignore;let F=w.target.closest('[role="option"]:not([data-disabled])');return Mt(F)?ze.Select(F):h!=null&&h.contains(w.target)?ze.Ignore:ze.Close},[u,h]),close:s.actions.closeListbox,select:s.actions.selectActiveOption});let b=V(w=>{switch(w.key){case U.Enter:kr(w.currentTarget);break;case U.Space:case U.ArrowDown:w.preventDefault(),s.actions.openListbox({focus:r.value?H.Nothing:H.First});break;case U.ArrowUp:w.preventDefault(),s.actions.openListbox({focus:r.value?H.Nothing:H.Last});break}}),x=V(w=>{w.key===U.Space&&w.preventDefault()}),E=Yr(w=>{var F;s.state.listboxState===G.Open?(se.flushSync(()=>s.actions.closeListbox()),(F=s.state.buttonElement)==null||F.focus({preventScroll:!0})):(w.preventDefault(),s.actions.openListbox({focus:H.Nothing}))}),y=V(w=>w.preventDefault()),C=zn([i]),S=Ko(),{isFocusVisible:O,focusProps:L}=Or({autoFocus:a}),{isHovered:P,hoverProps:_}=Tr({isDisabled:l}),{pressed:$,pressProps:R}=Lr({disabled:l}),D=he({open:g===G.Open,active:$||g===G.Open,disabled:l,invalid:r.invalid,value:r.value,hover:P,focus:O,autofocus:a}),N=Q(s,w=>w.listboxState===G.Open),k=On(p(),{ref:f,id:i,type:Zr(e,u),"aria-haspopup":"listbox","aria-controls":h?.id,"aria-expanded":N,"aria-labelledby":C,"aria-describedby":S,disabled:l||void 0,autoFocus:a,onKeyDown:b,onKeyUp:x,onKeyPress:y},E,L,_,R);return Oe()({ourProps:k,theirProps:c,slot:D,defaultTag:Ii,name:"Listbox.Button"})}let ho=d.createContext(!1),Hi="div",Bi=Kt.RenderStrategy|Kt.Static;function Vi(e,t){let n=d.useId(),{id:o=`headlessui-listbox-options-${n}`,anchor:r,portal:s=!1,modal:i=!0,transition:l=!1,...a}=e,c=yi(r),[f,p]=d.useState(null);c&&(s=!0);let g=Be("Listbox.Options"),u=Ht("Listbox.Options"),[h,v,b,x]=Q(u,T=>[T.listboxState,T.buttonElement,T.optionsElement,T.__demoMode]),E=zt(v),y=zt(b),C=_o(),[S,O]=Ho(l,f,C!==null?(C&Ze.Open)===Ze.Open:h===G.Open);Bo(S,v,u.actions.closeListbox);let L=x?!1:i&&h===G.Open;Vo(L,y);let P=x?!1:i&&h===G.Open;Wo(P,{allowed:d.useCallback(()=>[v,b],[v,b])});let _=Q(u,u.selectors.didButtonMove)?!1:S,$=Q(u,u.selectors.hasFrozenValue)&&!e.static,R=uo($,g.value),D=d.useCallback(T=>g.compare(R,T),[g.compare,R]),N=Q(u,T=>{var ae;if(c==null||!((ae=c?.to)!=null&&ae.includes("selection")))return null;let gt=T.options.findIndex(xo=>D(xo.dataRef.current.value));return gt===-1&&(gt=0),gt}),k=(()=>{if(c==null)return;if(N===null)return{...c,inner:void 0};let T=Array.from(g.listRef.current.values());return{...c,inner:{listRef:{current:T},index:N}}})(),[w,F]=Ci(k),W=$i(),A=Te(t,c?w:null,u.actions.setOptionsElement,p),j=st();d.useEffect(()=>{let T=b;T&&h===G.Open&&(qo(T)||T==null||T.focus({preventScroll:!0}))},[h,b]);let B=V(T=>{var ae;switch(j.dispose(),T.key){case U.Space:if(u.state.searchQuery!=="")return T.preventDefault(),T.stopPropagation(),u.actions.search(T.key);case U.Enter:T.preventDefault(),T.stopPropagation(),u.actions.selectActiveOption();break;case $e(g.orientation,{vertical:U.ArrowDown,horizontal:U.ArrowRight}):return T.preventDefault(),T.stopPropagation(),u.actions.goToOption({focus:H.Next});case $e(g.orientation,{vertical:U.ArrowUp,horizontal:U.ArrowLeft}):return T.preventDefault(),T.stopPropagation(),u.actions.goToOption({focus:H.Previous});case U.Home:case U.PageUp:return T.preventDefault(),T.stopPropagation(),u.actions.goToOption({focus:H.First});case U.End:case U.PageDown:return T.preventDefault(),T.stopPropagation(),u.actions.goToOption({focus:H.Last});case U.Escape:T.preventDefault(),T.stopPropagation(),se.flushSync(()=>u.actions.closeListbox()),(ae=u.state.buttonElement)==null||ae.focus({preventScroll:!0});return;case U.Tab:T.preventDefault(),T.stopPropagation(),se.flushSync(()=>u.actions.closeListbox()),Go(u.state.buttonElement,T.shiftKey?Gt.Previous:Gt.Next);break;default:T.key.length===1&&(u.actions.search(T.key),j.setTimeout(()=>u.actions.clearSearch(),350));break}}),ye=Q(u,T=>{var ae;return(ae=T.buttonElement)==null?void 0:ae.id}),q=he({open:h===G.Open}),le=On(c?W():{},{id:o,ref:A,"aria-activedescendant":Q(u,u.selectors.activeDescendantId),"aria-multiselectable":g.mode===ue.Multi?!0:void 0,"aria-labelledby":ye,"aria-orientation":g.orientation,onKeyDown:B,role:"listbox",tabIndex:h===G.Open?0:void 0,style:{...a.style,...F,"--button-width":Gr(S,v,!0).width},...Uo(O)}),vo=Oe(),bo=d.useMemo(()=>g.mode===ue.Multi?g:{...g,isSelected:D},[g,D]);return I.createElement(zo,{enabled:s?e.static||S:!1,ownerDocument:E},I.createElement(mt.Provider,{value:bo},vo({ourProps:le,theirProps:a,slot:q,defaultTag:Hi,features:Bi,visible:_,name:"Listbox.Options"})))}let Wi="div";function qi(e,t){let n=d.useId(),{id:o=`headlessui-listbox-option-${n}`,disabled:r=!1,value:s,...i}=e,l=d.useContext(ho)===!0,a=Be("Listbox.Option"),c=Ht("Listbox.Option"),f=Q(c,$=>c.selectors.isActive($,o)),p=a.isSelected(s),g=d.useRef(null),u=Mi(g),h=Io({disabled:r,value:s,domRef:g,get textValue(){return u()}}),v=Te(t,g,$=>{$?a.listRef.current.set(o,$):a.listRef.current.delete(o)}),b=Q(c,$=>c.selectors.shouldScrollIntoView($,o));ie(()=>{if(b)return Ft().requestAnimationFrame(()=>{var $,R;(R=($=g.current)==null?void 0:$.scrollIntoView)==null||R.call($,{block:"nearest"})})},[b,g]),ie(()=>{if(!l)return c.actions.registerOption(o,h),()=>c.actions.unregisterOption(o)},[h,o,l]);let x=V($=>{if(r)return $.preventDefault();c.actions.selectOption(s)}),E=V(()=>{if(r)return c.actions.goToOption({focus:H.Nothing});c.actions.goToOption({focus:H.Specific,id:o})}),y=es(),C=V($=>y.update($)),S=V($=>{y.wasMoved($)&&(r||f&&c.state.activationTrigger===Je.Pointer||c.actions.goToOption({focus:H.Specific,id:o},Je.Pointer))}),O=V($=>{y.wasMoved($)&&(r||f&&c.state.activationTrigger===Je.Pointer&&c.actions.goToOption({focus:H.Nothing}))}),L=he({active:f,focus:f,selected:p,disabled:r,selectedOption:p&&l}),P=l?{}:{id:o,ref:v,role:"option",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,"aria-selected":p,disabled:void 0,onClick:x,onFocus:E,onPointerEnter:C,onMouseEnter:C,onPointerMove:S,onMouseMove:S,onPointerLeave:O,onMouseLeave:O},_=Oe();return!p&&l?null:_({ourProps:P,theirProps:i,slot:L,defaultTag:Wi,name:"Listbox.Option"})}let Ui=d.Fragment;function zi(e,t){let{options:n,placeholder:o,...r}=e,s={ref:Te(t)},i=Be("ListboxSelectedOption"),l=he({}),a=i.value===void 0||i.value===null||i.mode===ue.Multi&&Array.isArray(i.value)&&i.value.length===0,c=Oe();return I.createElement(ho.Provider,{value:!0},c({ourProps:s,theirProps:{...r,children:I.createElement(I.Fragment,null,o&&a?o:n)},slot:l,defaultTag:Ui,name:"ListboxSelectedOption"}))}let Ki=Se(Ni),Gi=Se(_i),Yi=Ur,Qi=Se(Vi),Xi=Se(qi),Ji=Se(zi),Ye=Object.assign(Ki,{Button:Gi,Label:Yi,Options:Qi,Option:Xi,SelectedOption:Ji});const Zi=({value:e,onChange:t,options:n=[],placeholder:o="Select option",label:r,error:s,disabled:i=!1})=>{const l=n.find(a=>a.value===e);return m.jsxs("div",{className:"select-wrapper",children:[r&&m.jsx("label",{className:"select-label",children:r}),m.jsx(Ye,{value:e,onChange:t,disabled:i,children:m.jsxs("div",{className:"select-container",children:[m.jsxs(Ye.Button,{className:`select-button ${s?"select-error":""}`,children:[m.jsx("span",{className:"select-value",children:l?.label||o}),m.jsx(wo,{size:16,className:"select-icon"})]}),m.jsx(Xo,{as:d.Fragment,enter:"select-transition-enter",enterFrom:"select-transition-enter-from",enterTo:"select-transition-enter-to",leave:"select-transition-leave",leaveFrom:"select-transition-leave-from",leaveTo:"select-transition-leave-to",children:m.jsx(Ye.Options,{className:"select-dropdown",children:n.map(a=>m.jsx(Ye.Option,{value:a.value,disabled:a.disabled,as:d.Fragment,children:({active:c,selected:f})=>m.jsxs("li",{className:`select-option ${c?"select-option-active":""} ${f?"select-option-selected":""}`,children:[m.jsx("span",{className:"select-option-label",children:a.label}),f&&m.jsx(Co,{size:16,className:"select-option-check"})]})},a.value))})})]})}),s&&m.jsx("div",{className:"select-error-message",children:s})]})},Ve={getSettings:async()=>(await Me.get("/api/v2/acme/settings")).data,updateSettings:async e=>(await Me.patch("/api/v2/acme/settings",e)).data,getStats:async()=>{const t=(await Me.get("/api/v2/acme/stats")).data||{};return{accounts:t.active_accounts||0,activeOrders:t.pending_orders||0,completedOrders:t.valid_orders||0,domains:0,_raw:t}},getAccounts:async(e={})=>{const t=await Me.get("/api/v2/acme/accounts",{params:e}),n=(t.data||[]).map(o=>({id:o.id,email:o.email||o.contact_email||"N/A",status:(o.status||"ACTIVE").toUpperCase(),createdAt:o.created_at?o.created_at.split("T")[0]:"N/A",orders:o.total_orders||0,_raw:o}));return{data:n,meta:t.meta||{page:1,per_page:20,total:n.length}}},getOrders:async(e={})=>{const t=await Me.get("/api/v2/acme/orders",{params:e}),n=(t.data||[]).map(o=>({id:o.id,domain:o.domain||o.identifier||"N/A",account:o.account_email||o.account_id||"N/A",status:(o.status||"PENDING").toUpperCase(),createdAt:o.created_at?o.created_at.split("T")[0]:"N/A",expiresAt:o.expires_at?o.expires_at.split("T")[0]:"N/A",_raw:o}));return{data:n,meta:t.meta||{page:1,per_page:20,total:n.length}}}},re={all:["acme"],settings:()=>[...re.all,"settings"],stats:()=>[...re.all,"stats"],accounts:e=>[...re.all,"accounts",e],orders:e=>[...re.all,"orders",e]},el=()=>it({queryKey:re.settings(),queryFn:Ve.getSettings}),tl=()=>it({queryKey:re.stats(),queryFn:Ve.getStats}),nl=(e={})=>it({queryKey:re.accounts(e),queryFn:()=>Ve.getAccounts(e)}),ol=(e={})=>it({queryKey:re.orders(e),queryFn:()=>Ve.getOrders(e)}),rl=()=>{const e=Eo();return Jo({mutationFn:Ve.updateSettings,onSuccess:()=>{e.invalidateQueries({queryKey:re.settings()})}})};function sl({isOpen:e,onClose:t}){const[n,o]=d.useState({email:"",provider:"letsencrypt",termsAccepted:!1}),[r,s]=d.useState(!1),i=async c=>{if(c.preventDefault(),!n.email){J.error("Email is required");return}if(!n.termsAccepted){J.error("You must accept the terms of service");return}s(!0);try{const f=await fetch("/api/v2/acme/accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email,provider:n.provider,terms_accepted:n.termsAccepted})});if(!f.ok){const p=await f.json();throw new Error(p.message||"Failed to create ACME account")}J.success("ACME account created successfully"),t(),o({email:"",provider:"letsencrypt",termsAccepted:!1}),window.location.reload()}catch(f){J.error(f.message||"Failed to create ACME account")}finally{s(!1)}},l=c=>{const{name:f,value:p,type:g,checked:u}=c.target;o(h=>({...h,[f]:g==="checkbox"?u:p}))},a=m.jsxs(m.Fragment,{children:[m.jsx(ge,{variant:"secondary",onClick:t,disabled:r,children:"Cancel"}),m.jsx(ge,{variant:"primary",onClick:i,disabled:r,children:r?"Creating...":"Create Account"})]});return m.jsx(Rn,{isOpen:e,onClose:t,title:"New ACME Account",size:"sm",footer:a,children:m.jsx("form",{onSubmit:i,className:z.form,children:m.jsxs("div",{className:z.section,children:[m.jsxs("div",{className:z.field,children:[m.jsx("label",{className:z.label,children:"Provider"}),m.jsxs("select",{name:"provider",value:n.provider,onChange:l,className:z.select,children:[m.jsx("option",{value:"letsencrypt",children:"Let's Encrypt"}),m.jsx("option",{value:"letsencrypt-staging",children:"Let's Encrypt (Staging)"}),m.jsx("option",{value:"buypass",children:"Buypass"}),m.jsx("option",{value:"zerossl",children:"ZeroSSL"})]}),m.jsx("p",{className:z.helpText,children:"Let's Encrypt is recommended for production use"})]}),m.jsx(An,{label:"Email Address",name:"email",type:"email",value:n.email,onChange:l,placeholder:"admin@example.com",required:!0,helpText:"Used for certificate expiry notifications and account recovery"}),m.jsx("div",{className:z.field,children:m.jsxs("label",{className:z.checkboxLabel,children:[m.jsx("input",{type:"checkbox",name:"termsAccepted",checked:n.termsAccepted,onChange:l,className:z.checkbox}),m.jsxs("span",{children:["I agree to the"," ",m.jsx("a",{href:n.provider==="letsencrypt"?"https://letsencrypt.org/repository/":"#",target:"_blank",rel:"noopener noreferrer",className:z.link,children:n.provider==="letsencrypt"?"Let's Encrypt Subscriber Agreement":"Terms of Service"})]})]})})]})})})}function il({isOpen:e,onClose:t}){const[n,o]=d.useState({domains:"",challengeType:"http-01"}),[r,s]=d.useState(!1),i=async c=>{if(c.preventDefault(),!n.domains.trim()){J.error("At least one domain is required");return}const f=n.domains.split(",").map(p=>p.trim()).filter(Boolean);if(f.length===0){J.error("Please enter valid domains");return}s(!0);try{const p=await fetch("/api/v2/acme/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({domains:f,challenge_type:n.challengeType})});if(!p.ok){const g=await p.json();throw new Error(g.message||"Failed to create ACME order")}J.success("ACME order created successfully"),t(),o({domains:"",challengeType:"http-01"}),window.location.reload()}catch(p){J.error(p.message||"Failed to create ACME order")}finally{s(!1)}},l=c=>{o(f=>({...f,[c.target.name]:c.target.value}))},a=m.jsxs(m.Fragment,{children:[m.jsx(ge,{variant:"secondary",onClick:t,disabled:r,children:"Cancel"}),m.jsx(ge,{variant:"primary",onClick:i,disabled:r,children:r?"Creating...":"Create Order"})]});return m.jsx(Rn,{isOpen:e,onClose:t,title:"New ACME Order",size:"md",footer:a,children:m.jsxs("form",{onSubmit:i,className:z.form,children:[m.jsxs("div",{className:z.section,children:[m.jsx(An,{label:"Domains",name:"domains",value:n.domains,onChange:l,placeholder:"example.com, www.example.com, *.example.com",required:!0,helpText:"Comma-separated list of domains to include in the certificate"}),m.jsxs("div",{className:z.field,children:[m.jsx("label",{className:z.label,children:"Challenge Type"}),m.jsxs("select",{name:"challengeType",value:n.challengeType,onChange:l,className:z.select,children:[m.jsx("option",{value:"http-01",children:"HTTP-01 (Port 80)"}),m.jsx("option",{value:"dns-01",children:"DNS-01 (DNS TXT Record)"}),m.jsx("option",{value:"tls-alpn-01",children:"TLS-ALPN-01 (Port 443)"})]}),m.jsxs("p",{className:z.helpText,children:[n.challengeType==="http-01"&&"Requires HTTP server on port 80. Best for single domains.",n.challengeType==="dns-01"&&"Requires DNS access. Required for wildcard certificates.",n.challengeType==="tls-alpn-01"&&"Requires TLS server on port 443. Alternative to HTTP-01."]})]})]}),m.jsxs("div",{className:z.infoBox,children:[m.jsx("i",{className:"ph ph-info"}),m.jsxs("div",{children:[m.jsx("strong",{children:"Next Steps:"}),m.jsxs("ol",{style:{marginTop:"8px",paddingLeft:"20px"},children:[m.jsx("li",{children:"Order will be created and authorizations started"}),m.jsxs("li",{children:["Complete the ",n.challengeType.toUpperCase()," challenge for each domain"]}),m.jsx("li",{children:"Certificate will be issued automatically upon validation"})]})]})]})]})})}const ll="_acmeDashboard_hqdt5_3",al="_tabContent_hqdt5_8",cl="_settingsCard_hqdt5_14",ul="_settingsTitle_hqdt5_21",dl="_settingsContent_hqdt5_30",fl="_settingRow_hqdt5_36",pl="_settingLabel_hqdt5_43",ml="_settingHint_hqdt5_49",gl="_caSelectedInfo_hqdt5_56",hl="_urlCode_hqdt5_102",vl="_section_hqdt5_115",bl="_sectionTitle_hqdt5_121",M={acmeDashboard:ll,tabContent:al,settingsCard:cl,settingsTitle:ul,settingsContent:dl,settingRow:fl,settingLabel:pl,settingHint:ml,caSelectedInfo:gl,urlCode:hl,section:vl,sectionTitle:bl};function Pl(){const[e,t]=d.useState("internal"),[n,o]=d.useState(!1),[r,s]=d.useState(!1),{data:i,isLoading:l,error:a}=el(),{data:c,isLoading:f,error:p}=tl(),{data:g,isLoading:u,error:h}=nl(),{data:v,isLoading:b,error:x}=ol(),{data:E,isLoading:y}=Zo(),C=rl(),S=l||f||u||b,O=a||p||h||x,L=[{key:"email",label:"Email",sortable:!0},{key:"status",label:"Status",sortable:!0,render:w=>m.jsx(ke,{variant:Yt("acme-status",w.status),children:w.status})},{key:"createdAt",label:"Created At",sortable:!0},{key:"orders",label:"Orders",sortable:!0,render:w=>m.jsx("span",{style:{color:"var(--text-tertiary)"},children:w.orders})}],P=[{key:"domain",label:"Domain",sortable:!0},{key:"account",label:"Account",sortable:!0},{key:"status",label:"Status",sortable:!0,render:w=>m.jsx(ke,{variant:Yt("acme-status",w.status),children:w.status})},{key:"createdAt",label:"Created",sortable:!0},{key:"expiresAt",label:"Expires",sortable:!0}],_=[{label:"Status",options:["All Statuses","Valid","Pending","Invalid"]}];if(S)return m.jsxs("div",{className:M.acmeDashboard,children:[m.jsx(ht,{icon:"ph ph-globe",title:"ACME",badge:m.jsx(ke,{variant:"neutral",children:"Loading..."})}),m.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading ACME data..."})]});if(O)return m.jsxs("div",{className:M.acmeDashboard,children:[m.jsx(ht,{icon:"ph ph-globe",title:"ACME",badge:m.jsx(ke,{variant:"danger",children:"Error"})}),m.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"var(--color-danger)"},children:["Error loading ACME data: ",O.message]})]});const $={stats:c||{accounts:0,activeOrders:0,completedOrders:0,domains:0},accounts:g?.data||[],orders:v?.data||[]},R=[{value:"",label:"Select issuing CA..."},...(E?.data||[]).map(w=>({value:w._raw?.refid||w.id,label:w.name||w._raw?.common_name||"Unnamed CA"}))],D=w=>{C.mutate({issuing_ca_id:w},{onSuccess:()=>J.success("Issuing CA updated"),onError:()=>J.error("Failed to update issuing CA")})},N=()=>m.jsxs("div",{className:M.tabContent,children:[m.jsxs("div",{className:M.settingsCard,children:[m.jsxs("h3",{className:M.settingsTitle,children:[m.jsx("i",{className:"ph ph-gear",style:{marginRight:"0.5rem"}}),"Internal ACME Server Configuration"]}),m.jsxs("div",{className:M.settingsContent,children:[m.jsxs("div",{className:M.settingRow,children:[m.jsx("label",{className:M.settingLabel,children:"Directory URL:"}),m.jsxs("code",{className:M.urlCode,children:[window.location.origin,"/acme/directory"]})]}),m.jsxs("div",{className:M.settingRow,children:[m.jsx("label",{className:M.settingLabel,children:"Issuing CA:"}),m.jsxs("div",{style:{flex:1},children:[m.jsx(Zi,{value:i?.issuing_ca_id||"",onChange:D,options:R,disabled:y,placeholder:"Select issuing CA..."}),i?.issuing_ca_name&&m.jsxs("div",{className:M.caSelectedInfo,children:[m.jsx("i",{className:"ph ph-check-circle",style:{color:"var(--color-success)",marginRight:"0.5rem"}}),"Currently using: ",m.jsx("strong",{children:i.issuing_ca_name})]})]})]})]})]}),m.jsxs(Bt,{columns:4,children:[m.jsx(ce,{value:$.stats.accounts,label:"Accounts",icon:"ph ph-user"}),m.jsx(ce,{value:$.stats.activeOrders,label:"Active Orders",icon:"ph ph-clock"}),m.jsx(ce,{value:$.stats.completedOrders,label:"Completed Orders",icon:"ph ph-check-circle"}),m.jsx(ce,{value:$.stats.domains,label:"Domains",icon:"ph ph-globe"})]}),m.jsxs("div",{className:M.section,children:[m.jsx("h3",{className:M.sectionTitle,children:"Accounts"}),m.jsx(Wt,{placeholder:"Search accounts...",filters:_,onSearch:w=>console.log("Search:",w),onFilterChange:(w,F)=>console.log("Filter:",w,F)}),m.jsx(We,{columns:L,data:$.accounts,onRowClick:w=>console.log("Account clicked:",w)})]}),m.jsxs("div",{className:M.section,children:[m.jsx("h3",{className:M.sectionTitle,children:"Recent Orders"}),m.jsx(We,{columns:P,data:$.orders,onRowClick:w=>console.log("Order clicked:",w)})]})]}),k=()=>m.jsxs("div",{className:M.tabContent,children:[m.jsxs("div",{className:M.settingsCard,children:[m.jsxs("h3",{className:M.settingsTitle,children:[m.jsx("i",{className:"ph ph-link",style:{marginRight:"0.5rem"}}),"Let's Encrypt Proxy Configuration"]}),m.jsxs("div",{className:M.settingsContent,children:[m.jsxs("div",{className:M.settingRow,children:[m.jsx("label",{className:M.settingLabel,children:"Proxy Directory URL:"}),m.jsxs("code",{className:M.urlCode,children:[window.location.origin,"/acme/proxy/directory"]})]}),m.jsx("div",{className:M.settingHint,children:"This proxy allows you to use Let's Encrypt through UCM while maintaining audit trails and control."})]})]}),m.jsxs(Bt,{columns:4,children:[m.jsx(ce,{value:$.stats.accounts,label:"Accounts",icon:"ph ph-user"}),m.jsx(ce,{value:$.stats.activeOrders,label:"Active Orders",icon:"ph ph-clock"}),m.jsx(ce,{value:$.stats.completedOrders,label:"Completed Orders",icon:"ph ph-check-circle"}),m.jsx(ce,{value:$.stats.domains,label:"Domains",icon:"ph ph-globe"})]}),m.jsxs("div",{className:M.section,children:[m.jsx("h3",{className:M.sectionTitle,children:"Accounts"}),m.jsx(Wt,{placeholder:"Search accounts...",filters:_,onSearch:w=>console.log("Search:",w),onFilterChange:(w,F)=>console.log("Filter:",w,F)}),m.jsx(We,{columns:L,data:$.accounts,onRowClick:w=>console.log("Account clicked:",w)})]}),m.jsxs("div",{className:M.section,children:[m.jsx("h3",{className:M.sectionTitle,children:"Recent Orders"}),m.jsx(We,{columns:P,data:$.orders,onRowClick:w=>console.log("Order clicked:",w)})]})]});return m.jsxs("div",{className:M.acmeDashboard,children:[m.jsx(ht,{icon:"ph ph-globe",title:"ACME",badge:m.jsx(ke,{variant:i?.enabled?"success":"secondary",children:i?.enabled?"Enabled":"Disabled"}),actions:m.jsxs(m.Fragment,{children:[m.jsx(ge,{onClick:()=>o(!0),icon:"ph ph-plus",children:"New Account"}),m.jsx(ge,{onClick:()=>s(!0),icon:"ph ph-certificate",children:"New Order"}),m.jsxs(ge,{variant:i?.enabled?"secondary":"primary",onClick:()=>{C.mutate({enabled:!i?.enabled},{onSuccess:()=>J.success(i?.enabled?"ACME disabled":"ACME enabled"),onError:()=>J.error("Failed to update ACME")})},children:[i?.enabled?"Disable":"Enable"," ACME"]})]})}),m.jsxs($o,{children:[m.jsx(Vt,{active:e==="internal",onClick:()=>t("internal"),children:"Internal ACME"}),m.jsx(Vt,{active:e==="letsencrypt",onClick:()=>t("letsencrypt"),children:"Let's Encrypt"})]}),m.jsx("div",{className:M.tabContent,children:e==="internal"?N():k()}),m.jsx(sl,{isOpen:n,onClose:()=>o(!1)}),m.jsx(il,{isOpen:r,onClose:()=>s(!1)})]})}export{Pl as ACMEDashboard,Pl as default};
