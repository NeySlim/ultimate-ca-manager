import{r as a,p as j,j as e,i as P,k as x,h as g}from"./index-qRzKqHpr.js";import{n as M}from"./Clock.es-BvDKEmge.js";import{n as b,a as y}from"./Trash.es-CAaUlvKf.js";import{n as N}from"./Key.es-4Jvbw2TL.js";import{f as q}from"./MagnifyingGlass.es-DjhPmpTG.js";import{T as Q}from"./Table-C8WOkKk5.js";import{S as h,B as u}from"./Stack-cJ82gbg8.js";import{I as p,S as H}from"./Select-B-7ZBeJO.js";import{B as I}from"./Badge-DsMNPsgr.js";import{G as J,a as w}from"./GradientBadge-CBXzLV_s.js";import{C as E}from"./Card-DP2O2sMW.js";import{I as m}from"./Inline-B7-Fdfl2.js";import{G as L}from"./Grid-DlnCuwNp.js";import{M as z}from"./Modal-1TCfrLh8.js";import{D as W}from"./Dropdown-BInfWFsI.js";import{A as K}from"./Alert-COAMCkYg.js";import{E as X}from"./EmptyState-BXoBV4Lu.js";import{u as Y}from"./useUsers-B1bhUKVA.js";import"./Checkbox-CU4AWxzq.js";import"./Skeleton-D3IKeGCX.js";import"./index-Gg_cCWSY.js";import"./useQuery-BTYUFOaa.js";import"./useMutation-DcMyPSfU.js";const ee=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z",opacity:"0.2"}),a.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"}))]]),ae=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,44H32A12,12,0,0,0,20,56V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A12,12,0,0,0,224,44Zm-96,83.72L62.85,68h130.3ZM92.79,128,44,172.72V83.28Zm17.76,16.28,9.34,8.57a12,12,0,0,0,16.22,0l9.34-8.57L193.15,188H62.85ZM163.21,128,212,83.28v89.44Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,56l-96,88L32,56Z",opacity:"0.2"}),a.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,50H32a6,6,0,0,0-6,6V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A6,6,0,0,0,224,50Zm-96,85.86L47.42,62H208.58ZM101.67,128,38,186.36V69.64Zm8.88,8.14L124,148.42a6,6,0,0,0,8.1,0l13.4-12.28L208.58,194H47.43ZM154.33,128,218,69.64V186.36Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,52H32a4,4,0,0,0-4,4V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A4,4,0,0,0,224,52Zm-96,86.57L42.28,60H213.72ZM104.63,128,36,190.91V65.09Zm5.92,5.43L125.3,147a4,4,0,0,0,5.4,0l14.75-13.52L213.72,196H42.28ZM151.37,128,220,65.09V190.91Z"}))]]),te=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M116,132V96a12,12,0,0,1,24,0v36a12,12,0,0,1-24,0Zm12,56a16,16,0,1,0-16-16A16,16,0,0,0,128,188ZM228,56v56c0,54.29-26.32,87.22-48.4,105.29-23.71,19.39-47.44,26-48.44,26.29a12.1,12.1,0,0,1-6.32,0c-1-.28-24.73-6.9-48.44-26.29C54.32,199.22,28,166.29,28,112V56A20,20,0,0,1,48,36H208A20,20,0,0,1,228,56Zm-24,4H52v52c0,35.71,13.09,64.69,38.91,86.15A126.14,126.14,0,0,0,128,219.38a126.28,126.28,0,0,0,37.09-21.23C190.91,176.69,204,147.71,204,112Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,56v56c0,96-88,120-88,120S40,208,40,112V56a8,8,0,0,1,8-8H208A8,8,0,0,1,216,56Z",opacity:"0.2"}),a.createElement("path",{d:"M120,136V96a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,48a12,12,0,1,0-12-12A12,12,0,0,0,128,184ZM224,56v56c0,52.72-25.52,84.67-46.93,102.19-23.06,18.86-46,25.27-47,25.53a8,8,0,0,1-4.2,0c-1-.26-23.91-6.67-47-25.53C57.52,196.67,32,164.72,32,112V56A16,16,0,0,1,48,40H208A16,16,0,0,1,224,56Zm-16,0L48,56l0,56c0,37.3,13.82,67.51,41.07,89.81A128.25,128.25,0,0,0,128,223.62a129.3,129.3,0,0,0,39.41-22.2C194.34,179.16,208,149.07,208,112Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M208,40H48A16,16,0,0,0,32,56v56c0,52.72,25.52,84.67,46.93,102.19,23.06,18.86,46,25.27,47,25.53a8,8,0,0,0,4.2,0c1-.26,23.91-6.67,47-25.53C198.48,196.67,224,164.72,224,112V56A16,16,0,0,0,208,40ZM120,96a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M122,136V96a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm6,26a10,10,0,1,0,10,10A10,10,0,0,0,128,162ZM222,56v56c0,51.94-25.12,83.4-46.2,100.64-22.73,18.6-45.27,24.89-46.22,25.15a6,6,0,0,1-3.16,0c-1-.26-23.49-6.55-46.22-25.15C59.12,195.4,34,163.94,34,112V56A14,14,0,0,1,48,42H208A14,14,0,0,1,222,56Zm-12,0a2,2,0,0,0-2-2H48a2,2,0,0,0-2,2v56c0,37.75,13.94,68.39,41.44,91.06A130.94,130.94,0,0,0,128,225.72a131.17,131.17,0,0,0,40.56-22.66C196.06,180.39,210,149.75,210,112Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M120,136V96a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,48a12,12,0,1,0-12-12A12,12,0,0,0,128,184ZM224,56v56c0,52.72-25.52,84.67-46.93,102.19-23.06,18.86-46,25.27-47,25.53a8,8,0,0,1-4.2,0c-1-.26-23.91-6.67-47-25.53C57.52,196.67,32,164.72,32,112V56A16,16,0,0,1,48,40H208A16,16,0,0,1,224,56Zm-16,0L48,56l0,56c0,37.3,13.82,67.51,41.07,89.81A128.25,128.25,0,0,0,128,223.62a129.3,129.3,0,0,0,39.41-22.2C194.34,179.16,208,149.07,208,112Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M124,136V96a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm4,28a8,8,0,1,0,8,8A8,8,0,0,0,128,164ZM220,56v56c0,51.16-24.73,82.12-45.47,99.1-22.4,18.32-44.55,24.5-45.48,24.76a4,4,0,0,1-2.1,0c-.93-.26-23.08-6.44-45.48-24.76C60.73,194.12,36,163.16,36,112V56A12,12,0,0,1,48,44H208A12,12,0,0,1,220,56Zm-8,0a4,4,0,0,0-4-4H48a4,4,0,0,0-4,4v56c0,38.44,14.23,69.63,42.29,92.71A132.23,132.23,0,0,0,128,227.82a132.45,132.45,0,0,0,41.71-23.11C197.77,181.63,212,150.44,212,112Z"}))]]),se=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M256,136a12,12,0,0,1-12,12h-8v8a12,12,0,0,1-24,0v-8h-8a12,12,0,0,1,0-24h8v-8a12,12,0,0,1,24,0v8h8A12,12,0,0,1,256,136Zm-54.81,56.28a12,12,0,1,1-18.38,15.44C169.12,191.42,145,172,108,172c-28.89,0-55.46,12.68-74.81,35.72a12,12,0,0,1-18.38-15.44A124.08,124.08,0,0,1,63.5,156.53a72,72,0,1,1,89,0A124,124,0,0,1,201.19,192.28ZM108,148a48,48,0,1,0-48-48A48.05,48.05,0,0,0,108,148Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M168,100a60,60,0,1,1-60-60A60,60,0,0,1,168,100Z",opacity:"0.2"}),a.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136Zm-57.87,58.85a8,8,0,0,1-12.26,10.3C165.75,181.19,138.09,168,108,168s-57.75,13.19-77.87,37.15a8,8,0,0,1-12.25-10.3c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,164.44,183.18,177.07,198.13,194.85ZM108,152a52,52,0,1,0-52-52A52.06,52.06,0,0,0,108,152Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136ZM144,157.68a68,68,0,1,0-71.9,0c-20.65,6.76-39.23,19.39-54.17,37.17A8,8,0,0,0,24,208H192a8,8,0,0,0,6.13-13.15C183.18,177.07,164.6,164.44,144,157.68Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M254,136a6,6,0,0,1-6,6H230v18a6,6,0,0,1-12,0V142H200a6,6,0,0,1,0-12h18V112a6,6,0,0,1,12,0v18h18A6,6,0,0,1,254,136Zm-57.41,60.14a6,6,0,1,1-9.18,7.72C166.9,179.45,138.69,166,108,166s-58.89,13.45-79.41,37.86a6,6,0,0,1-9.18-7.72C35.14,177.41,55,164.48,77,158.25a66,66,0,1,1,62,0C161,164.48,180.86,177.41,196.59,196.14ZM108,154a54,54,0,1,0-54-54A54.06,54.06,0,0,0,108,154Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M256,136a8,8,0,0,1-8,8H232v16a8,8,0,0,1-16,0V144H200a8,8,0,0,1,0-16h16V112a8,8,0,0,1,16,0v16h16A8,8,0,0,1,256,136Zm-57.87,58.85a8,8,0,0,1-12.26,10.3C165.75,181.19,138.09,168,108,168s-57.75,13.19-77.87,37.15a8,8,0,0,1-12.25-10.3c14.94-17.78,33.52-30.41,54.17-37.17a68,68,0,1,1,71.9,0C164.6,164.44,183.18,177.07,198.13,194.85ZM108,152a52,52,0,1,0-52-52A52.06,52.06,0,0,0,108,152Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M252,136a4,4,0,0,1-4,4H228v20a4,4,0,0,1-8,0V140H200a4,4,0,0,1,0-8h20V112a4,4,0,0,1,8,0v20h20A4,4,0,0,1,252,136Zm-56.94,61.43a4,4,0,0,1-6.12,5.14C168,177.7,139.3,164,108,164s-60,13.7-80.94,38.57a4,4,0,1,1-6.12-5.14c16.71-19.9,38.13-33.13,61.89-38.59a64,64,0,1,1,50.34,0C156.93,164.3,178.35,177.53,195.06,197.43ZM108,156a56,56,0,1,0-56-56A56.06,56.06,0,0,0,108,156Z"}))]]),F=a.forwardRef((l,c)=>a.createElement(j,{ref:c,...l,weights:ee}));F.displayName="DotsThreeIcon";const le=F,S=a.forwardRef((l,c)=>a.createElement(j,{ref:c,...l,weights:ae}));S.displayName="EnvelopeIcon";const ne=S,U=a.forwardRef((l,c)=>a.createElement(j,{ref:c,...l,weights:te}));U.displayName="ShieldWarningIcon";const C=U,D=a.forwardRef((l,c)=>a.createElement(j,{ref:c,...l,weights:se}));D.displayName="UserPlusIcon";const R=D,ie="_container_8cd85_1",re="_header_8cd85_7",ce="_title_8cd85_14",oe="_subtitle_8cd85_21",me="_userAvatarSmall_8cd85_28",de="_tableUserName_8cd85_40",he="_tableUserEmail_8cd85_47",ue="_lastLogin_8cd85_52",ve="_created_8cd85_53",pe="_label_8cd85_59",xe="_roleCard_8cd85_67",je="_roleIcon_8cd85_82",ge="_roleLabel_8cd85_104",fe="_roleDescription_8cd85_111",_e="_roleRadio_8cd85_116",Ae="_userAvatar_8cd85_28",Ze="_userName_8cd85_134",Me="_userEmail_8cd85_141",be="_tabs_8cd85_146",Ee="_tab_8cd85_40",Ne="_infoItem_8cd85_174",we="_infoLabel_8cd85_180",Ce="_infoValue_8cd85_189",Ve="_timeline_8cd85_196",He="_timelineItem_8cd85_202",ye="_timelineDot_8cd85_218",Ie="_timelineContent_8cd85_222",Le="_timelineMessage_8cd85_227",ze="_timelineMeta_8cd85_233",Fe="_permName_8cd85_242",Se="_permDesc_8cd85_249",t={container:ie,header:re,title:ce,subtitle:oe,userAvatarSmall:me,tableUserName:de,tableUserEmail:he,lastLogin:ue,created:ve,label:pe,roleCard:xe,roleIcon:je,roleLabel:ge,roleDescription:fe,roleRadio:_e,userAvatar:Ae,userName:Ze,userEmail:Me,tabs:be,tab:Ee,infoItem:Ne,infoLabel:we,infoValue:Ce,timeline:Ve,timelineItem:He,timelineDot:ye,timelineContent:Ie,timelineMessage:Le,timelineMeta:ze,permName:Fe,permDesc:Se};function Ue({isOpen:l,onClose:c,onInvite:o}){const[i,r]=a.useState({email:"",firstName:"",lastName:"",role:"viewer"}),v=n=>{n.preventDefault(),o?.(i),r({email:"",firstName:"",lastName:"",role:"viewer"})},d=[{value:"admin",label:"Administrator",description:"Full system access",icon:e.jsx(g,{size:20}),color:"danger"},{value:"operator",label:"Operator",description:"Can manage CAs and certificates",icon:e.jsx(C,{size:20}),color:"warning"},{value:"viewer",label:"Viewer",description:"Read-only access",icon:e.jsx(b,{size:20}),color:"info"}];return e.jsx(z,{isOpen:l,onClose:c,size:"md",title:"Invite User",children:e.jsx("form",{onSubmit:v,children:e.jsxs(h,{gap:"lg",children:[e.jsx(K,{variant:"info",children:"An invitation email will be sent to the user with instructions to set up their account."}),e.jsxs(h,{gap:"md",children:[e.jsx(p,{label:"Email Address",type:"email",placeholder:"user@example.com",value:i.email,onChange:n=>r({...i,email:n.target.value}),required:!0,leftIcon:e.jsx(ne,{size:18})}),e.jsxs(L,{cols:2,gap:"md",children:[e.jsx(p,{label:"First Name",placeholder:"John",value:i.firstName,onChange:n=>r({...i,firstName:n.target.value}),required:!0}),e.jsx(p,{label:"Last Name",placeholder:"Doe",value:i.lastName,onChange:n=>r({...i,lastName:n.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:t.label,children:"Role"}),e.jsx(h,{gap:"sm",children:d.map(n=>e.jsx(E,{hoverable:!0,className:t.roleCard,"data-selected":i.role===n.value,onClick:()=>r({...i,role:n.value}),children:e.jsxs(m,{gap:"md",align:"center",children:[e.jsx("div",{className:t.roleIcon,"data-color":n.color,children:n.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{className:t.roleLabel,children:n.label}),e.jsx("div",{className:t.roleDescription,children:n.description})]}),e.jsx("div",{className:t.roleRadio,children:e.jsx("input",{type:"radio",name:"role",value:n.value,checked:i.role===n.value,onChange:()=>r({...i,role:n.value})})})]})},n.value))})]})]}),e.jsxs(m,{gap:"sm",justify:"end",children:[e.jsx(u,{variant:"ghost",onClick:c,children:"Cancel"}),e.jsx(u,{variant:"primary",type:"submit",leftIcon:e.jsx(R,{size:18}),children:"Send Invitation"})]})]})})})}function De({activities:l=[]}){const c=i=>{switch(i){case"certificate_issued":return e.jsx(g,{size:16,weight:"fill"});case"certificate_revoked":return e.jsx(C,{size:16,weight:"fill"});case"login":return e.jsx(x,{size:16,weight:"fill"});case"settings_changed":return e.jsx(N,{size:16,weight:"fill"});default:return e.jsx(M,{size:16,weight:"fill"})}},o=i=>{switch(i){case"certificate_issued":return"success";case"certificate_revoked":return"warning";case"login":return"info";case"settings_changed":return"primary";default:return"default"}};return!l||l.length===0?e.jsx(X,{icon:e.jsx(M,{size:48}),title:"No recent activity",description:"User activity will appear here"}):e.jsx("div",{className:t.timeline,children:l.map((i,r)=>e.jsxs("div",{className:t.timelineItem,children:[e.jsx("div",{className:t.timelineDot,children:e.jsx(w,{variant:o(i.type),size:"sm",children:c(i.type)})}),e.jsxs("div",{className:t.timelineContent,children:[e.jsx("div",{className:t.timelineMessage,children:i.message}),e.jsxs("div",{className:t.timelineMeta,children:[e.jsx(M,{size:12}),e.jsx("span",{children:i.timestamp})]})]})]},r))})}function Re({user:l,isOpen:c,onClose:o}){if(!l)return null;const i=["Overview","Activity","Permissions"],[r,v]=a.useState("Overview"),d={admin:"danger",operator:"warning",viewer:"info"};return e.jsx(z,{isOpen:c,onClose:o,size:"lg",title:`${l.first_name} ${l.last_name}`,children:e.jsxs(h,{gap:"lg",children:[e.jsx(E,{children:e.jsxs(m,{gap:"md",align:"center",children:[e.jsx("div",{className:t.userAvatar,children:e.jsx(x,{size:32,weight:"bold"})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{className:t.userName,children:[l.first_name," ",l.last_name]}),e.jsx("div",{className:t.userEmail,children:l.email})]}),e.jsx(w,{variant:d[l.role],size:"md",children:l.role})]})}),e.jsx("div",{className:t.tabs,children:i.map(n=>e.jsx("button",{className:t.tab,"data-active":r===n,onClick:()=>v(n),children:n},n))}),r==="Overview"&&e.jsx(h,{gap:"md",children:e.jsxs(L,{cols:2,gap:"md",children:[e.jsxs("div",{className:t.infoItem,children:[e.jsx("div",{className:t.infoLabel,children:"Status"}),e.jsx(I,{variant:l.status==="active"?"success":"danger",children:l.status})]}),e.jsxs("div",{className:t.infoItem,children:[e.jsx("div",{className:t.infoLabel,children:"Created"}),e.jsx("div",{className:t.infoValue,children:l.created_at})]}),e.jsxs("div",{className:t.infoItem,children:[e.jsx("div",{className:t.infoLabel,children:"Last Login"}),e.jsx("div",{className:t.infoValue,children:l.last_login||"Never"})]}),e.jsxs("div",{className:t.infoItem,children:[e.jsx("div",{className:t.infoLabel,children:"Certificates Issued"}),e.jsx("div",{className:t.infoValue,children:l.certificates_issued||0})]})]})}),r==="Activity"&&e.jsx(De,{activities:l.activities}),r==="Permissions"&&e.jsx(h,{gap:"sm",children:l.permissions?.map((n,f)=>e.jsx(E,{children:e.jsxs(m,{gap:"sm",align:"center",children:[e.jsx(g,{size:20,weight:"duotone"}),e.jsxs("div",{children:[e.jsx("div",{className:t.permName,children:n.name}),e.jsx("div",{className:t.permDesc,children:n.description})]})]})},f))||e.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"No specific permissions"})}),e.jsxs(m,{gap:"sm",justify:"end",children:[e.jsx(u,{variant:"secondary",leftIcon:e.jsx(N,{size:18}),children:"Reset Password"}),e.jsx(u,{variant:"danger",leftIcon:e.jsx(y,{size:18}),children:"Remove User"})]})]})})}function o1(){const{data:l,isLoading:c}=Y(),[o,i]=a.useState(""),[r,v]=a.useState("all"),[d,n]=a.useState("all"),[f,_]=a.useState(!1),[k,V]=a.useState(null),[$,A]=a.useState(!1),O=s=>{console.log("Invite user:",s),_(!1)},T=s=>{switch(s){case"admin":return e.jsx(g,{size:16,weight:"fill"});case"operator":return e.jsx(C,{size:16,weight:"fill"});case"viewer":return e.jsx(b,{size:16,weight:"fill"});default:return e.jsx(x,{size:16})}},B=s=>{switch(s){case"admin":return"danger";case"operator":return"warning";case"viewer":return"info";default:return"default"}},Z=l?.filter(s=>!(o&&!`${s.first_name} ${s.last_name} ${s.email}`.toLowerCase().includes(o.toLowerCase())||r!=="all"&&s.role!==r||d!=="all"&&s.status!==d)),G=[{key:"name",label:"User",sortable:!0,width:"25%",render:s=>e.jsxs(m,{gap:"sm",align:"center",children:[e.jsx("div",{className:t.userAvatarSmall,children:e.jsx(x,{size:20,weight:"bold"})}),e.jsxs("div",{children:[e.jsxs("div",{className:t.tableUserName,children:[s.first_name," ",s.last_name]}),e.jsx("div",{className:t.tableUserEmail,children:s.email})]})]})},{key:"role",label:"Role",sortable:!0,width:"15%",render:s=>e.jsx(w,{variant:B(s.role),size:"sm",children:e.jsxs(m,{gap:"xs",align:"center",children:[T(s.role),e.jsx("span",{children:s.role})]})})},{key:"status",label:"Status",sortable:!0,width:"12%",render:s=>e.jsx(I,{variant:s.status==="active"?"success":"danger",children:s.status})},{key:"last_login",label:"Last Login",sortable:!0,width:"18%",render:s=>e.jsx("div",{className:t.lastLogin,children:s.last_login||"Never"})},{key:"created_at",label:"Created",sortable:!0,width:"15%",render:s=>e.jsx("div",{className:t.created,children:s.created_at})},{key:"actions",label:"",width:"10%",render:s=>e.jsx(W,{items:[{label:"View Details",icon:e.jsx(b,{size:16}),onClick:()=>{V(s),A(!0)}},{label:"Reset Password",icon:e.jsx(N,{size:16}),onClick:()=>{}},{type:"divider"},{label:"Remove",icon:e.jsx(y,{size:16}),onClick:()=>{},variant:"danger"}],children:e.jsx(u,{variant:"ghost",size:"sm",children:e.jsx(le,{size:20,weight:"bold"})})})}];return e.jsxs("div",{className:t.container,children:[e.jsxs(h,{gap:"xl",children:[e.jsxs("div",{className:t.header,children:[e.jsxs("div",{children:[e.jsx("h1",{className:t.title,children:"Users"}),e.jsxs("p",{className:t.subtitle,children:[Z?.length||0," user",Z?.length!==1?"s":""]})]}),e.jsx(u,{variant:"primary",leftIcon:e.jsx(R,{size:20,weight:"bold"}),onClick:()=>_(!0),children:"Invite User"})]}),e.jsx(J,{blur:"md",children:e.jsxs(m,{gap:"sm",children:[e.jsx(p,{placeholder:"Search users...",leftIcon:e.jsx(q,{size:18}),value:o,onChange:s=>i(s.target.value),style:{width:"300px"}}),e.jsxs(H,{value:r,onChange:s=>v(s.target.value),style:{width:"150px"},children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"operator",children:"Operator"}),e.jsx("option",{value:"viewer",children:"Viewer"})]}),e.jsxs(H,{value:d,onChange:s=>n(s.target.value),style:{width:"150px"},children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),e.jsx(Q,{columns:G,data:Z||[],isLoading:c,selectable:!0,striped:!0,hoverable:!0,onRowClick:s=>{V(s),A(!0)},emptyMessage:"No users found",emptyIcon:e.jsx(P,{size:64})})]}),e.jsx(Ue,{isOpen:f,onClose:()=>_(!1),onInvite:O}),e.jsx(Re,{user:k,isOpen:$,onClose:()=>A(!1)})]})}export{o1 as UserListV3,o1 as default};
